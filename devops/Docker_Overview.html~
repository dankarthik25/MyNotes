<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-02-27 Mon 11:41 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Docker Overview</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="D Karthik" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="icon" type="image/png" href="https://deepalgorithms.in/images/favicon.png">
<link rel="stylesheet" type="text/css" href="/home/jayradhey/mynotes/org2html/org-theme-collection/readtheorg-htmlize.css"/>
<link rel="stylesheet" type="text/css" href="/home/jayradhey/mynotes/org2html/org-theme-collection/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Docker Overview</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org90f9bc2">docker image  CMDS</a></li>
<li><a href="#orgdcb18fd">docker container cmd's</a></li>
<li><a href="#org62a788c">docker container Status cmdb</a></li>
<li><a href="#org506b6d8">docker volume cmd</a></li>
<li><a href="#orgffa3ee0">docker import/export cmd</a></li>
<li><a href="#orgaf9aa1a">Docker Build Cmd</a></li>
<li><a href="#org0fbf7dd">Docker Link cmd</a></li>
<li><a href="#org132604f">Compose cmds</a></li>
<li><a href="#org4404112">Swarm cmds</a>
<ul>
<li><a href="#orgc9c6f7e">Docker Swarm cmd</a></li>
<li><a href="#org6493b8d">Services cmds</a></li>
<li><a href="#orge87c542">Node cmd</a></li>
</ul>
</li>
<li><a href="#org4672e90">Docker Stack cmd</a></li>
<li><a href="#org161f713">Networking cmd's</a></li>
<li><a href="#org10fef08">Docker secret cmd's</a></li>
</ul>
</li>
<li><a href="#orge5ebb3c">DockerFile</a></li>
<li><a href="#orgb6a4d52">Docker Yaml file</a></li>
<li><a href="#org2f1aa6f">Examples</a>
<ul>
<li><a href="#org3329af6">Docker Compose Example with volume</a></li>
<li><a href="#org41def7b">Docker Compose File</a></li>
<li><a href="#orga60a54f">Docker File</a></li>
<li><a href="#org68acc90">Networking Example2</a></li>
<li><a href="#org4e8eeb4">Networking Example</a></li>
</ul>
</div>
</div>

<div id="outline-container-org90f9bc2" class="outline-3">
<h3 id="org90f9bc2">docker image  CMDS</h3>
<div class="outline-text-3" id="text-org90f9bc2">
<div class="org-src-container">
<pre class="src src-sh">docker image --help
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Usage:  docker image COMMAND</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Manage images</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Commands:</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">build       Build an image from a Dockerfile</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">history     Show the history of an image</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">import      Import the contents from a tarball to create a filesystem image</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">inspect     Display detailed information on one or more images</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">load        Load an image from a tar archive or STDIN</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ls          List images</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">prune       Remove unused images</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">pull        Pull an image or a repository from a registry</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">push        Push an image or a repository to a registry</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">rm          Remove one or more images</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">save        Save one or more images to a tar archive (streamed to STDOUT by default)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">tag         Create a tag TARGET_IMAGE that refers to SOURCE_IMAGE</span>


docker images           <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">list of images in your docker</span>
docker image ls         <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">list of images in your docker</span>
docker search centos    <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">check if image is present in local repo (host os)</span>
docker pull centos      <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">download image from dockerhub to local repo</span>
docker rmi centos:7     <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">remove centos:7 from local repo</span>
docker image tag nginx bretfisher/nginx:latest
docker image prune 
docker history nginx:latest
docker image inspect nginx <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">meta data</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">##########</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">push image to docker hub</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">############</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker login --username=&lt;your_docker_user_name&gt; # login docker hub</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker commit &lt;container-id/name&gt; &lt;user&gt;/&lt;image&gt;  #create a img form running container       </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker push &lt;docker-user&gt;/&lt;image-name&gt; # push image to docker hub</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker push dankarthik/testing-node</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker logout</span>

docker image ls <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">REPOSITORY  TAG     IMAGE ID       CREATED      SIZE</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">mysql       latest  8e8c6f8dc9df   4 days ago   546MB</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">tomcat      9       29ba6a893a43   4 days ago   647MB</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">alpine      latest  a187dde48cd2   4 weeks ago  5.6MB</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">nginx       latest  6678c7c2e56c   6 weeks ago  127MB</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">httpd       latest  c5a012f9cf45   7 weeks ago  165MB</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">centos      latest  470671670cac   3 months ago 237MB</span>

docker history nginx:latest 
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">IMAGE        CREATED       CREATED BY                                      SIZE      COMMENT</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">822b7ec2aaf2 3 weeks ago   /bin/sh -c #(nop)  CMD ["nginx" "-g" "daemon&#8230;   0B        </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop)  STOPSIGNAL SIGQUIT           0B        </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop)  EXPOSE 80                    0B        </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop)  ENTRYPOINT ["/docker-entr&#8230;   0B        </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop) COPY file:09a214a3e07c919a&#8230;   4.61kB    </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop) COPY file:0fd5fca330dcd6a7&#8230;   1.04kB    </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop) COPY file:0b866ff3fc1ef5b0&#8230;   1.96kB    </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop) COPY file:65504f71f5855ca0&#8230;   1.2kB     </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c set -x     &amp;&amp; addgroup --system -&#8230;   63.9MB    </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop)  ENV PKG_RELEASE=1~buster     0B        </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop)  ENV NJS_VERSION=0.6.1        0B        </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop)  ENV NGINX_VERSION=1.21.1     0B        </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop)  LABEL maintainer=NGINX Do&#8230;   0B        </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop)  CMD ["bash"]                 0B        </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">&lt;missing&gt;    3 weeks ago   /bin/sh -c #(nop) ADD file:4ff85d9f6aa246746&#8230;   69.3MB</span>


<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">digests</span>
docker image inspect --format <span style="color: #2d9574;">"{{.RepoDigests}}"</span> registry.gitlab.com/digival/digiauth/digiauthservice:latest
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">[register.gitlab.com/digival/digiauth/digiauthservice@sha256:ec2bdeac324bf8f847b626c28b9866af9aada099f6682cb443c81ec77c6f481e]</span>


</pre>
</div>
</div>
</div>
<div id="outline-container-orgdcb18fd" class="outline-3">
<h3 id="orgdcb18fd">docker container cmd's</h3>
<div class="outline-text-3" id="text-orgdcb18fd">
<div class="org-src-container">
<pre class="src src-sh">docker container --help
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Usage:  docker container COMMAND</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Manage containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Commands:</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">attach      Attach local standard input, output, and error streams to a running container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">commit      Create a new image from a container's changes</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">cp          Copy files/folders between a container and the local filesystem</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">create      Create a new container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">diff        Inspect changes to files or directories on a container's filesystem</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">exec        Run a command in a running container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">export      Export a container's filesystem as a tar archive</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">inspect     Display detailed information on one or more containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">kill        Kill one or more running containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">logs        Fetch the logs of a container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ls          List containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">pause       Pause all processes within one or more containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">port        List port mappings or a specific mapping for the container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">prune       Remove all stopped containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">rename      Rename a container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">restart     Restart one or more containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">rm          Remove one or more containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">run         Run a command in a new container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">start       Start one or more stopped containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">stats       Display a live stream of container(s) resource usage statistics</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">stop        Stop one or more running containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">top         Display the running processes of a container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">unpause     Unpause all processes within one or more containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">update      Update configuration of one or more containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">wait        Block until one or more containers stop, then print their exit codes</span>



docker run --name  &lt;c-name&gt; &lt;i-name&gt;   <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container run &lt;c-name&gt; &lt;i-name&gt;             #</span>
docker exec &lt;c-name&gt; &lt;i-name&gt; /bin/bash  <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container exec &lt;c-name&gt; &lt;i-name&gt;           #</span>
docker run -itd --name mytomcat -p 8080:8081 tomcat
docker container run -d --name mysql -e <span style="color: #715ab1;">MYSQL_ALLOW_EMPTY_PASSWORD</span>=True mysql

<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">-i : interactive </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">-t : tty</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">-d : detach </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">-p : port forwording</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">-e : enviorment variable</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">-v : volume/bind-mounts</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">--name : name of container </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">--network : network-name that need to attach to c-name </span>

docker ps                      <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container ls                                #</span>
docker run &lt;c-name&gt; &lt;i-name&gt;   <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container run &lt;c-name&gt; &lt;i-name&gt;             #</span>
docker exec &lt;c-name&gt; &lt;i-name&gt; /bin/bash  <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container exec &lt;c-name&gt; &lt;i-name&gt;           #</span>
docker ps -a                   <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container ls -a                             #</span>
docker stop &lt;c-id/name&gt;        <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container stop &lt;c-id/name&gt;                  #</span>
docker kill &lt;c-id/name&gt;        <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container kill &lt;c-id/name&gt;                  #</span>
docker rm &lt;c-id/name&gt;          <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container rm   &lt;c-id/name&gt;                  #</span>
docker rm &lt;c-id/names&gt; --force            <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">stop,kill and destroy the running container </span>
docker logs &lt;c-id/name&gt;        <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container logs &lt;c-id/name&gt;                 #</span>
docker port &lt;c-id/name&gt;        <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container ports &lt;c-id/name&gt;</span>
docker top &lt;c-id/name&gt;         <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container top &lt;c-id/name&gt;</span>

docker rm &lt;c-name/id&gt; --force  <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">stop the running container and then kill,remove(destroy) the container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">## </span><span style="color: #2aa1ae; background-color: #ecf3ec;">remove  unused images,container</span>
docker container prune 
docker system prune -a                           <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;">#######</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">run shell inside container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">######</span>
docker run -itd --name sathish-centos centos <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span>
docker exec -it d2bf3ff05b9b /bin/bash   <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">enter inside the container</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">port forwording</span>
docker run -itd --name tomcat-dev -p 8081:8080 tomcat:9 <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">run localhost:8001</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;">################</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">container status</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#################</span>
docker container top &lt;c-id/name&gt; 
docker container stats &lt;c-id/name&gt; 
docker container stats <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">performance status all containers</span>
docker container inspect mysql | grep <span style="color: #2d9574;">"Volumes"</span>        <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">give volume dir</span>
docker container inspect mysql | grep <span style="color: #2d9574;">"Mounts"</span>        <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">give volume dir</span>
docker container logs &lt;c-id/name&gt;

<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker inspect myubuntu |grep LogPath</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker inspect --format='{{.LogPath}}' myubuntu</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org62a788c" class="outline-3">
<h3 id="org62a788c">docker container Status cmdb</h3>
<div class="outline-text-3" id="text-org62a788c">
<div class="org-src-container">
<pre class="src src-sh">docker ps 
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">CONTAINER ID   IMAGE      COMMAND                  CREATED             STATUS             PORTS                                       NAMES</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">496f38050935   tomcat:9   "catalina.sh run"        About an hour ago   Up About an hour   0.0.0.0:8081-&gt;8080/tcp, :::8081-&gt;8080/tcp   mytomcat</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">443ac5a8ebed   mysql      "docker-entrypoint.s&#8230;"   8 hours ago         Up 8 hours         3306/tcp, 33060/tcp                         mysql</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">67313e181e84   ubuntu     "bash"                   8 hours ago         Up 8 hours                                                     myubuntu3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">cf2d8cac2451   ubuntu     "bash"                   8 hours ago         Up 8 hours                                                     myubuntu2</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">5777e3899030   ubuntu     "bash"                   8 hours ago         Up 8 hours                                                     myubuntu1</span>

docker container stats <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">performance status all containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">CONTAINER ID   NAME        CPU %     MEM USAGE / LIMIT     MEM %     NET I/O       BLOCK I/O     PIDS</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">67313e181e84   myubuntu3   0.00%     1.633MiB / 7.561GiB   0.02%     3.21kB / 0B   0B / 0B       1</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">cf2d8cac2451   myubuntu2   0.00%     1.809MiB / 7.561GiB   0.02%     3.21kB / 0B   0B / 0B       1</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">5777e3899030   myubuntu1   0.00%     4.441MiB / 7.561GiB   0.06%     7.03kB / 0B   3.96MB / 0B   1</span>

docker top mytomcat
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">UID     PID     PPID    C    STIME    TTY      TIME       CMD</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">root    11906   11883   1    11:16    pts/0    00:00:05   /usr/local/openjdk-</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container prune # remove all stopped containers</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container stats &lt;c-id/name&gt; # to run 1 or more stopped container</span>

docker container stat myubuntu 
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">CONTAINER ID   NAME       CPU %     MEM USAGE / LIMIT     MEM %     NET I/O       BLOCK I/O     PIDS</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">5eef4fc49b1b   myubuntu   0.00%     4.625MiB / 7.561GiB   0.06%     7.23kB / 0B   4.51MB / 0B   1</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker container port &lt;c-id/name&gt;                 # give port No</span>
docker port mytomcat 
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">8080/tcp -&gt; 0.0.0.0:8081</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">8080/tcp -&gt; :::8081</span>


docker container inspect mysql | grep <span style="color: #2d9574;">"Volumes"</span>        <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">give volume dir</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#            </span><span style="color: #2aa1ae; background-color: #ecf3ec;">"VolumesFrom": null,</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#            </span><span style="color: #2aa1ae; background-color: #ecf3ec;">"Volumes": {</span>


docker logs mytomcat 
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Using CATALINA_BASE:   /usr/local/tomcat</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Using CATALINA_HOME:   /usr/local/tomcat</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Using CATALINA_TMPDIR: /usr/local/tomcat/temp</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Using JRE_HOME:        /usr/local/openjdk-11</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Using CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">3Using CATALINA_OPTS:   </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">24-Aug-2021 05:46:02.398 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.52</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">24-Aug-2021 05:46:02.402 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Jul 31 2021 04:12:17 UTC</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">24-Aug-2021 05:46:02.402 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.52.0</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">24-Aug-2021 05:46:02.402 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">24-Aug-2021 05:46:02.402 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.4.0-72-gener</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-org506b6d8" class="outline-3">
<h3 id="org506b6d8">docker volume cmd</h3>
<div class="outline-text-3" id="text-org506b6d8">
<div class="org-src-container">
<pre class="src src-sh">docker volume --help
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Usage:  docker volume COMMAND</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Manage volumes</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Commands:</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">create      Create a volume</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">inspect     Display detailed information on one or more volumes</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ls          List volumes</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">prune       Remove all unused local volumes</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">rm          Remove one or more volumes</span>


docker container run -d --name mysql -e <span style="color: #715ab1;">MYSQL_ALLOW_EMPTY_PASSWORD</span>=True mysql

docker container inspect mysql | grep <span style="color: #2d9574;">"Volume"</span>        <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">give volume dir</span>
docker container inspect mysql | grep <span style="color: #2d9574;">"Mounts"</span>        <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">give volume dir</span>
docker volume ls  <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Note : Volume are not rm (removed) when container is removed. They need to remove manually</span>
docker volume rm &lt;vol-ids&gt;

docker volume ls
docker volume create --help
docker volume inspect &lt;vol-id/name&gt;
docker volume rm &lt;vol-id&gt;         <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">remove given vol-id  </span>
docker volume prune               <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">remove all unsued volumes</span>


<span style="color: #2aa1ae; background-color: #ecf3ec;">###################</span><span style="color: #2aa1ae; background-color: #ecf3ec;">3333</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Bind monts: Maps container dir  to host dir</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">- Basically just two locations pointing to same files</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">- Con't use in Dockerfile, must be at  container runtime</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">- Syntax :</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">- ....run -v /Users/bret/stuff:/path/container (mac/linux)</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#     </span><span style="color: #2aa1ae; background-color: #ecf3ec;">- ....run -v //C/Users/breff:path/container (window)</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;">#################</span><span style="color: #2aa1ae; background-color: #ecf3ec;">3</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Bind Mounts</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker run -itd -v &lt;local-path(host OS)&gt; : &lt;container-path&gt; &lt;image-name&gt; # Bind mounts</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Docker Volume</span>

docker run -itd -v /opt/devops: /opt/sathish centos 
docker run -itd -v /opt/devops: /opt/sathish centos <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Bind mounts</span>

docker conatainer run -d --name psql -v psql:/var/lib/postgresql/data postgres:9.6.1 <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span>


</pre>
</div>
</div>
</div>
<div id="outline-container-orgffa3ee0" class="outline-3">
<h3 id="orgffa3ee0">docker import/export cmd</h3>
<div class="outline-text-3" id="text-orgffa3ee0">
<pre class="example">
docker export --output="zip-name.tar" &lt;container-id/name&gt;
docker import &lt;path&gt;
</pre>
</div>
</div>
<div id="outline-container-orgaf9aa1a" class="outline-3">
<h3 id="orgaf9aa1a">Docker Build Cmd</h3>
<div class="outline-text-3" id="text-orgaf9aa1a">
<pre class="example">
docker build . # current working dir 
docker build &lt;build-img-name&gt; .
docker build -t &lt;repo-name&gt;/&lt;build-img-name&gt;:2.0 .  # name in repo is vieux/apache:2.0
docker build -t vieux/apache:2.0 .  # name in repo is vieux/apache:2.0
docker build -t &lt;my-img2&gt; -f &lt;Dockerfile2&gt; . # .: current working dir

</pre>
</div>
</div>

<div id="outline-container-org0fbf7dd" class="outline-3">
<h3 id="org0fbf7dd">Docker Link cmd</h3>
<div class="outline-text-3" id="text-org0fbf7dd">
<pre class="example">
docker run -itd --name mydb -e MYSQL_ROOT_PASSWORD=DEVOPS@12345 mysql:5.7
docker run -itd wordpress  --link mydb:mysql -p 83:80 wordpress
</pre>
</div>
</div>
<div id="outline-container-org132604f" class="outline-3">
<h3 id="org132604f">Compose cmds</h3>
<div class="outline-text-3" id="text-org132604f">
<p>
Use to build and run  mulit containers which are inter-linked to each other
It is not a product tool
</p>

<pre class="example">
# cd &lt;path&gt; where docker-compose.yml is present
docker-compose build
docker-compose up
docker compose down # NOTE: it stops all containers and remove volumes also 

docker-compose ps
docker-compose top
docker-compose up -d
docker-compose down -v --rmi local # remove volume (docker by default keep volume ) to remove volume -v
</pre>
</div>
</div>

<div id="outline-container-org4404112" class="outline-3">
<h3 id="org4404112">Swarm cmds</h3>
<div class="outline-text-3" id="text-org4404112">
</div>
<div id="outline-container-orgc9c6f7e" class="outline-4">
<h4 id="orgc9c6f7e">Docker Swarm cmd</h4>
<div class="outline-text-4" id="text-orgc9c6f7e">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker swarm --help</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Usage:  docker swarm COMMAND</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Manage Swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Commands:</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ca          Display and rotate the root CA</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">init        Initialize a swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">join        Join a swarm as a node and/or manager</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">join-token  Manage join tokens</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">leave       Leave the swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">unlock      Unlock swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">unlock-key  Manage the unlock key</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">update      Update the swarm</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">$Inside Docker-Manager Host</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">create swarm cluster</span>
docker swarm init --advertise-addr 18.220.116.100  <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">generate TOKEN</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">###############################################################</span><span style="color: #2aa1ae; background-color: #ecf3ec;">33</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker swarm join --token SWMTKN-1-51n0oal47mvwoyh8l3d2bn8naogqp8xs62wyvh2x6od6f89e8p-efi7qazxaie80f2mepov21d34 18.220.116.100:2377</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#####################################################################</span>
docker swarm join-token worker    <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">add a worker to this swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker swarm join --token SWMTKN-1-3pu6hszjas19xyp7ghgosyx9k8atbfcr8p2is99znpy26u2lkl-1awxwuwd3z9j1z3puu7rcgdbx 172.17.0.2:2377</span>
docker swarm join-token manager   <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">add a manager to this swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker swarm join --token SWMTKN-1-3pu6hszjas19xyp7ghgosyx9k8atbfcr8p2is99znpy26u2lkl-7p73s1dx5in4tatdymyhg9hu2  172.17.0.2:2377</span>
docker swarm leave <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">leave the swam cluster</span>
docker swarm leave --force
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Note : for manger it ask for force leave</span>

</pre>
</div>
</div>
</div>

<div id="outline-container-org6493b8d" class="outline-4">
<h4 id="org6493b8d">Services cmds</h4>
<div class="outline-text-4" id="text-org6493b8d">
<p>
Docker services :
</p>
<ul class="org-ul">
<li>if same image/container are need form cluster
<ul class="org-ul">
<li>Eg: if web-server is conatainerized and we need to increase servers at port 8000 at outside then with service we can internally connect all containers but externally we can access at 8000 port</li>
</ul></li>
</ul>

<p>
use to control any existing Docker services like (Container,Compose,Swarm,)
</p>

<div class="org-src-container">
<pre class="src src-sh">docker service --help
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Usage:  docker service COMMAND</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Manage services</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Commands:</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">create      Create a new service</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">inspect     Display detailed information on one or more services</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">logs        Fetch the logs of a service or task</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ls          List services</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ps          List the tasks of one or more services</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">rm          Remove one or more services</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">rollback    Revert changes to a service's configuration</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">scale       Scale one or multiple replicated services</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">update      Update a service</span>


docker service ls                 <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Inside node (list of container) are show </span>
docker service ps                 <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">TODO</span>
docker service scale &lt;c-id/name&gt;
docker service stop &lt;c-id/name&gt;
docker service logs &lt;c-id/name&gt;
docker service rm &lt;name&gt;
docker service create &lt;c-name&gt; &lt;img-name&gt;

docker service create   <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Create a new service</span>
docker service inspect  <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Display detailed information on one or more services</span>
docker service logs     <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Fetch the logs of a service or task</span>
docker service ls       <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">List services</span>
docker service ps       <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">List the tasks of one or more services</span>
docker service rm       <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Remove one or more services</span>
docker service rollback         <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Revert changes to a service&#8217;s configuration</span>
docker service scale    <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Scale one or multiple replicated services</span>
docker service update   <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Update a service</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">docker service create --name redis redis:3.0.6
docker service create --replicas 5 -p 80:80 --name myredis redis:3.0.6
docker service create --mode global --name redis2 redis:3.0.6
docker service ls
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ID            NAME    MODE        REPLICAS  IMAGE</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">dmu1ept4cxcf  redis   replicated  1/1       redis:3.0.6</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">a8q9dasaafud  redis2  global      1/1       redis:3.0.6</span>

docker service ps redis

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ID             NAME      IMAGE        NODE      DESIRED STATE  CURRENT STATE          ERROR  PORTS</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">0qihejybwf1x   redis.1   redis:3.0.5  manager1  Running        Running 8 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">bk658fpbex0d   redis.2   redis:3.0.5  worker2   Running        Running 9 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">5ls5s5fldaqg   redis.3   redis:3.0.5  worker1   Running        Running 9 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">8ryt076polmc   redis.4   redis:3.0.5  worker1   Running        Running 9 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1x0v8yomsncd   redis.5   redis:3.0.5  manager1  Running        Running 8 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">71v7je3el7rr   redis.6   redis:3.0.5  worker2   Running        Running 9 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">4l3zm9b7tfr7   redis.7   redis:3.0.5  worker2   Running        Running 9 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">9tfpyixiy2i7   redis.8   redis:3.0.5  worker1   Running        Running 9 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">3w1wu13yupln   redis.9   redis:3.0.5  manager1  Running        Running 8 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">8eaxrb2fqpbn   redis.10  redis:3.0.5  manager1  Running        Running 8 seconds</span>


docker service scale <span style="color: #715ab1;">redis</span>=7
docker service update --replicas=50 redis
docker service ls --filter <span style="color: #715ab1;">name</span>=redis

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ID            NAME      MODE        REPLICAS  IMAGE</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">3pr5mlvu3fh9  redis     replicated  15/50     redis:3.0.5</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orge87c542" class="outline-4">
<h4 id="orge87c542">Node cmd</h4>
<div class="outline-text-4" id="text-orge87c542">
<div class="org-src-container">
<pre class="src src-sh">docker node --help
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Usage:  docker node COMMAND</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Manage Swarm nodes</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Commands:</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">demote      Demote one or more nodes from manager in the swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">inspect     Display detailed information on one or more nodes</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ls          List nodes in the swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">promote     Promote one or more nodes to manager in the swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ps          List tasks running on one or more nodes, defaults to current node</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">rm          Remove one or more nodes from the swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">update      Update a node</span>

docker node ls <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">List nodes in the swarm</span>
docker node ps &lt;host-name &gt;<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">List service/container running on one or more nodes, defaults to current node</span>
docker rm &lt;node-id&gt; <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">remove node form cluster</span>
docker swarm leave --force <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">remove leader from swarm </span>


<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker node update --avalibility drain/active &lt;hostaname&gt;</span>
docker node update --avalibility drain worker1
docker node update --avalibility active worker
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">docker node ls <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">List nodes in the swarm</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ID                           HOSTNAME        STATUS  AVAILABILITY  MANAGER STATUS</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">1bcef6utixb0l0ca7gxuivsj0    swarm-worker2   Ready   Active</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">38ciaotwjuritcdtn9npbnkuz    swarm-worker1   Ready   Active</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">e216jshn25ckzbvmwlnh5jr3g *  swarm-manager1  Ready   Active        Leader</span>

docker node ps swarm-manager1
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">NAME                                IMAGE        NODE            DESIRED STATE  CURRENT STATE</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">redis.1.7q92v0nr1hcgts2amcjyqg3pq   redis:3.0.6  swarm-manager1  Running        Running 5 hours</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">redis.6.b465edgho06e318egmgjbqo4o   redis:3.0.6  swarm-manager1  Running        Running 29 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">redis.7.bg8c07zzg87di2mufeq51a2qp   redis:3.0.6  swarm-manager1  Running        Running 5 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">redis.9.dkkual96p4bb3s6b10r7coxxt   redis:3.0.6  swarm-manager1  Running        Running 5 seconds</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">redis.10.0tgctg8h8cech4w0k0gwrmr23  redis:3.0.6  swarm-manager1  Running        Running 5 seconds</span>


docker service ps redis
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">NAME                                    IMAGE        NODE      DESIRED STATE  CURRENT STATE           ERROR</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">redis.1.7q92v0nr1hcgts2amcjyqg3pq       redis:3.0.6  manager1  Running        Running 4 minutes</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">redis.2.b4hovzed7id8irg1to42egue8       redis:3.0.6  worker2   Running        Running About a minute</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">\_ redis.2.7h2l8h3q3wqy5f66hlv9ddmi6   redis:3.0.6  worker1   Shutdown       Shutdown 2 minutes ago</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">redis.3.9bg7cezvedmkgg6c8yzvbhwsd       redis:3.0.6  worker2   Running        Running 4 minutes</span>

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org4672e90" class="outline-3">
<h3 id="org4672e90">Docker Stack cmd</h3>
<div class="outline-text-3" id="text-org4672e90">
<div class="org-src-container">
<pre class="src src-sh">docker stack deploy -c &lt;compose-file-path&gt; &lt;stack-name&gt; <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">c:compose</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Usage:  docker stack [OPTIONS] COMMAND</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Options:</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Commands:</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">deploy      Deploy a new stack or update an existing stack</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ls          List stacks</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ps          List the tasks in the stack</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">rm          Remove one or more stacks</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">services    List the services in the stack</span>

docker stack deploy -c voting_app.yml vote_app
docker stack ls
docker stack ps voteapp
docker stack services voteapp

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Update of stack:</span>
  <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">Q)  if new-update in voting app is done then How to update stack</span>
     <span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">A) git compose-file(.yml) and delpoy again without stop or removing stack</span>
vim voting_app.yml
docker  stack deploy -c voting_app.yml voteapp
</pre>
</div>
</div>
</div>
<div id="outline-container-org161f713" class="outline-3">
<h3 id="org161f713">Networking cmd's</h3>
<div class="outline-text-3" id="text-org161f713">
<div class="org-src-container">
<pre class="src src-sh">docker network create --help
docker service create --name mysql --network mydrupal -p 80:80 drupal

docker network ls  <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">show network</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">NETWORK ID          NAME                DRIVER              SCOPE</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">e4412c25e3f8        bridge              bridge              local</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">fc3fb3bc492f        dude                bridge              local</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">bde494d3eca8        my_app_net          bridge              local</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">b5c2bb5208eb        none                null                local</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">85464f22d4d4        host                host                local  # host network is special network,it gain performance by skipping virtual networks but sacrifices security of container model</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">driver : 4 types bridge,host,null,overlay,maclan</span>


docker network create --driver  [driver-type] &lt;network-name&gt;     <span style="color: #2aa1ae; background-color: #ecf3ec;">#  </span><span style="color: #2aa1ae; background-color: #ecf3ec;">create a network</span>
docker network inspect [network-id/name]           <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">docker network inspect bridge</span>
docker network inspect bridge | grep <span style="color: #2d9574;">'Containers'</span> <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">List of containers in bridge</span>
docker network connect  [container-id]            <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">attach a network to container</span>
docker network disconnect  [containter-id]         <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">detach a network from network</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">To see the containers attached to networks</span>
docker network inspect bridge
</pre>
</div>
</div>
</div>
<div id="outline-container-org10fef08" class="outline-3">
<h3 id="org10fef08">Docker secret cmd's</h3>
<div class="outline-text-3" id="text-org10fef08">
<ul class="org-ul">
<li>they look like files in hard-drive  container but are actually in-memory RAM-FS (File System)
path <code>/run/secrets/&lt;secret_name/secret_alias&gt;</code></li>
</ul>
<ul class="org-ul">
<li>Can we use secrets in compose ?
-Ans : Yes but they are not secure as they store in file-based secrets.</li>
</ul>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">$ docker secret</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Commands:</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#   </span><span style="color: #2aa1ae; background-color: #ecf3ec;">create      Create a secret from a file or STDIN as content</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#   </span><span style="color: #2aa1ae; background-color: #ecf3ec;">inspect     Display detailed information on one or more secrets</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#   </span><span style="color: #2aa1ae; background-color: #ecf3ec;">ls          List secrets</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#   </span><span style="color: #2aa1ae; background-color: #ecf3ec;">rm          Remove one or more secrets</span>


cat psql_user.txt psql_password.txt <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">create file psql_user, psql_password which contain id and password </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">dan_psql</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;">#</span><span style="color: #2aa1ae; background-color: #ecf3ec;">myDd_passwrd</span>
docker secret create psd_user psql_user.txt
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Storing password as file in hardrive of host '.' when using remote api each node will store password as file which can be readed if hacked any node</span>



<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Using terminal to stdin for enter secrets</span>
<span style="color: #3a81c3;">echo</span> <span style="color: #2d9574;">"dan_psql"</span> | dokcer secret create psql_user -
<span style="color: #3a81c3;">echo</span> <span style="color: #2d9574;">"myDd_passwrd"</span> | dokcer secret create psql_password -
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Disadvantages : </span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">If we see history of bash in root user/host we can get secrets</span>


docker secrete ls
docker secrete inspect psql_user <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Don't show user_id</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Pass secrets to db</span>
docker service create --name psql --secret psql_user --secret psql_pass -e <span style="color: #715ab1;">POSTGRES_PASSWORD_FILE</span>=/run/secret/psql postgres

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">to see password </span>
docker exec -it psql /bin/bash
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">$cat /run/secret/psql_user(or)password # show user name and password</span>

<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">To remove secret</span>
docker service update --secret-rm  <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">then it will re-deploy container</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge5ebb3c" class="outline-2">
<h2 id="orge5ebb3c">DockerFile</h2>
</div>

<div id="outline-container-orgb6a4d52" class="outline-2">
<h2 id="orgb6a4d52">Docker Yaml file</h2>
</div>
<div id="outline-container-org2f1aa6f" class="outline-2">
<h2 id="org2f1aa6f">Examples</h2>
<div class="outline-text-2" id="text-org2f1aa6f">
</div>
<div id="outline-container-org3329af6" class="outline-3">
<h3 id="org3329af6">Docker Compose Example with volume</h3>
<div class="outline-text-3" id="text-org3329af6">
<pre class="example">
version: '3.4'
services:
    redis:
	image: redis:alpine
	networks:
	    - frontend
    db:
	image: postgres:9.6
	  volumes:
	    - db-data:/var/lib/postgresql/data
	networks:
	    - backend
	environment:
	    - POSTGRES_HOST_AUTH_METHOD=trust
	deploy:
    vote:
	image: bretfisher/examplevotingapp_vote
	ports:
	    - '5000:80'
	networks:
	    - frontend
	deploy:
	    mode: global
    result:
	image: bretfisher/examplevotingapp_result
	ports:
	    - '5001:80'
	networks:
	    - backend
    worker:
	image: bretfisher/examplevotingapp_worker:java
	networks:
	    - frontend
	    - backend
	deploy:
	    mode: global
networks:
    frontend:
    backend:
volumes:
    db-data:
</pre>
</div>
</div>
<div id="outline-container-org41def7b" class="outline-3">
<h3 id="org41def7b">Docker Compose File</h3>
<div class="outline-text-3" id="text-org41def7b">
<div class="org-src-container">
<pre class="src src-sh">version: <span style="color: #2d9574;">'3.1'</span>  <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">if no version is specified then v1 is assumed. Recommend v2 minimum</span>

services:  <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">containers. same as docker run</span>
  ubuntu:
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">servicename: # a friendly name. this is also DNS name inside network</span>
    image: bretfisher/jekyll-serve <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Optional if you use build:</span>
    context:.
    dockerfile:nginx     
    <span style="color: #3a81c3;">command</span>: <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Optional, replace the default CMD specified by the image</span>
    environment: <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Optional, same as -e in docker run</span>
    volumes: <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Optional, same as -v in docker run</span>
      - ./site <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">'.' Current Wor dir</span>
    port :
    - <span style="color: #2d9574;">'80:4000'</span>

  servicename2:

volumes: <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Optional, same as docker volume create</span>
   - ./html: /usr/local/apache2/htdocs
networks: <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">Optional, same as docker network create</span>

</pre>
</div>
</div>
</div>
<div id="outline-container-orga60a54f" class="outline-3">
<h3 id="orga60a54f">Docker File</h3>
<div class="outline-text-3" id="text-orga60a54f">
</div>
</div>
<div id="outline-container-org68acc90" class="outline-3">
<h3 id="org68acc90">Networking Example2</h3>
<div class="outline-text-3" id="text-org68acc90">
<div class="org-src-container">
<pre class="src src-sh">docker network create --driver overlay mydrupal
docekr network ls
docker service create --name psql --network mydrupal -e <span style="color: #715ab1;">POSTGRESS_PASSWORD</span>=mypass postgres
docker service ls
psql replicated ps psql
docker container ls
docker service create --name drupal --network mydrupal -p 80:80 drupal
docker service ls

docker ls <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">linux re-run </span>
docker service ps drupal <span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">see -where drupal service is running : let be node2</span>

docker network create my_app_net
docker container run -itd --name new_nginx --network my_app_net nginx
docker container run -itd --name my_nginX --network my_app_net nginx
docker network inspect my_app_network

docker container ls
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">CONTAINER ID        IMAGE               COMMAND                  CREATED              STATUS              PORTS                  NAMES</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">498f7bfea262        nginx               "nginx -g 'daemon of&#8230;"   15 seconds ago       Up 12 seconds       80/tcp                 my_engineX</span>
<span style="color: #2aa1ae; background-color: #ecf3ec;"># </span><span style="color: #2aa1ae; background-color: #ecf3ec;">3928fe27faa0        httpd               "httpd-foreground"       About a minute ago   Up About a minute   0.0.0.0:8080-&gt;80/tcp   webserver</span>
docker network connect 498f7bf 3928fe27
docker network inspect 
docker network disconnect 498f7bf 3928fe27
</pre>
</div>
</div>
</div>
<div id="outline-container-org4e8eeb4" class="outline-3">
<h3 id="org4e8eeb4">Networking Example</h3>
<div class="outline-text-3" id="text-org4e8eeb4">
<pre class="example">
docker network create --driver bridge alpine-net
docker network ls

# NETWORK ID          NAME                DRIVER              SCOPE
# e9261a8c9a19        alpine-net          bridge              local
# 17e324f45964        bridge              bridge              local
# 6ed54d316334        host                host                local
# 7092879f2cc8        none                null                local
docker container attach alpine4

docker network create -d overlay nginx-net
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: D Karthik</p>
<p class="date">Created: 2023-02-27 Mon 11:41</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
