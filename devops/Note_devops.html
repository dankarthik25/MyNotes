<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-03-16 Thu 11:43 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Note_devops</title>
<meta name="author" content="Karthik" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="icon" type="image/png" href="https://deepalgorithms.in/assets/icons/favicon.png">
<link rel="stylesheet" type="text/css" href="readtheorg-htmlize.css"/>
<link rel="stylesheet" type="text/css" href="readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Note<sub>devops</sub></h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgb0fe62a">History of DevOps</a>
<ul>
<li><a href="#org45373ce">Waterfall Model</a>
<ul>
<li><a href="#org609628a">Top-down approch</a></li>
<li><a href="#org7d9ab67">Advantages of the Waterfall Model:</a></li>
<li><a href="#orgc69e551">Disadvantages of Waterfall Model:</a></li>
</ul>
</li>
<li><a href="#orga6c43d6">Agile Methodology</a>
<ul>
<li><a href="#org36c925e">Agile Methodology Overview</a></li>
<li><a href="#org23c63fc">model Agile Process</a></li>
<li><a href="#orga4f176d">Diagram</a></li>
</ul>
</li>
<li><a href="#org928ee34">DevOps</a>
<ul>
<li><a href="#org2644386">Stages and Tools</a></li>
<li><a href="#org8857d06">Stage – 1: Continuous Development [ Planning(Requirement Gathering &amp; Analysis + Design) + Coding]</a></li>
<li><a href="#orgc18227a">Stage – 2: Continuous Integration</a></li>
<li><a href="#orge3653b5">Stage – 3: Continuous Testing [Build Code + Testing (Test performacne + Test functional + SIT + UAT + Preproduction + Production )]</a></li>
<li><a href="#orgab7c6a9">Stage – 4: Continuous Deployment</a></li>
<li><a href="#orge609ed7">Stage – 5: Contionous monitoring</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org4a6c524">Cloud Services</a>
<ul>
<li><a href="#org089f0f3">Intro</a>
<ul>
<li><a href="#orgdc208f3">In MNC's which Cloud Service genrelly used</a></li>
</ul>
</li>
<li><a href="#orgc7d1f41">Inside AWS</a></li>
</ul>
</li>
<li><a href="#org03af0d6">Linux and Shell</a></li>
<li><a href="#org1fa6587">Vi Editor Tutorial</a></li>
<li><a href="#orgc587258">git</a>
<ul>
<li><a href="#org902a91e">What is git</a>
<ul>
<li><a href="#org6df7849"><span class="todo TODO">TODO</span> Q) git Vs SVN (Subversion)</a></li>
<li><a href="#orgfac5aa9">In Companys (MNC's) which vcs is used</a></li>
</ul>
</li>
<li><a href="#orgef861a3">short tutorial</a></li>
<li><a href="#org0db9bd2">Installation and Configuration Cmd</a></li>
<li><a href="#org62c00cb"><span class="todo TODO">TODO</span> Q)THREE MAIN STATES IN GIT</a>
<ul>
<li><a href="#org0bbd3b0">HOW TO COMMIT FILES ?</a></li>
<li><a href="#org1da7d02">CONNECT LOCAL REPOSITORY TO REMOTE REPOSITORY</a></li>
<li><a href="#org52f087f">PUSH LOCAL REPOSITORY TO REMOTE REPOSITORY (GIT PUSH)</a></li>
<li><a href="#orgf498624"><span class="todo TODO">TODO</span> PULL REMOTE REPOSITORY TO LOCAL REPOSITORY</a></li>
</ul>
</li>
<li><a href="#orgb11f68c">CLONNING A REPOSITORY</a></li>
<li><a href="#orgabafb82">Q)PULL VS FETCH</a></li>
<li><a href="#org25d2a9f">LOG</a></li>
<li><a href="#org61cbf41">CREATING A BRANCH (GIT BRANCH &lt;BRANCH-NAME&gt;)</a></li>
<li><a href="#orga1f580d">GIT BRANCHING MODELING</a></li>
<li><a href="#org8837ea9">REVERT :</a></li>
<li><a href="#orgef33ab7">RESET VS REVERT</a>
<ul>
<li><a href="#orgf6f5f8c">GIT RESET</a></li>
<li><a href="#orgb8f2428">THREE TYPES OF RESET</a></li>
<li><a href="#org43eb08b"><span class="todo TODO">TODO</span> REVERT (NEED TO CHECK IF REVERT ALTERING HISTORY OF COMMITS)</a></li>
</ul>
</li>
<li><a href="#org67a2a01">MERGE</a></li>
<li><a href="#orgf112897"><span class="todo TODO">TODO</span> MERGE VS REBASE VS CHERRYPICK</a>
<ul>
<li><a href="#orge4918fa">CHEERY PIK</a></li>
</ul>
</li>
<li><a href="#org3f7e8a2">CONFLICTS</a></li>
<li><a href="#orgae3de88">STASHING</a></li>
<li><a href="#org9263047">SQUASH</a></li>
<li><a href="#orgb2096d3">INTERVIEW QUSESTION</a>
<ul>
<li><a href="#orgd3889e0">WHAT IS USE OF GIT</a></li>
<li><a href="#org6825d35">DIFFERENT TYPE OF VCS</a></li>
</ul>
</li>
<li><a href="#orgcbac2b1"><span class="todo TODO">TODO</span> Q) FORK AND CLONE</a></li>
</ul>
</li>
<li><a href="#orga3f965f">MAVEN</a>
<ul>
<li><a href="#org3866e33">What is maven</a></li>
<li><a href="#org2f76a57"><span class="todo TODO">TODO</span> Difference btw jar war ear</a></li>
<li><a href="#org8349027">Why developers use maven ?</a></li>
<li><a href="#org2c6ad9d">maven repository</a></li>
<li><a href="#orgf2680cc">Why we need maven repo ?</a></li>
<li><a href="#org2aa576b">What is POm.xml</a></li>
<li><a href="#orgfc35ff6">Install of maven</a>
<ul>
<li><a href="#org6f92f24">extract maven</a></li>
<li><a href="#orgdba04f9">Setup environment variable</a></li>
</ul>
</li>
<li><a href="#orgd9cd38d">Build server:</a></li>
<li><a href="#orgb6d16e7">Create maven project</a></li>
<li><a href="#org73fc66a">Maven Lifecycle and 8  Phases</a></li>
<li><a href="#org6598393">Integrate Maven with git</a></li>
<li><a href="#org75ebbeb">Question and Answer</a></li>
<li><a href="#orge640c0f">Q) how to create multi module project</a></li>
<li><a href="#org1a8dfec">Q)how to use profiles</a></li>
</ul>
</li>
<li><a href="#org36fce09">Servers (Tomcat)</a>
<ul>
<li><a href="#org2e64452">Introduction</a></li>
<li><a href="#orgb78d7d6">Deployment process</a></li>
<li><a href="#orgc8d98a5">installation</a></li>
<li><a href="#org3032e96">Change Port Number</a>
<ul>
<li><a href="#orge050969">Tomcat File system</a></li>
<li><a href="#orga17fd95">Edit server.xml</a></li>
</ul>
</li>
<li><a href="#orgfcc9745">Configure the Tomcat Web Management Interface</a></li>
<li><a href="#orgac0164a">install using apt-get</a></li>
<li><a href="#org1a3543d">Example</a></li>
<li><a href="#orgfdc78f4">Example 2</a></li>
<li><a href="#org3f3f9d7"><span class="todo TODO">TODO</span> Deploy war file to tomcat</a></li>
<li><a href="#org3f98560">How to Deploy (automate) git code to tomcat server  [029 Udemy Lecture]</a>
<ul>
<li><a href="#orgc168266">Configure Jenkins with Tomcat for Auto Deployment of Artifacts.</a></li>
<li><a href="#org4e1c85b">Create Job to Produce Tomcat Deployable Artifacts</a></li>
<li><a href="#orgc14dda5">Create Job to Deploy Artifacts to Tomcat server or(Staging Env)</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org7874e20">Jenkins</a>
<ul>
<li><a href="#org0546c08">[02nd march]-installation</a>
<ul>
<li><a href="#org81d38d0">Using zip file</a></li>
<li><a href="#orgc28fe36">Install using java</a></li>
<li><a href="#org9f112e8">Configure  Port</a></li>
<li><a href="#orga240062">Install jenkins in tomcat</a></li>
<li><a href="#orgc985e5c">install Jenkins  in  tomcat server (using war file)</a></li>
<li><a href="#org6b41593">Install Jenkins inside docker with volume bind</a></li>
</ul>
</li>
<li><a href="#org958f763">Plugis :</a></li>
<li><a href="#org123548f">[03rd march] SideBar Overview</a></li>
<li><a href="#org60fe524">Freestyle Overview</a></li>
<li><a href="#orgc6b645a">1st Jobs build periodically</a></li>
<li><a href="#orge846703">Job Build Trigger remotely(from scripts, url)</a></li>
<li><a href="#orge8096a7">[07 march]Integrating with gmail</a></li>
<li><a href="#org3b26d79">[09 march]Permissions Add-Users Account (Role Based management)</a>
<ul>
<li><a href="#org7df9940">Project based</a></li>
<li><a href="#org10acf87">Enable matrix based Security</a></li>
<li><a href="#orgf5b93bc">Role based Authentication</a></li>
<li><a href="#orgfe4a896"><span class="todo TODO">TODO</span> Difference matrix-based Vs Project based Vs Role Based</a></li>
<li><a href="#org36a8487"><span class="todo TODO">TODO</span> LDAP  and Active Directory</a></li>
</ul>
</li>
<li><a href="#org2d21605">[12-13 march]master -slave :</a>
<ul>
<li><a href="#org8813812">Step 1: Create AWS EC-2 as slave and install java,maven,git</a></li>
<li><a href="#org367198c">Step 2: Create and Connect Node(Slave-servet) to Jenkins(master- server)</a></li>
<li><a href="#orgc6a53a3">Step 3: Run job in Slave Node</a></li>
</ul>
</li>
<li><a href="#org3e76a8b">[14 march]Backup and Restoring point</a></li>
<li><a href="#org2d2ef18">[12 march]Upstream and Downstream</a>
<ul>
<li><a href="#orgf9f9eaa">Create Jobs and pipline the jobs</a></li>
<li><a href="#orgd829c00">To View Pipeline</a></li>
<li><a href="#org84a4e97">Example</a></li>
</ul>
</li>
<li><a href="#org23e37f2">[19- march] Pass parameters in Jenkins</a>
<ul>
<li><a href="#orgb7d6d13">String Parameter</a></li>
<li><a href="#org41d3596">Choices Parameter</a></li>
<li><a href="#org4156cf5">Boolean  Parameter</a></li>
</ul>
</li>
<li><a href="#orgb23d425">Learn Groovy script</a></li>
<li><a href="#org0eadd64"><span class="todo TODO">TODO</span> DSL Scripting and yaml file for jenkins pipline [Domain Specific Langaugae]</a>
<ul>
<li><a href="#orge7218aa">Example 2. Stage-level Agent Section</a></li>
<li><a href="#org57816c7">Post</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org8c1adc9">Ansible :</a>
<ul>
<li><a href="#orgbc07cbb">Introduction</a>
<ul>
<li><a href="#orgc5ad7ce">Before Ansible</a></li>
<li><a href="#org9858ca3">Advantages of Configuration Management tool:</a></li>
<li><a href="#orgb6e84c5">Alternative to Ansible (Different Configuration Management tool):</a></li>
<li><a href="#orge4b9e94">WHY Ansible</a></li>
<li><a href="#org9ee7302">[20 march] SSH-Key connection between master and all slave</a></li>
<li><a href="#orgfcb0cdc">[21 march] Installation</a></li>
<li><a href="#org2f7b580">[21 march ] Inventory Enable and Example</a></li>
<li><a href="#orgcd3263a"><span class="todo TODO">TODO</span> Security of Inventory File</a></li>
<li><a href="#org40d8bed">Example 3</a></li>
<li><a href="#org44af59f">[21 march ]Ad-hoc commands</a></li>
<li><a href="#orgea68736">modules : Adhoc cmd are converted in module for simple and easy use</a></li>
<li><a href="#org1feb61d">modules</a></li>
<li><a href="#orgb810419">Playbook</a></li>
<li><a href="#orgf64ea5e">[24 march] when should we use ad-hoc and playbook</a></li>
<li><a href="#org65c1ea7">[24 march] Palybook service (state: reloaded, restarted, started, stopped)</a></li>
<li><a href="#orge3e8105">Palybook copy-module</a></li>
<li><a href="#orgdd4f134">Playbook for create a user</a></li>
<li><a href="#org8abdd48">(yml file ) Playbook create, run , check</a></li>
<li><a href="#org5fc23d4">[24 march] Playbook for file-module</a></li>
<li><a href="#orgebdda9d">Varaible</a></li>
<li><a href="#org5ec01c1">[24 march] Playbook Java installation:</a></li>
<li><a href="#orgce11924">Looping</a></li>
<li><a href="#org243ab2b">Condtions</a></li>
<li><a href="#orgf636b40">Condtionals in Loop</a></li>
<li><a href="#orge15e667">Condtionals &amp; Register</a></li>
<li><a href="#orgc090ea6">[25 march] Roles</a></li>
<li><a href="#org70d5f43">Find Roles</a></li>
<li><a href="#org52240a7"><span class="todo TODO">TODO</span> Use Roles</a></li>
<li><a href="#org8f394a1">List Roles</a></li>
<li><a href="#orga508f45">Patter</a></li>
<li><a href="#org325e553">Dynamic Inventory:</a></li>
<li><a href="#orgc35ebb7">Custom modules:</a></li>
<li><a href="#orgf2c85b7">[25 march]Jinja Template :</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgafd3e37">Ansible(Advance)</a>
<ul>
<li>
<ul>
<li><a href="#org6e47ddb">Role</a></li>
<li><a href="#org549d7a8">Asynchronous Actions</a></li>
<li><a href="#org7aa25ff">Strategy</a></li>
<li><a href="#org4620845">Forks</a></li>
<li><a href="#org65bf034">Error Handling</a></li>
<li><a href="#org3605512">Jinja 2 Templating(Filters)</a></li>
<li><a href="#org51bf424">Lookups</a></li>
<li><a href="#org6a3d493">Vault</a></li>
<li><a href="#org68331df">Dynamic Inventory</a></li>
<li><a href="#orge64fb82">Custom modules</a></li>
<li><a href="#orgc6a3880">Plugins</a></li>
</ul>
</li>
<li><a href="#org57ed5bd">Example</a></li>
</ul>
</li>
<li><a href="#org8df2695">Next Topics to covered</a>
<ul>
<li><a href="#org4a600f5"><span class="todo TODO">TODO</span> Continuous Deployment</a></li>
<li><a href="#orgab6cbaf"><span class="todo TODO">TODO</span> Phase 5: Continuous Monitoring</a></li>
<li><a href="#org287bc83">Real Time Sceanior</a></li>
</ul>
</li>
<li><a href="#org23eaf6d">Docker app for examin or mqc app</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgb0fe62a" class="outline-2">
<h2 id="orgb0fe62a">History of DevOps</h2>
<div class="outline-text-2" id="text-orgb0fe62a">
<p>
Before DevOps, We had two approaches for software development namely the Waterfall and the Agile.
</p>
</div>
<div id="outline-container-org45373ce" class="outline-3">
<h3 id="org45373ce">Waterfall Model</h3>
<div class="outline-text-3" id="text-org45373ce">
</div>
<div id="outline-container-org609628a" class="outline-4">
<h4 id="org609628a">Top-down approch</h4>
<div class="outline-text-4" id="text-org609628a">
</div>
<ul class="org-ul">
<li><a id="org5823ccf"></a>Introduction<br />
<div class="outline-text-5" id="text-org5823ccf">
<p>
<img src="https://d1jnx9ba8s6j9r.cloudfront.net/blog/wp-content/uploads/2019/06/Waterfall-Phases-403x300.png" alt="Waterfall-Phases-403x300.png" />
The waterfall model is a software development model that is pretty straight forward and linear. This model follows a top-down approach.
</p>
</div>
</li>
<li><a id="org6674ec2"></a>&gt; Requirement Gathering and Analysis[Client + Developers]<br />
<div class="outline-text-5" id="text-org6674ec2">
<p>
This model starting with <b>Requirements gathering and analysis</b>. In this phase we  get the requirements from the client for developing an application. After this, you try to analyze these requirements.And make a blueprint of software
</p>
</div>
</li>
<li><a id="org37a1e91"></a>&gt; Design[Developers +..  ]<br />
<div class="outline-text-5" id="text-org37a1e91">
<p>
The next phase is the Design phase where you prepare a blueprint of the software. Here, you think about how the software is actually going to look like.
</p>
</div>
</li>

<li><a id="org5ceefdc"></a>&gt; Implementation[Developers]<br />
<div class="outline-text-5" id="text-org5ceefdc">
<p>
Once the design is ready, you move further to Implementation phase where you begin with the coding for the application. The team of developers works together on various components of the application.
</p>
</div>
</li>
<li><a id="org9e97d66"></a>&gt; Testing[Testers]<br />
<div class="outline-text-5" id="text-org9e97d66">
<p>
Once you complete the application development, you test it in the <b>Verification phase</b>. There are various tests conducted on the application such as unit testing, integration testing, performance testing, etc.
</p>
</div>
</li>
<li><a id="org9aec920"></a>&gt; Depolyment [Developers + Testers]<br />
<div class="outline-text-5" id="text-org9aec920">
<p>
After all the tests on the application are completed, it is <b>deployed</b> onto the production servers.
</p>
</div>
</li>
<li><a id="orge896e76"></a>&gt; maintenance phase[Operator]<br />
<div class="outline-text-5" id="text-orge896e76">
<p>
At last, comes the <b>Maintenance phase</b>. In this phase, the application is monitored for performance. Any issues related to the performance of the application are resolved in this phase.
</p>
</div>
</li>
</ul>
</div>

<div id="outline-container-org7d9ab67" class="outline-4">
<h4 id="org7d9ab67">Advantages of the Waterfall Model:</h4>
<div class="outline-text-4" id="text-org7d9ab67">
<ul class="org-ul">
<li>Simple to understand and use</li>
<li>Allows for easy testing and analysis</li>
<li>Saves a significant amount of time and money</li>
<li>Good for small projects if all requirements are clearly defined</li>
<li>Allows for departmentalization &amp; managerial control</li>
</ul>
</div>
</div>
<div id="outline-container-orgc69e551" class="outline-4">
<h4 id="orgc69e551">Disadvantages of Waterfall Model:</h4>
<div class="outline-text-4" id="text-orgc69e551">
<ul class="org-ul">
<li>Risky and uncertain</li>
<li>Lack of visibility of the current progress</li>
<li>Not suitable when the requirements keep changing</li>
<li>Difficult to make changes to the product when it is in the testing phase</li>
<li>The end product is available only at the end of the cycle</li>
<li>Not suitable for large and complex projects</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orga6c43d6" class="outline-3">
<h3 id="orga6c43d6">Agile Methodology</h3>
<div class="outline-text-3" id="text-orga6c43d6">
<p>
<img src="https://www.hashminds.com/wp-content/uploads/2018/01/agile3-e1516054093712.jpg" alt="agile3-e1516054093712.jpg" />
Agile Methodology is a people-focused, results-focused approach to software development that respects our rapidly changing world.
It’s centered around adaptive planning, self-organization, and short delivery times. It’s flexible, fast, and aims for continuous improvements in quality
Agile Methodology is an iterative based software development approach where the software project is broken down into various iterations or sprints.
Each iteration has phases like the waterfall model such as Requirements Gathering, Design, Development, Testing, and Maintenance.
The duration of each iteration is generally (2-8)(1-4) weeks or (1-2 months).
</p>
</div>

<div id="outline-container-org36c925e" class="outline-4">
<h4 id="org36c925e">Agile Methodology Overview</h4>
<div class="outline-text-4" id="text-org36c925e">
<ul class="org-ul">
<li>It abandons the risk of spending months or years on a process that ultimately fails because of some small mistake in an early phase.It relies instead on trusting employees and teams to work directly with customers to understand the goals and provide solutions in a fast and incremental way.
<ul class="org-ul">
<li>Faster, smaller. Traditional software development relied on phases like outlining the requirements, planning, design, building, testing, and delivery.
Agile methodology, by contrast, looks to deploy the first increment in a couple weeks and the entire piece of software in a couple months.</li>
<li>Communication. Agile teams within the business work together daily at every stage of the project through face-to-face meetings. This collaboration and communication ensure the process stays on track even as conditions change.</li>
<li>Feedback. Rather than waiting until the delivery phase to gauge success, teams leveraging Agile methodology track the success and speed of the development process regularly. Velocity is measured after the delivery of each increment.</li>
<li>Trust. Agile teams and employees are self-organizing. Rather than following a manifesto of rules from management intended to produce the desired result, they understand the goals and create their own path to reach them.</li>
<li>Adjust. Participants tune and adjust the process continually, following the KIS or Keep It Simple principle.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org23c63fc" class="outline-4">
<h4 id="org23c63fc">model Agile Process</h4>
<div class="outline-text-4" id="text-org23c63fc">
<ul class="org-ul">
<li>In Agile, a company releases the application with some high priority features in the first iteration.</li>
<li>After its release, the end-users or the customers give you feedback about the performance of the application.</li>
<li>Then you make the necessary changes into the application along with some new features and the application is again released which is the second iteration.</li>
<li>You repeat this entire procedure until you achieve the desired software quality.
Benefits of Agile Methodology</li>
</ul>
</div>


<ul class="org-ul">
<li><a id="org8f8d8c6"></a>Advantages of Agile Model<br />
<div class="outline-text-5" id="text-org8f8d8c6">
<ul class="org-ul">
<li>It adaptively responds to requirement changes favorably</li>
<li>Fixing errors early in the development process makes this process more cost-effective</li>
<li>Improves the quality of the product and makes it highly error-free</li>
<li>Allows for direct communication between people involved in software project</li>
<li>Highly suitable for large &amp; long-term projects</li>
<li>Minimum resource requirements &amp; very easy to manage</li>
</ul>
<p>
The benefits of Agile are tied directly to its faster, lighter, more engaged mindset. The process, in a nutshell, delivers what the customer wants, when the customer wants it. There’s much less wasted time spent developing in the wrong direction, and the entire system is quicker to respond to changes. For a more comprehensive list of benefits, see this post.
</p>
<ul class="org-ul">
<li>Faster. Speed is one of the biggest benefits of Agile Methodology. A faster software development life cycle means less time between paying and getting paid. That, in turn, means a more profitable business.</li>
<li>Increased customer satisfaction. With Agile, customers don’t wait for months or years, only to get exactly what they didn’t want. Instead, they get iterations of something very close to what they want, very fast. The system adjusts quickly to refine the successful customer solution, adapting as it goes to changes in the overall environment.</li>
<li>Values employees. Employees whose ideas are valued are vastly more productive than those who are ordered to follow a set of rules. The Agile Methodology respects employees by giving them the goal, then trusting them to reach it. Since they’re the ones with their hands on the controls and the ones who see the obstacles that crop up every day, employees are in the best position to respond to challenges and meet the goals at hand.</li>
<li>Eliminates rework. By involving the customer at more than just the phases of requirements and delivery, the project remains on-task and in-tune with customer needs at every step. This means less backtracking and less “out on a limb” time between the time we do the work and the time the customer suggests revisions.</li>
</ul>
</div>
</li>
<li><a id="orgacf4c4c"></a>Disadvantages of Agile Model<br />
<div class="outline-text-5" id="text-orgacf4c4c">
<ul class="org-ul">
<li>Highly dependent on clear customer requirements</li>
<li>Quite Difficult to predict time and effort for larger projects</li>
<li>Not suitable for complex projects</li>
<li>Lacks documentation efficiency</li>
<li>Increased maintainability risks</li>
</ul>
</div>
</li>
<li><a id="org1aff7df"></a>The advantages of the Agile Model are as follows −<br />
<div class="outline-text-5" id="text-org1aff7df">
<ul class="org-ul">
<li>Is a very realistic approach to software development.</li>
<li>Promotes teamwork and cross training.</li>
<li>Functionality can be developed rapidly and demonstrated.</li>
<li>Resource requirements are minimum.</li>
<li>Suitable for fixed or changing requirements</li>
<li>Delivers early partial working solutions.</li>
<li>Good model for environments that change steadily.</li>
<li>Minimal rules, documentation easily employed.</li>
<li>Enables concurrent development and delivery within an overall planned context.</li>
<li>Little or no planning required.</li>
<li>Easy to manage.</li>
<li>Gives flexibility to developers.</li>
</ul>
</div>
</li>

<li><a id="org82c119a"></a>The disadvantages of the Agile Model are as follows −<br />
<div class="outline-text-5" id="text-org82c119a">
<ul class="org-ul">
<li>Not suitable for handling complex dependencies.</li>
<li>More risk of sustainability, maintainability and extensibility.</li>
<li>An overall plan, an agile leader and agile PM practice is a must without which it will not work.</li>
<li>Strict delivery management dictates the scope, functionality to be delivered, and adjustments to meet the deadlines.</li>
<li>Depends heavily on customer interaction, so if customer is not clear, team can be driven in the wrong direction.</li>
<li>There is a very high individual dependency, since there is minimum documentation generated.</li>
<li>Transfer of technology to new team members may be quite challenging due to lack of documentation.</li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-orga4f176d" class="outline-4">
<h4 id="orga4f176d">Diagram</h4>
<div class="outline-text-4" id="text-orga4f176d">
<p>
agile.png
Real time there are 5 environment
</p>
<ul class="org-ul">
<li>dev env</li>
<li>sit env or (SIT:System Integration Test or, QA)</li>
<li>uat env or (UAT: User Acceptanec Test)</li>
<li>pre production :</li>
<li>production :</li>
</ul>
<p>
(development, sit (System Integration and Testing),uat (User Acceptance Testing),prod)
</p>
</div>
</div>
</div>
<div id="outline-container-org928ee34" class="outline-3">
<h3 id="org928ee34">DevOps</h3>
<div class="outline-text-3" id="text-org928ee34">
<p>
<a href="https://www.ibm.com/cloud/learn/devops-a-complete-guide">https://www.ibm.com/cloud/learn/devops-a-complete-guide</a>
DevOps is a set of practices that combines software development (Dev) and IT operations (Ops).It aims to shorten the systems development life cycle and provide continuous delivery with high software quality.
DevOps is complementary with Agile software development; several DevOps aspects came from the Agile methodology. 
</p>

<p>
By definition, DevOps outlines a software development process and an organizational culture shift that speeds the delivery of higher quality software by automating and integrating the efforts of development and IT operations teams – two groups that traditionally practiced separately from each other, or in silos.
</p>
</div>
<div id="outline-container-org2644386" class="outline-4">
<h4 id="org2644386">Stages and Tools</h4>
<div class="outline-text-4" id="text-org2644386">
<p>
source : good explaination  <a href="https://dzone.com/articles/how-to-orc0hestrate-devops-tools-together-to-solve">https://dzone.com/articles/how-to-orc0hestrate-devops-tools-together-to-solve</a>
As mentioned earlier, the various stages such as 
</p>
<ul class="org-ul">
<li>continuous development,</li>
<li>continuous testing,</li>
<li>continuous integration,</li>
<li>continuous deployment, and</li>
<li>continuous monitoring</li>
</ul>
<p>
constitute the DevOps Life cycle [[img] [<img src="https://d1jnx9ba8s6j9r.cloudfront.net/blog/wp-content/uploads/2017/10/devops-explanation.png" alt="devops-explanation.png" />]]. Now let us have a look at each of the stages of DevOps life cycle one by one.
</p>
</div>
</div>


<div id="outline-container-org8857d06" class="outline-4">
<h4 id="org8857d06">Stage – 1: Continuous Development [ Planning(Requirement Gathering &amp; Analysis + Design) + Coding]</h4>
<div class="outline-text-4" id="text-org8857d06">
<ul class="org-ul">
<li>Tools Used: Git, SVN, Mercurial, CVS and JIRA(Atlassian Company(includes bitbucket,bamboo,Trello))</li>
<li>Process Flow: <img src="https://i.stack.imgur.com/UvZ0M.png" alt="UvZ0M.png" /></li>
<li>This is the phase that involves ‘planning‘ and ‘coding‘ of the software.
You decide the project vision during the planning phase and the developers begin developing the code for the application.</li>
<li>There are no DevOps tools that are required for planning, but there are a number of tools for maintaining the code.</li>
<li>The code can be in any language, but you maintain it by using Version Control tools. This process of maintaining the code is known as Source Code Management.</li>
<li>After the code is developed, then you move to the Continuous Integration phase.</li>
</ul>
</div>
</div>

<div id="outline-container-orgc18227a" class="outline-4">
<h4 id="orgc18227a">Stage – 2: Continuous Integration</h4>
<div class="outline-text-4" id="text-orgc18227a">
<ul class="org-ul">
<li>Tools: Jenkins, TeamCity, Travis</li>
<li>Process Flow:</li>
<li>This stage is the core of the entire DevOps life cycle. It is a practice in which the developers require to commit changes to the source code more frequently. This may be either on a daily or weekly basis.</li>
<li>You then build every commit and this allows early detection of problems if they are present. Building code not only involves compilation but it also includes code review, unit testing, integration testing, and packaging.</li>
<li>The code supporting new functionality is continuously integrated with the existing code. Since there is a continuous development of software, you need to integrate the updated code continuously as well as smoothly with the systems to reflect changes to the end-users.</li>
<li>In this stage, you use the tools for building/ packaging the code into an executable file so that you can forward it to the next phases.</li>
</ul>
</div>
</div>

<div id="outline-container-orge3653b5" class="outline-4">
<h4 id="orge3653b5">Stage – 3: Continuous Testing [Build Code + Testing (Test performacne + Test functional + SIT + UAT + Preproduction + Production )]</h4>
<div class="outline-text-4" id="text-orge3653b5">
<ul class="org-ul">
<li>Tools: Jenkins, Selenium TestNG, JUnit</li>
<li>Process Flow:</li>
<li>This is the stage where you test the developed software continuously for bugs using automation testing tools. These tools allow QAs to test multiple code-bases thoroughly in parallel to ensure that there are no flaws in the functionality. In this phase, you can use Docker Containers for simulating the test environment.</li>
<li>Selenium is used for automation testing, and the reports are generated by TestNG. You can automate this entire testing phase with the help of a Continuous Integration tool called Jenkins.</li>
<li>Suppose you have written a selenium code in Java to test your application. Now you can build this code using ant or maven. Once you build the code, you then test it for User Acceptance Testing (UAT). This entire process can be automated using Jenkins.</li>
</ul>
</div>
</div>

<div id="outline-container-orgab7c6a9" class="outline-4">
<h4 id="orgab7c6a9">Stage – 4: Continuous Deployment</h4>
<div class="outline-text-4" id="text-orgab7c6a9">
<p>
Tools Used: 
</p>
</div>
</div>
<div id="outline-container-orge609ed7" class="outline-4">
<h4 id="orge609ed7">Stage – 5: Contionous monitoring</h4>
</div>
</div>
</div>
<div id="outline-container-org4a6c524" class="outline-2">
<h2 id="org4a6c524">Cloud Services</h2>
<div class="outline-text-2" id="text-org4a6c524">
</div>
<div id="outline-container-org089f0f3" class="outline-3">
<h3 id="org089f0f3">Intro</h3>
<div class="outline-text-3" id="text-org089f0f3">
<ul class="org-ul">
<li>Different type of clouds service's available 
<ul class="org-ul">
<li>AWS, Google Cloud Platform,Azure,Linode, Digital Ocean ,, Vm-ware, openstack,</li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgdc208f3" class="outline-4">
<h4 id="orgdc208f3">In MNC's which Cloud Service genrelly used</h4>
<div class="outline-text-4" id="text-orgdc208f3">
<ul class="org-ul">
<li>Note: What is diff btw server,vm's,containers is explained in docker intro</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgc7d1f41" class="outline-3">
<h3 id="orgc7d1f41">Inside AWS</h3>
<div class="outline-text-3" id="text-orgc7d1f41">
<ul class="org-ul">
<li>AWS Ec2 Installation</li>
<li>aws &gt; services &gt; EC2 &gt; Lanch Instance</li>
<li>Lanch Instance
<ul class="org-ul">
<li>Chose AMI &gt; Choose Instance Types &gt; Configure Instance &gt; Add Storage &gt; Add Tags &gt; Congigure Security Group &gt; Review</li>
</ul></li>

<li>AMI(AMazon Image)
<ul class="org-ul">
<li>Linux,Red Hat Enterprise, Ubuntu , Windows</li>
</ul></li>
<li>Instance Type
<ul class="org-ul">
<li>t2.nano   (1 , 0.5gb,ram)</li>
<li>t2.micro  (1 , 1gb,ram)</li>
<li>t2.small  (1, 2gb,ram)</li>
<li>t2.medius (2, 4gb)</li>
<li>t2.large()</li>
<li>t2.Xlarge () &lt;Compancys&gt;</li>
<li>m5.large</li>
</ul></li>
<li>Configur Instance
<ul class="org-ul">
<li>No.of Instance : <span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline">_</span></span></span></span></span></li>
</ul></li>
<li>Add Storgae
<ul class="org-ul">
<li>Volume Type (SSD) , Size</li>
</ul></li>
<li>Add Tag
<ul class="org-ul">
<li>key: name</li>
<li>Value : Devops</li>
</ul></li>
<li>Security Group
<ul class="org-ul">
<li>ssh : 22</li>
<li>http :80</li>
<li>tomcat:8080</li>
</ul></li>
<li>Review Instance Launch
<ul class="org-ul">
<li>Create key-pair (new-keyPair.pem key) &gt; Download keyPair</li>
<li>Key pair must not be publicly viewable for SSH
<ul class="org-ul">
<li>chmod 400 newdevops.pem</li>
</ul></li>
<li>Public DNS
<ul class="org-ul">
<li>ec2-18-220-93-246.us-east-2.computer.amazonaws.com</li>
</ul></li>
<li>SSH
<ul class="org-ul">
<li>using Public DNS
<ul class="org-ul">
<li>ssh -i "new-keyPair.pem" Public<sub>DNS</sub></li>
</ul></li>
<li>using ip
<ul class="org-ul">
<li>ssh -i ec2.user@ip # ssh -i ec2.user@18.220.93.246</li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-sh">ssh -i ec2.user@ip
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org03af0d6" class="outline-2">
<h2 id="org03af0d6">Linux and Shell</h2>
<div class="outline-text-2" id="text-org03af0d6">
<p>
Visit : Linux Tutorial for both Linux and Shell
What is different btw normal user and root user
</p>

<div class="org-src-container">
<pre class="src src-sh">sudo su -
ls -latr
</pre>
</div>
</div>
</div>

<div id="outline-container-org1fa6587" class="outline-2">
<h2 id="org1fa6587">Vi Editor Tutorial</h2>
<div class="outline-text-2" id="text-org1fa6587">
<p>
Visit : vim tutorial
</p>
</div>
</div>
<div id="outline-container-orgc587258" class="outline-2">
<h2 id="orgc587258">git</h2>
<div class="outline-text-2" id="text-orgc587258">
</div>
<div id="outline-container-org902a91e" class="outline-3">
<h3 id="org902a91e">What is git</h3>
<div class="outline-text-3" id="text-org902a91e">
<ul class="org-ul">
<li>git is free and opensouce VCS (Version Control System) created by linux torvaldss in 2005.
<ul class="org-ul">
<li>Version Control System  mean which is used to track all change in project</li>
</ul></li>
<li>Using git
<ul class="org-ul">
<li>No data is lost and undo previous data using his</li>
<li>all users can access and share the project</li>
<li>security: outsiders can access and edit the project</li>
<li>git has (distributed repo )</li>
</ul></li>
</ul>
</div>

<div id="outline-container-org6df7849" class="outline-4">
<h4 id="org6df7849"><span class="todo TODO">TODO</span> Q) git Vs SVN (Subversion)</h4>
<div class="outline-text-4" id="text-org6df7849">
<p>
SVN is centralised VCS , Git is distributed VCS
SVN is still used because of its performance with large files won't be satisfied with Git.
</p>
</div>
</div>
<div id="outline-container-orgfac5aa9" class="outline-4">
<h4 id="orgfac5aa9">In Companys (MNC's) which vcs is used</h4>
<div class="outline-text-4" id="text-orgfac5aa9">
<ul class="org-ul">
<li>general we use bitbucket(atlassian compancy),git,mecury</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgef861a3" class="outline-3">
<h3 id="orgef861a3">short tutorial</h3>
<div class="outline-text-3" id="text-orgef861a3">
<ul class="org-ul">
<li>Creating a version control of local repository
<ul class="org-ul">
<li>We need to Create a version contol file (<code>.git</code>) it create by <code>git init</code></li>
</ul></li>
</ul>

<pre class="example">
git --version
git config --global user.name "Dankarthik25"
git config --global user.email "dankarthik25@gmail.com"
git config --list

git remote -v # info of remote repository

###################################
git init                                  # Inicialize or Create a version control 
git status                                # View the Stagging Area
git add &lt;file&gt;                            # Add files to stagging Area
git add -A                                # add all 
git add -
git reset    # unstage all change in stagging area
git add -A my_dir/             # add all the files and dir inside my_dir
git add --no-all my_dir
git add -u       # used to add all the modefied files but it will not add any new files
git add . # current dir
# but git add . and git add -A
git add * # not recommended 
git add --update # same as -u   
git rim --cached &lt;file&gt;                   # Remove files in Stagging Area

touch .gitignore                          #  list all files  that are need to ignore                    # Ignore files in Stagging Area
cat .gitignore
# .DS_Store
# .project
# *.pyc


git commit -m "fist commit"               # Save-Commit  to Local Repo
git remote add orgin https://github.com/....                      # Connect Local Repo to Remote Repo
git push origin master                    # Upload Local Repo to Remote Repo
git pull                                  # Update Local Repo
git clone https://github.com/..git        # clone to current dir   # Clone
git diff  &lt;commit id&gt; &lt;commit id&gt;         # diff : View changes in fiels

# Commit
git status
git log
git log --oneline

# how to edit previous commit in git
git commit --amend -m "Completed Subtract Function"
git commit --amend  # NEW WINDOW 

## Creat Branch ,push, delete:
git branch &lt;branch-name&gt;       # create a new branch
git chechout -b &lt;branchname&gt;    # to create and moveing to the

git branch                      # list of branch
git branch --list               # list of branch

git checkout UncleDaveEmacs     # Switch one branch to other

git push -u origin UncleDavesEmacs  # push branch from local repo to remote repo
git branch -D UncleDaveEmacs  # delete a branch
git push orign &lt;branch-name&gt;     # push branch to remote repo
git branch -D devop     # git delete a branch in local repository
git push origin --delete &lt;branch name&gt;     # delete branch at remote repositort
git push origin --delete UncleDaveEmacs # delete a branch in remote repository

# Merge
git chekout master # to go to destination (master)
git merge &lt;branch-name&gt;     # merge brach to master git

# rebase
git rebase master
# who to undo the rebase

# CherryPick
git cherrypick &lt;commit-id&gt;

# git reset 
git reset --hard 77592f3  # remove files for workdir,stagging,local
git clean -df #
git reset --soft 77592f3  # local repo to stagging 
git reset --mixed 77592f3 #  local repo to work - dir

# How to undo hard reset
git reflog
#ee46246 HEAD@{0}: reset :moving to 2e7520782
#1b818d3 HEAD@{0}: checkout: moving form subtract-feature to master 
#672915a HEAD@{1}: commit: Note_linux_os:How to config linux for obs external mike
#ed066f3 HEAD@{2}: reset: moving to HEAD~
#460650a HEAD@{3}: commit: Note_linux_os:How to config linux for obs external mike
#ed066f3 HEAD@{4}: commit: Docker_Overview:small changes
#c5e4e3e HEAD@{5}: commit: JFrog:cre Seperate file,need to practice but free trial(30 days)
# 
git checkout 1b818d3
git log # presently we are IN DETACH HEAD STATE and sys will clean after some time
# To save some changes and creatre a new branch
git branch backup
# To undo the reset
#TODO :


git checkout 
# 
git revert 1c08f78
git push origin master

#
# Coreshef : Git tutorial git stash
#
# Git Stash : Save repo tempo but n't commit in log
git stash save "Worked on stash"
git stash list
# stash@{0}: On add : Worked on add function
git checkout &lt;other-branch&gt;
git checkout &lt;1st branch&gt;
git stash apply                #  apply changes
git stash -- .
git stash pop                 # apply and drop the stash
git stash drop              # drop or remove the change
git stash clear             # clear

# Explane when is git stash is helpfull


</pre>
</div>
</div>
<div id="outline-container-org0db9bd2" class="outline-3">
<h3 id="org0db9bd2">Installation and Configuration Cmd</h3>
<div class="outline-text-3" id="text-org0db9bd2">
<pre class="example">
git --version   # &gt;&gt; git version 2.3.2

# Configuration 
git config --global user.name "Dankarthik25"
git config -global user.email "dankarthik25@gmail.com"

# help
git help config
git config --help

#
cat ~/.gitconfig
git config -l
#[user]
#        email = dankarthik25@gmail.com
#        name = Dankarthik25
#[log]
#  date = relative
#[format]
#  pretty = format:%C(auto,yellow)%h%C(auto,magenta)% G? %C(auto,blue)%&gt;(12,trunc)%ad %C(auto,green)%&lt;(7,trunc)%aN%C(auto,reset)%s%C(auto,red)% gD% D

# To store TOKEN for next use
# Generate TOKEN : GITHUB &gt; Settings &gt; Developer setting  &gt; Personal acess Token &gt; Generate TOKEN 
git config --global credential.helper cache   #   
git config --global --unset credential.helper # To unset the user-name and password
# https://www.youtube.com/watch?v=kHkQnuYzwoo

</pre>
</div>
</div>

<div id="outline-container-org62c00cb" class="outline-3">
<h3 id="org62c00cb"><span class="todo TODO">TODO</span> Q)THREE MAIN STATES IN GIT</h3>
<div class="outline-text-3" id="text-org62c00cb">
<ul class="org-ul">
<li>GIT HAS THREE MAIN STATES THAT YOUR FILES CAN RESIDE IN:
<ul class="org-ul">
<li>WORKING-DIR, STAGGING AREA, LOCAL REPO, REMOTE REPO</li>
<li><code>WORKING-DIR</code>       FILE SYSTEM (DIR/FILES)WHICH IS  NOT  <code>VERSION CONTROL</code> (NOT COMMITTED/NOT SAFE)</li>
<li><code>STAGGING AREA</code>     MARKED AS MODIFIED WHICH NEED VERSION CONTROL (NEED TO COMMIT/NEED TO SAFED)</li>
<li><code>LOCAL REPOSITORY</code>  FILE SYSTEM (DIR/FILES) WHICH IS VERSION CONTROL (COMMENTED/SAFED)</li>
<li><code>REMOTE REPOSITORY</code> LOCAL REPOSIOTORY IS BACKUP/UPDATING CENTRAL-REPOSIOTORY 
IN LOCAL REPOSITORY <code>.GIT DIRECTORY</code>.</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org0bbd3b0" class="outline-4">
<h4 id="org0bbd3b0">HOW TO COMMIT FILES ?</h4>
<div class="outline-text-4" id="text-org0bbd3b0">
</div>
<ul class="org-ul">
<li><a id="orgdcab53d"></a>INITIALIZE  THE FILE OR LOCAL-REPOSITORY  (GIT INIT):()<br />
<div class="outline-text-5" id="text-orgdcab53d">
<p>
CREATE A VERSION CONTROL FOLDER OR <code>INITIALIZE</code> OR TRACK (CHANGES OR VERSIONS) WE HAVE TO INITIALIZE THE FOLDER 
</p>
<div class="org-src-container">
<pre class="src src-SH"># GO THE DIRECTORY (LOCAL-REPOSITORE) THAT HAS TO BE VERSION CONTROL 
GIT INIT
</pre>
</div>

<p>
THIS WILL CREATE A <code>.GIT</code> FILE IN THE CURRENT DIRECTORY  WHICH CONSIST OF ALL THE CHANGE THAT ARE TO BE DONE
</p>
</div>
</li>
<li><a id="orge67c14f"></a>ADDING FILES TO GIT (GIT ADD FILE)<br />
<div class="outline-text-5" id="text-orge67c14f">
<p>
FILES WHICH ARE UNCOMMITED ARE CHANGED TO <code>STAGED</code> 
</p>
<div class="org-src-container">
<pre class="src src-SH">GIT ADD &lt;FILE&gt;             # ADD FILES TO GIT
GIT ADD -A                     # ADD ALL FILE
GIT STATUS                     # SHOW &lt;FILE&gt; OR ALL FILE ARE CHANGE TO COMMITED AREA
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org6315b10"></a>EXAMPLE:<br />
<div class="outline-text-6" id="text-org6315b10">
<div class="org-src-container">
<pre class="src src-SH">GIT ADD .GITIGNORE
GIT ADD .EMACS
GIT ADD .VIMRC
</pre>
</div>
<p>
<code>.GITIGNORE</code>  WHICH WAS IN UNTRACKED () IS CHANGED TO STAGING AREA OR COMMITTED
</p>
</div>
</li>
</ul>
</li>
<li><a id="org7c91954"></a>REMOVING FILES FROM GIT (GIT RESET FILE)<br />
<div class="outline-text-5" id="text-org7c91954">
<div class="org-src-container">
<pre class="src src-SH">GIT RESET &lt;FILE&gt;                     # REMOVE  FILES FROM STATING AREA( COMMITTED)
GIT RESET                                  # REMOVE ALL FILES
</pre>
</div>
</div>
</li>
<li><a id="org0cb3874"></a>.GITIGNORE<br />
<div class="outline-text-5" id="text-org0cb3874">
<p>
HIDDEN FILE <code>.GITIGNORE</code>  CONTAIN THE LIST OF THE ALL THE FILE AND FOLDER THAT IGNORE BY GIT FOR VERSION CONTROL
</p>
<div class="org-src-container">
<pre class="src src-SH">TOUCH .GITIGNORE
LS -A &gt;&gt; .GITIGONRE	# AND REMOVE THE FILES NEED TO BE VC
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org3c20b95"></a>EXAMPLE<br />
<div class="outline-text-6" id="text-org3c20b95">
<p>
IN FILE ADD THE FILE OR FOLDERS THAT ARE TO IGNORED BY GIT
</p>
<div class="org-src-container">
<pre class="src src-SH"># FILE THAT ARE TO IGNORE
.DS_STORE
.PROJECT
*.PYC
</pre>
</div>
</div>
</li>
</ul>
</li>
<li><a id="org668c8a2"></a>COMMIT FILES (GIT COMMIT)<br />
<div class="outline-text-5" id="text-org668c8a2">
<p>
NOTE : ALL FILES ARE NEED TO TO ADD/IGNORED THEN ONLY WE CAN COMMIT FILES
</p>
<div class="org-src-container">
<pre class="src src-SH">GIT ADD -A
GIT COMMIT -M "INITIAL COMMIT"                        # FILE ARE COMMITED 
GIT STATUS                                                                  # SHOW NOTHING TO COMMIT , WORKING DIRECTORU CLEAN    
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org1da7d02" class="outline-4">
<h4 id="org1da7d02">CONNECT LOCAL REPOSITORY TO REMOTE REPOSITORY</h4>
<div class="outline-text-4" id="text-org1da7d02">
<div class="org-src-container">
<pre class="src src-SH">GIT REMOTE ADD ORIGIN URL    # EG: GIT REMOTE ADD ORIGIN HTTPS://GITHUB.COM/DANKARTHIK25/PYTHONUDEMYTUTORIAL  
</pre>
</div>
</div>
</div>
<div id="outline-container-org52f087f" class="outline-4">
<h4 id="org52f087f">PUSH LOCAL REPOSITORY TO REMOTE REPOSITORY (GIT PUSH)</h4>
<div class="outline-text-4" id="text-org52f087f">
<div class="org-src-container">
<pre class="src src-SH">GIT PUSH ORIGIN MASTER
# GIT PUSH ORIGIN MASTER -F     # FORCE IF CMD NOT WORKS
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf498624" class="outline-4">
<h4 id="orgf498624"><span class="todo TODO">TODO</span> PULL REMOTE REPOSITORY TO LOCAL REPOSITORY</h4>
<div class="outline-text-4" id="text-orgf498624">
<div class="org-src-container">
<pre class="src src-SH">GIT PULL
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb11f68c" class="outline-3">
<h3 id="orgb11f68c">CLONNING A REPOSITORY</h3>
<div class="outline-text-3" id="text-orgb11f68c">
<div class="org-src-container">
<pre class="src src-SH">GIT CLONE &lt;URL&gt; &lt;PATH- WHICH DIR&gt;
GIT CLONE ../REMOTE_REPO.GIT .
GIT CLONE &lt;URL&gt; .                        # . MEANS CURRENT DIRECORY
</pre>
</div>
</div>
</div>

<div id="outline-container-orgabafb82" class="outline-3">
<h3 id="orgabafb82">Q)PULL VS FETCH</h3>
<div class="outline-text-3" id="text-orgabafb82">
<ul class="org-ul">
<li>IN THE SIMPLEST TERMS, GIT PULL DOES A GIT FETCH FOLLOWED BY A GIT MERGE.</li>
<li>GIT FETCH
<ul class="org-ul">
<li>UPDATE YOUR REMOTE-TRACKING BRANCHES UNDER REFS/REMOTES/&lt;REMOTE&gt;/.</li>
<li>NO CHANGE IN LOCAL REPO/BRANCH,STAGING AREA, WORKING DIR.</li>
</ul></li>
<li>GIT PULL
<ul class="org-ul">
<li>UPDATE YOUR REMOTE-TRACKING BRANCHES UNDER REFS/REMOTES/&lt;REMOTE&gt;/.</li>
<li>CHANGE LOCAL BRANCH AND WORKING DIR
<ul class="org-ul">
<li>NOTE: ALL THE UNTRACKED DATA WILL BE LOST IN WORKING DIR</li>
<li>NOTE: MERGE ONLY CURRENT BRANCH WICH IT IS PULLED</li>
</ul></li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-SH"># FETCH HOLD DATA(FETCH DATA FROM REMOTE  REPOSITORY TO LOCAL REPOSITORY)  R  BUT NOT MERGES WITH CURRENT REPOSIOTORY
GIT FETCH
GIT MERGE # IT MERGES LOCAL REPOSITORY TO CURRENT REPOSITORY 

# PULL
GIT PULL ORIGIN &lt;BRANCH-NAME&gt; # GIT FETCH AND GIT MERGE
</pre>
</div>
</div>
</div>

<div id="outline-container-org25d2a9f" class="outline-3">
<h3 id="org25d2a9f">LOG</h3>
<div class="outline-text-3" id="text-org25d2a9f">
<p>
CONSIST OF &lt; COMMIT ID, AUTHOR, DATE, COMMENT ON COMMIT &gt; 
 MODE ON YOUR BRANCH
</p>
<div class="org-src-container">
<pre class="src src-SH">GIT LOG  # GIVE &lt;GIT ID,AUTHOR, DATE, COMMIT MESSAGE&gt;
GIT LOG --ONLINE # GIVE SHORT VERSION ONLY &lt; COMMIT ID, COMMENT- MESSAGE &gt;

#COMMIT 874357761CE77A9A925C1066D9CEF6E81A5881A5
#AUTHOR: DANKARTHIK25 &lt;DANKARTHIK25@GMAIL.COM&gt;
#DATE:   FRI APR 10 06:56:16 2020 +0530

 #   REVISED DOCKER

#COMMIT 7432654C56923FE3BC18B19D7AC69E70300D86F4
#AUTHOR: DANKARTHIK25 &lt;DANKARTHIK25@GMAIL.COM&gt;
#DATE:   THU APR 9 07:16:05 2020 +0530

 #   SEPERATE DOCKER_KUBERNETICS


#    MY NOTES ON PROG
GIT LOG --ONELINE
# 70DA939 (HEAD -&gt; MASTER, ORIGIN/MASTER) NEW CHANGE
# 53DD0EE NEW CHANGE
# F537B27 NEW CHANGE
# 432784E NEW CHANGE
# 546BC17 LINK AND COMPOSE ADDED
# 8743577 REVISED DOCKER
# 7432654 SEPERATE DOCKER_KUBERNETICS
# E981603 SEPERATE ANSIBLE
# ABB9DEE LAST COMMIT
# 9AB9C9A ADDED ANSIBLE AND DOCKER, KUBERNETIC FILES
# C39821D MY NOTES
# 370FCA2 MY NOTES ON PROG

</pre>
</div>
</div>
</div>
<div id="outline-container-org61cbf41" class="outline-3">
<h3 id="org61cbf41">CREATING A BRANCH (GIT BRANCH &lt;BRANCH-NAME&gt;)</h3>
<div class="outline-text-3" id="text-org61cbf41">
<p>
SOURCE : <a href="//NVIE.COM/POSTS/A-SUCCESSFUL-GIT-BRANCHING-MODEL/">//NVIE.COM/POSTS/A-SUCCESSFUL-GIT-BRANCHING-MODEL/</a> 
</p>
<div class="org-src-container">
<pre class="src src-SH">## CREAT BRANCH ,PUSH, DELETE:
GIT BRANCH &lt;BRANCH-NAME&gt;                  # CREATE A NEW BRANCH
GIT BRANCH UNCLEDAVEEMACS       # CREATE A BRANCH
GIT BRANCH                      # LIST OF BRANCH
GIT BRANCH --LIST               # LIST OF BRANCH
GIT CHECKOUT UNCLEDAVEEMACS     # SWITCH ONE BRANCH TO OTHER
GIT CHECHOUT -B &lt;BRANCHNAME&gt;    # TO CREATE AND MOVEING TO THE &lt;BRANCH-NAME&gt;
GIT PUSH -U ORIGIN UNCLEDAVESEMACS  # PUSH BRANCH FROM LOCAL REPO TO REMOTE REPO
GIT BRANCH -D UNCLEDAVEEMACS  # DELETE A BRANCH
GIT PUSH ORIGN &lt;BRANCH-NAME&gt;     # PUSH BRANCH TO REMOTE REPO
GIT BRANCH -D DEVOP     # GIT DELETE A BRANCH IN LOCAL REPOSITORY
GIT PUSH ORIGIN --DELETE &lt;BRANCH NAME&gt;     # DELETE BRANCH AT REMOTE REPOSITORT
GIT PUSH ORIGIN --DELETE UNCLEDAVEEMACS # DELETE A BRANCH IN REMOTE REPOSITORY
</pre>
</div>
</div>
</div>
<div id="outline-container-orga1f580d" class="outline-3">
<h3 id="orga1f580d">GIT BRANCHING MODELING</h3>
<div class="outline-text-3" id="text-orga1f580d">
<p>
IF YOUR TEAM IS DOING CONTINUOUS DELIVERY THEN IT IS SUGGESTED TO FOLLOW GIT BRANCH MODEL. HERE IS A SIMPLE VERSION OF IT
<a href="//NVIE.COM/POSTS/A-SUCCESSFUL-GIT-BRANCHING-MODEL/">//NVIE.COM/POSTS/A-SUCCESSFUL-GIT-BRANCHING-MODEL/</a>
</p>

<p>
AT THE CORE, THE DEVELOPMENT MODEL IS GREATLY INSPIRED BY EXISTING MODELS OUT THERE. THE CENTRAL REPO HOLDS TWO MAIN BRANCHES(MASTER(ORIGIN) , DEVELOPER)
WITH AN <b>INFINITE LIFETIME</b>:
</p>
<ul class="org-ul">
<li>MASTER :
WE CONSIDER ORIGIN/MASTER TO BE THE MAIN BRANCH</li>
<li><p>
DEVELOP:
WHEN THE SOURCE CODE IN THE DEVELOP BRANCH REACHES A STABLE POINT AND IS READY TO BE RELEASED, ALL OF THE CHANGES SHOULD BE MERGED BACK INTO MASTER SOMEHOW AND THEN TAGGED WITH A RELEASE NUMBER.
</p>

<p>
THEREFORE, EACH TIME WHEN CHANGES ARE MERGED BACK INTO MASTER, THIS IS A NEW PRODUCTION RELEASE BY DEFINITION. WE TEND TO BE VERY STRICT AT THIS, SO THAT THEORETICALLY, WE COULD USE A GIT HOOK SCRIPT TO AUTOMATICALLY BUILD AND ROLL-OUT OUR SOFTWARE TO OUR PRODUCTION SERVERS EVERYTIME THERE WAS A COMMIT ON MASTER
</p>

<p>
ANY FEATURE BRANCH FROM DEVELOP MUST MERGE BACK INTO DEVELOP. FEATURE BRANCHES ARE LIMITED TIME BRANCH WHICH WILL EVENTUALLY MERGED BACK TO DEVELOP BRANCH
</p></li>

<li><p>
SUPPORTING BRANCHES:
DEVELOPMENT MODEL USES A VARIETY OF SUPPORTING BRANCHES TO AID
</p>
<ul class="org-ul">
<li>PARALLEL DEVELOPMENT BETWEEN TEAM MEMBERS,</li>
<li>EASE TRACKING OF FEATURES,</li>
<li>PREPARE FOR PRODUCTION RELEASES AND TO</li>
<li>ASSIST IN QUICKLY (BUG)FIXING LIVE PRODUCTION PROBLEMS.</li>
</ul>

<p>
UNLIKE THE MAIN BRANCHES, THESE BRANCHES ALWAYS HAVE A <b>LIMITED LIFE TIME</b>, SINCE THEY WILL BE REMOVED EVENTUALLY.
</p></li>
</ul>

<p>
THE DIFFERENT TYPES OF BRANCHES WE MAY USE ARE:
</p>
<ul class="org-ul">
<li><p>
FEATURE
ANY FEATURE BRANCH FROM DEVELOP MUST MERGE BACK INTO DEVELOP. FEATURE BRANCHES ARE LIMITED TIME BRANCH WHICH WILL EVENTUALLY MERGED BACK TO DEVELOP BRANCH 
</p>

<p>
NAMING CONVENTION:ANYTHING EXCEPT MASTER, DEVELOP, RELEASE-<b>, OR HOTFIX-</b>
</p>

<p>
FEATURE BRANCHES (TOPIC BRANCHES) ARE USED TO DEVELOP NEW FEATURES FOR THE UPCOMING OR A DISTANT FUTURE RELEASE.
WHEN STARTING DEVELOPMENT OF A FEATURE, THE TARGET RELEASE IN WHICH THIS FEATURE WILL BE INCORPORATED MAY WELL BE UNKNOWN AT THAT POINT. THE ESSENCE OF A FEATURE BRANCH IS THAT IT EXISTS AS LONG AS THE FEATURE IS IN DEVELOPMENT, BUT WILL EVENTUALLY BE MERGED BACK INTO DEVELOP (TO DEFINITELY ADD THE NEW FEATURE TO THE UPCOMING RELEASE) OR DISCARDED (IN CASE OF A DISAPPOINTING EXPERIMENT).
</p></li>

<li><p>
RELEASE BRANCH
ANY RELEASE BRANCHES FROM DEVELOP AND MUST MERGE BACK INTO DEVELOP AND MASTER. NAMING CONVENTION(RELEASE-*)
</p>
<ul class="org-ul">
<li>RELEASE BRANCHES SUPPORT PREPARATION OF A NEW PRODUCTION RELEASE.</li>
<li>ALLOW FOR MINOR BUG FIXES AND</li>
<li>PREPARING META-DATA FOR A RELEASE (VERSION NUMBER, BUILD DATES, ETC.).</li>
</ul>

<p>
BY DOING ALL OF THIS WORK ON A RELEASE BRANCH, THE DEVELOP BRANCH IS CLEARED TO RECEIVE FEATURES FOR THE NEXT BIG RELEASE.
</p>

<p>
THE KEY MOMENT OFF A NEW RELEASE BRANCH WHEN
</p>
<ul class="org-ul">
<li>ATLEAST ALL FEATURES THAT ARE TARGETED FOR THE RELEASE-TO-BE-BUILT MUST BE MERGED IN TO DEVELOP AT THIS POINT IN TIME.</li>
<li>ALL FEATURES TARGETED AT FUTURE RELEASES MAY NOT—THEY MUST WAIT UNTIL AFTER THE RELEASE BRANCH IS BRANCHED OFF.</li>
</ul></li>

<li><p>
HOTFIX(BUG-FIX)
ANY HOTFIX BRANCH FROM MASTER MUST MERGE BACK INTO DEVELOP AND MASTER
NAMING CONVENTION:HOTFIX-* 
</p>

<p>
THEY ARISE FROM THE NECESSITY TO
</p>
<ul class="org-ul">
<li>ACT IMMEDIATELY UPON AN UNDESIRED STATE OF A LIVE PRODUCTION VERSION.</li>
<li>WHEN A CRITICAL BUG IN A PRODUCTION VERSION MUST BE RESOLVED IMMEDIATELY, A HOTFIX BRANCH MAY BE BRANCHED OFF FROM THE CORRESPONDING TAG ON THE MASTER BRANCH THAT MARKS THE PRODUCTION VERSION.</li>
</ul>

<p>
THE ESSENCE IS THAT TEAM MEMBERS (ON THE DEVELOP BRANCH) CAN CONTINUE, WHILE ANOTHER PERSON IS PREPARING A QUICK PRODUCTION FIX.
</p></li>
</ul>
</div>
</div>

<div id="outline-container-org8837ea9" class="outline-3">
<h3 id="org8837ea9">REVERT :</h3>
<div class="outline-text-3" id="text-org8837ea9">
<p>
WHEN CODE IS PUSHED TO REMOTE BUT YOU WANT CHANGES BACK FROM REMOTE &gt; LOCAL 
</p>
<div class="org-src-container">
<pre class="src src-SH">GIT LOG --ONELINE # TO GET THE COMMIT ID

GIT REVERT 77592F3   # TO CHANGE CODE FROME TO REMOTE TO LOCAL REPO

# TO CHANGE THE CODE FROM LOCAL TO REMOTE WE NEED TO PUSH FROM LOCAL TO REMOTE

GIT PUSH ORIGIN MASTER


</pre>
</div>
</div>
</div>

<div id="outline-container-orgef33ab7" class="outline-3">
<h3 id="orgef33ab7">RESET VS REVERT</h3>
<div class="outline-text-3" id="text-orgef33ab7">
</div>
<div id="outline-container-orgf6f5f8c" class="outline-4">
<h4 id="orgf6f5f8c">GIT RESET</h4>
<div class="outline-text-4" id="text-orgf6f5f8c">
<p>
THE GIT RESET COMMAND ALLOWS YOU TO RESET YOUR CURRENT HEAD TO A SPECIFIED STATE. YOU CAN RESET THE STATE OF SPECIFIC FILES AS WELL AS AN ENTIRE BRANCH. THIS IS USEFUL IF YOU HAVEN'T PUSHED YOUR COMMIT UP TO GITHUB OR ANOTHER REMOTE REPOSITORY YET.
</p>
</div>
</div>
<div id="outline-container-orgb8f2428" class="outline-4">
<h4 id="orgb8f2428">THREE TYPES OF RESET</h4>
<div class="outline-text-4" id="text-orgb8f2428">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">TYPE OF RESET</th>
<th scope="col" class="org-left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">SOFT</td>
<td class="org-left">KEEP ALL CHANGES IN STAGGING AREA, REMOVE FROM LOCAL REPO</td>
</tr>

<tr>
<td class="org-left">MIXED</td>
<td class="org-left">KEEP ALL CHANGES IN WORKIND DIR, REMOVE FROM STAGGING AND LOCAL REPO</td>
</tr>

<tr>
<td class="org-left">HARD</td>
<td class="org-left">REMOVES ALL CHANGES FROM LOCAL REPO,STAGGING AND LOCAL REPO</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>IN THE SIMPLEST TERMS:</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">TYPE OF RESET</th>
<th scope="col" class="org-left">WORKDIR</th>
<th scope="col" class="org-left">STAGGING AREA</th>
<th scope="col" class="org-left">LOCAL REPO</th>
<th scope="col" class="org-left">GIT LOG</th>
<th scope="col" class="org-left">REMOTE REPO</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">SOFT</td>
<td class="org-left">PRESCENT</td>
<td class="org-left">MOVED TO STAGGING AREA</td>
<td class="org-left">REMOVED</td>
<td class="org-left">REMOVED</td>
<td class="org-left">PRESCENT</td>
</tr>

<tr>
<td class="org-left">MIXED</td>
<td class="org-left">MOVED TO WORKDIR</td>
<td class="org-left">REMOVED</td>
<td class="org-left">REMOVED</td>
<td class="org-left">REMOVED</td>
<td class="org-left">PRESCENT</td>
</tr>

<tr>
<td class="org-left">HARD</td>
<td class="org-left">REMOVED</td>
<td class="org-left">REMOVED</td>
<td class="org-left">REMOVED</td>
<td class="org-left">REMOVED</td>
<td class="org-left">PRESCENT</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org43eb08b" class="outline-4">
<h4 id="org43eb08b"><span class="todo TODO">TODO</span> REVERT (NEED TO CHECK IF REVERT ALTERING HISTORY OF COMMITS)</h4>
<div class="outline-text-4" id="text-org43eb08b">
<p>
BOTH THE GIT REVERT AND GIT RESET COMMANDS UNDO PREVIOUS COMMITS. BUT IF YOU'VE ALREADY PUSHED YOUR COMMIT TO A REMOTE REPOSITORY, IT IS RECOMMENDED THAT YOU DO NOT USE GIT RESET SINCE IT REWRITES THE HISTORY OF COMMITS. THIS CAN MAKE WORKING ON A REPOSITORY WITH OTHER DEVELOPERS AND MAINTAINING A CONSISTENT HISTORY OF COMMITS VERY DIFFICULT.
</p>

<p>
INSTEAD, IT IS BETTER TO USE GIT REVERT, WHICH UNDOES THE CHANGES MADE BY A PREVIOUS COMMIT BY CREATING AN ENTIRELY NEW COMMIT, ALL WITHOUT ALTERING THE HISTORY OF COMMITS.
</p>


<div class="org-src-container">
<pre class="src src-SH"># DELETE FILE IN LOCAL AND REMOTE REPO

# TO REMOVE FILE FOR REMOTE TO  
GIT REVERT &lt;COMMITID&gt; 
GIT COMMIT - M "REMOVE FROM REMOTE"

GOT LOG --ONELINE

#COMMIT ID : 1
#COMMIT ID : 2
#COMMIT ID : 3
#COMMIT ID : 4
#COMMIT ID : 5
GIT RESET --SOFT 2 # KEEP THE COMMIT AFTER 2 (3,4,5) 
#COMMIT ID : 3
#COMMIT ID : 4
#COMMIT ID : 5


GIT RESET --HARD 77592F3  # 
GIT RESET --SOFT 77592F3  # LOCAL REPO TO STAGGING 
GIT RESET --MIXED 77592F3 #  LOCAL REPO TO WORK - DIR

GIT LOG --ONELINE
# BEEF857 REVERT "CREATED TEST3 FILE"
# 77592F3 CREATED TEST3 FILE
# 1C08F78 CREATED TEST2 FILE
# 78B777D CREATED TEST1 FILE
# A7968C1 CREATED HH
# 4B30445 CREATED BB
# 2E435CA CREATED GG FILE TO INTALL GIT

GIT REVERT 1C08F78
GIT PUSH ORIGIN MASTER
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org67a2a01" class="outline-3">
<h3 id="org67a2a01">MERGE</h3>
<div class="outline-text-3" id="text-org67a2a01">
<div class="org-src-container">
<pre class="src src-SH">GIT CHECKOUT MASTER # TO GIT &lt;BRANCH-NAME&gt;
GIT MERGE DEVOP # GIT MERGE &lt;OTHER-BRANCH-NAME&gt;

##  EXAMPLE 

# CREATE NN FILE IN "DEVOP"  BRANCH
GIT CHECKOUT DEVOP
TOUCH NN
GIT ADD .
GIT COMMIT -M "CREATED NN FILE"
GIT PUSH  ORIGIN DEVOP

# MERGE "DEVOP" BRANCH TO  "MASTER BRANCH"
GIT CHEKCHOUT MASTER

</pre>
</div>
</div>
</div>
<div id="outline-container-orgf112897" class="outline-3">
<h3 id="orgf112897"><span class="todo TODO">TODO</span> MERGE VS REBASE VS CHERRYPICK</h3>
<div class="outline-text-3" id="text-orgf112897">
<p>
GIT MERGE :
</p>
<ul class="org-ul">
<li>IS A NON-DESTRUCTIVE OPERATIONS</li>
<li>EXISTING BRANES ARE NOT CHANGE IN ANY WAY</li>
<li>CREATE NEW &lt;COMMIT-ID&gt; IN ORIGINAL(MAIN) BRANCH</li>
<li>NORMAL MERGE CHANGES HISTORY AND SQUASH MERGE WILL NOT CHANGE HISTORY ALL ORIGINAL BUT NEW COMMIT-ID IS CREATED .</li>
</ul>

<p>
GIT REBASE:
</p>
<ul class="org-ul">
<li>MOVES THE ENTIRE 2ND BRANCH TO MAIN BRANCH</li>
<li>RE-WRITES THE PROJECT HISTORY</li>
<li>WE GET MUCH CLEANER AND LINEAR PROJECT</li>
</ul>

<p>
GIT CHERRY-PICK:
</p>
<ul class="org-ul">
<li>ADD SPECIFIC &lt;COMMIT -ID&gt;  TO 1ST BRANCH</li>
<li>FOR CHERRY-PICK ADD PARTICULAR &lt;COMMIT -ID&gt;</li>
</ul>
<div class="org-src-container">
<pre class="src src-SH">GIT CHECKOUT MASTER
TOUCH AAA
GIT ADD AAA
GIT COMMIT -M "CREATED AAA FILE IN MASTER"

GIT CHECKHOUT -B "RELEASE-1.0"
GIT REBASE MASTER
</pre>
</div>
</div>

<div id="outline-container-orge4918fa" class="outline-4">
<h4 id="orge4918fa">CHEERY PIK</h4>
<div class="outline-text-4" id="text-orge4918fa">
<p>
NOT ALL COMMIT ID IN BRANCH ARE MERGED IN MAIN BRANCH
BUT SELECTED COMMIT ID ARE MERGED IN MAIN BRANCH
</p>

<div class="org-src-container">
<pre class="src src-SH">GIT CHECKOUT -B FUTURE
TOUCH WW
GIT ADD .
GIT COMMIT -M "CREATE WW FILE"
TOUCH WW

TOUCH WWW
GIT ADD .
GIT COMMIT - M "CREATE WWW FILE"


TOUCH WWWW
GIT ADD
GIT COMMIT - M "CREATE WWWW FILE"

TOUCH WWWWW | GIT ADD .
GIT COMMIT -M "CREATE WWWWW FILE"

GIT LOG --ONLINE 
# C459D7A CREATED WWWWWW FILE
# B866590 CREATED WWWWW FILE
# B510FA6 CREATED WWW FILE
# B6B5153 CREATED WW FILE
# 9D75EB8 CREATED AAA FILE IN MASTER
# 7FB9174 CREATED FILE CALLED MM

# Q) MERGE ONLY WWW FILE FROM FUTURE BRACH TO MASTER
GIT LOG --ONLINE # TO GET THE &lt;COMMIT -ID&gt; OF WWW FILE : B877590

GIT CHECKOUT MASTER

GIT CHERRY-PICK B877590
GIT LOG --ONLINE 
# B866590 CREATED WWWWW FILE
# 9D75EB8 CREATED AAA FILE IN MASTER
# 7FB9174 CREATED FILE CALLED MM

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org3f7e8a2" class="outline-3">
<h3 id="org3f7e8a2">CONFLICTS</h3>
<div class="outline-text-3" id="text-org3f7e8a2">
<p>
 EDUREKA <a href="//WWW.YOUTUBE.COM/WATCH?V=KMOMW19ZCGS&amp;T=9872S">//WWW.YOUTUBE.COM/WATCH?V=KMOMW19ZCGS&amp;T=9872S</a>
WHEN TWO BRANCH &lt;KAR&gt; &lt;SANJAY&gt; MAKE DIFFERENT CHANGE IN A SAME FILE 
</p>
<div class="org-src-container">
<pre class="src src-SH">GIT CHECKOUT MASTER
VI WW
# HELLO

GIT ADD  .
GIT COMMIT -M "MODIFIED WW FILE"

GIT LOG 

GIT CHECKOUT FUTURE
VI WW
# HELLO,
# BOOK TICKTES

GIT COMMIT -M "MODIFILED WW FILE"

GIT CHECKOUT MASTER

GIT MERGE FUTURE 
#ERROR MESSAGE: CONFLICT (CONTENT): MERGE CONFILCT IN WW
#             : FIX CONFLICTS AND THEN COMMIT THE RESULTS
VI WW

</pre>
</div>

<p>
THERE TOOLS WHICH USE TO RESOLVE THE CONFLICTS
WIN-MERGE
KDIFF3 # IN GIT
</p>

<pre class="example">
# install kdiff3 merge tool in git 
git config --global merge.tool kdiff3
git merge future 
#error message: conflict (content): merge confilct in ww
#             : fix conflicts and then commit the results
git mergetool

</pre>
</div>
</div>
<div id="outline-container-orgae3de88" class="outline-3">
<h3 id="orgae3de88">STASHING</h3>
<div class="outline-text-3" id="text-orgae3de88">
<p>
IT IS WAY TO CREATE A CHECKPOINT FOR NON-COMMITTED CHANGES.
IT SAVES ALL THE CHANGES TO A TEMPORARY LOCATION SO THE USER CAN PERFORM OTHER TASK SUCH AS SWITCHING BRANCHES, REVERTING ETC.
THESE CHANGES CAN THEN BE  REAPPLIED ELSEWHERE.
</p>

<ul class="org-ul">
<li>STASH (CLEAR AND STORE) THE CHANGES IN DIRTY WORKING DIRCTORY</li>
<li>STASH COMMAND ONLY TAKES <b>UNCOMMIED</b> CHANGES (EITHER IN WORKING DIR OR STAGING AREA)</li>
<li>STASH COMMAND FLOW:
<ul class="org-ul">
<li>RECORDS CURRENT STATE OF WORKING DIRCTORY AND INDEX</li>
<li>SAVES LOCAL UNCOMMITED CHANGES SEPARATELY AND REVERT WORKING DIR TO HEAD COMMIT</li>
</ul></li>
<li>AFTER THESE YOU WILL GET A CLEAN BRANCH</li>
<li>WE CAN RE-APPLY STASH CHANGES AGAIN USING STASH POP OR STASH APPLY</li>
</ul>
<div class="org-src-container">
<pre class="src src-SH">GIT STASH  # STASH LOCAL CHANGES
GIT STASH LIST # LIST MODIFIED STASHED 
GIT SHOW STASH # TO INSPECT OR CHECK DETAILS OF PARTICUAL STASH:
GIT STASH APPLY   # APPLY CHANGES  IN WRK DIR AND KEEP STASH IF REQUIRED FOR OTHER BRANCH
GIT STASH POP  # REMOVED STASH CHANGES AND ADD THEM IN CURRENT WRK
</pre>
</div>

<div class="org-src-container">
<pre class="src src-SH"># IN MASTER  BRANCH 
TOUCH TEST.TXT README.MD
GIT ADD README.MD
# SWITCH TO MASTER BRANCH
GIT CHEKOUT FEATURE 
# ERROR : YOUR LOCAL CHANGES TO THE FOLLOWING FILES WOULD BE OVERWRITTEN BY CHECKOUT: TEST.TXT
#PLEASE COMMIT : YOUR CHANGES OR STASH THEM BEFORE YOU SWITCH BRANCHES.
GIT STASH
GIT CHECKOUT FEATURE
GIT STATUS : # ONLY SEE UNSTAGES FILES (TEXT.TXT) FILE NOT STAGED FILES (README.MD)
GIT CHECKOUT MASTER
GIT SHOW STASH
GIT STATUS # NOTE: FILES IN STAGED AREA(README.MD) ARE MOVED TO UNSTAGE AREA(TEST.TXT)
GIT STASH
# SAVED WORKING DIRECTORY AND INDEX STATES WIP ON MASTER : 9037DFC UPDATE README
GIT STATUS
#ON MASTER BRANCH
GIT STASH
</pre>
</div>
</div>
</div>
<div id="outline-container-org9263047" class="outline-3">
<h3 id="org9263047">SQUASH</h3>
</div>

<div id="outline-container-orgb2096d3" class="outline-3">
<h3 id="orgb2096d3">INTERVIEW QUSESTION</h3>
<div class="outline-text-3" id="text-orgb2096d3">
<ul class="org-ul">
<li>Q)IF BRANCH AND MERGE, AND PULL AND PUSH  ARE DONE MY DEVOPS THEN WHAT IS ROLE OF DEVOPS</li>
<li>ANS) DEVOPS ROLE IS TO CREATE HOTFIX BRANCH AND AND SET A MAILE TO DEVOPS</li>
</ul>
</div>
<div id="outline-container-orgd3889e0" class="outline-4">
<h4 id="orgd3889e0">WHAT IS USE OF GIT</h4>
<div class="outline-text-4" id="text-orgd3889e0">
<ul class="org-ul">
<li>TO  TRACK ALL CHANGES IN FILE OR DIRECTORY IN VCS [VERSION CONTROL SYSTEM]</li>
<li>CAN NOT LOSE DATA -DELETE -REVERT</li>
<li>ALL USERS CAN ACCESS AND SEND DATA</li>
</ul>
</div>
</div>
<div id="outline-container-org6825d35" class="outline-4">
<h4 id="org6825d35">DIFFERENT TYPE OF VCS</h4>
<div class="outline-text-4" id="text-org6825d35">
<ul class="org-ul">
<li>CENRTAL VCS SVN</li>
<li>DISTRIBUTED VS : GITHUB OR BITBUCKET</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgcbac2b1" class="outline-3">
<h3 id="orgcbac2b1"><span class="todo TODO">TODO</span> Q) FORK AND CLONE</h3>
</div>
</div>
<div id="outline-container-orga3f965f" class="outline-2">
<h2 id="orga3f965f">MAVEN</h2>
<div class="outline-text-2" id="text-orga3f965f">
</div>
<div id="outline-container-org3866e33" class="outline-3">
<h3 id="org3866e33">What is maven</h3>
<div class="outline-text-3" id="text-org3866e33">
<ul class="org-ul">
<li><p>
Maven is a <b>java base build tool</b> which help developers to build (Projects) or  create <b>artifacts</b> (jar, war, ear)
</p>
<ul class="org-ul">
<li>jar java archive,</li>
<li>war web archive ,</li>
<li>ear enterprise archive</li>
</ul>
<ul class="org-ul">
<li>A built tool is used to automate everything related to building the software project.</li>
<li>Why Maven ?
<ul class="org-ul">
<li>Maven comes with POM, most of prj has to use 3rd patry library which also updates with time for this we need our team to share  dependencecy  info(documentation) and all developer need to maually config Prj with this dependencies. But with POM all the dependencecy automate so developers need not spend time conf and documenting 3rd parties or dependencecy.</li>
</ul></li>

<li>is a <b>project management  tool</b> based on concept of Project Object model(POm) which can  manage 
<ul class="org-ul">
<li>project build</li>
<li>reporting and</li>
<li>documentation for central piece of information</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org2f76a57" class="outline-3">
<h3 id="org2f76a57"><span class="todo TODO">TODO</span> Difference btw jar war ear</h3>
</div>
<div id="outline-container-org8349027" class="outline-3">
<h3 id="org8349027">Why developers use maven ?</h3>
<div class="outline-text-3" id="text-org8349027">
<p>
Developers using maven because it provide
</p>
<ul class="org-ul">
<li>a standard way to build  the project</li>
<li>a clear defination of what  the project consisted of</li>
<li>an easy way to publish project infor and a</li>
<li>way to share/deploy JAR across serveral  projects</li>
</ul>
</div>
</div>

<div id="outline-container-org2c6ad9d" class="outline-3">
<h3 id="org2c6ad9d">maven repository</h3>
<div class="outline-text-3" id="text-org2c6ad9d">
<ul class="org-ul">
<li>Maven has three repos
<ul class="org-ul">
<li>Local Repo (dir by name .m2 local os where maven is installed )</li>
<li>Central Repo (Internet): Created and maintained by apache maven community</li>
<li>Remote Repo (In general for  custome repository  jfrog artifactory is used)</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgf2680cc" class="outline-3">
<h3 id="orgf2680cc">Why we need maven repo ?</h3>
<div class="outline-text-3" id="text-orgf2680cc">
<p>
When we run <code>mvn archetype:generate</code> it serach for all dependencies in local,central,remote repo and then move them to local repo for next execution
</p>
</div>
</div>
<div id="outline-container-org2aa576b" class="outline-3">
<h3 id="org2aa576b">What is POm.xml</h3>
<div class="outline-text-3" id="text-org2aa576b">
<ul class="org-ul">
<li>Contains information about dependencies,project and configuration details used by maven to build project</li>
<li>Pom consits of 
<ul class="org-ul">
<li>Description</li>
<li>Name and Version, Artifact Type, Source Code Location, Dependencies</li>
<li>Plugins</li>
<li>Profiles</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orgfc35ff6" class="outline-3">
<h3 id="orgfc35ff6">Install of maven</h3>
<div class="outline-text-3" id="text-orgfc35ff6">
</div>
<div id="outline-container-org6f92f24" class="outline-4">
<h4 id="org6f92f24">extract maven</h4>
<div class="outline-text-4" id="text-org6f92f24">
<div class="org-src-container">
<pre class="src src-sh"># Download maven in /temp using wget
wget wget https://mirrors.estointernet.in/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz -P /tmp
# extract the archive to /opt directory
sudo tar xf /tmp/apache-maven-*.tar.gz -C /opt
#  more control over maven version and update we will create a symbolic link&lt;maven&gt; that will point to maven installation directory
sudo ln -s /opt/apache-maven-3.6.0 /opt/maven
</pre>
</div>
<p>
<a href="https://linuxize.com/post/how-to-install-apache-maven-on-ubuntu-18-04/">https://linuxize.com/post/how-to-install-apache-maven-on-ubuntu-18-04/</a>
</p>
</div>
</div>

<div id="outline-container-orgdba04f9" class="outline-4">
<h4 id="orgdba04f9">Setup environment variable</h4>
<div class="outline-text-4" id="text-orgdba04f9">
<div class="org-src-container">
<pre class="src src-sh"># Open mavenenv.sh in /etc/profile.d dir
sudo nano /etc/profile.d/maven.sh

# add environment variables
export JAVA_HOME=/usr/lib/jvm/default-java
export M2_HOME=/opt/maven
export MAVEN_HOME=/opt/maven
export PATH=${M2_HOME}/bin:${PATH}
# save and close the file 

# change mod of maven to execute
sudo chmod +x /etc/profile.d/maven.sh

# load the environment variable using source command
source /etc/profile.d/maven.sh

# verify the installation
mvn -version
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd9cd38d" class="outline-3">
<h3 id="orgd9cd38d">Build server:</h3>
<div class="outline-text-3" id="text-orgd9cd38d">
<p>
Build server job is take the code from git and build artifact (jar,war, ear )
</p>
<div class="org-src-container">
<pre class="src src-sh">mvn archetype:generate # Need 3 input : group Id, version, artifact Id
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb6d16e7" class="outline-3">
<h3 id="orgb6d16e7">Create maven project</h3>
<div class="outline-text-3" id="text-orgb6d16e7">
<div class="org-src-container">
<pre class="src src-sh">cd /Workspace/Devops # Directory for maven project here pom.xml file

mvn archetype:generate -DgroupId=world -DartifactId=india -DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=false
# [INFO] ----------------------------------------------------------------------------
# [INFO] Using following parameters for creating project from Old (1.x) Archetype: maven-archetype-webapp:1.0
# [INFO] ----------------------------------------------------------------------------
# [INFO] Parameter: basedir, Value: /home/jayradhe/Workspace/Devops
# [INFO] Parameter: package, Value: world
# [INFO] Parameter: groupId, Value: world
# [INFO] Parameter: artifactId, Value: india
# [INFO] Parameter: packageName, Value: world
# [INFO] Parameter: version, Value: 1.0-SNAPSHOT
# [INFO] project created from Old (1.x) Archetype in dir: /home/jayradhe/Workspace/Devops/india
# [INFO] ------------------------------------------------------------------------
pwd
# ~/Workspace/Devops
ls
# india |- src    # india : ArtifactId
#       |-pom.xml 

 # Developers put there code in and push it to github
# artifact_Id/src/main/java/group_Id

# Pull the code and build artifact
maven comple
maven package
maven install
maven deploy

</pre>
</div>
</div>
</div>
<div id="outline-container-org73fc66a" class="outline-3">
<h3 id="org73fc66a">Maven Lifecycle and 8  Phases</h3>
<div class="outline-text-3" id="text-org73fc66a">
<p>
In general maven lifecycle has 8 phases: [Need to visit : javatpoint.com maven-life-cycle: 8items=&gt; validate,test,clean  ]
</p>
<ul class="org-ul">
<li>validate          : all necessary information is available and validate the project is correct.</li>
<li>compile           : compile the source.</li>
<li>test              : test the compiled source using  unit testing framework.</li>
<li>package           : take the compiled code and package it in its distributable format, such as a JAR,war</li>
<li>intergration test :</li>
<li>verify            : run any checks on results of integration tests to ensure quality criteria are met</li>
<li>install           : install the package into the local repository, for use as a dependency in other projects locally</li>
<li>deploy            : copies the final package to the remote repository for sharing with other developers and projects.</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"># hello.java 
mvn clean # clean of 
mvn complie  #  To compile     
mvn test-compile
mvn test 
mvn package   # To create a package
mvn install   # Copy Package to local repos (.m2) with dependency  # create a .war file
mvn deploy    # deploy to (remote repo)


hello.class -compile -mvn compile #
# TO create a package 
mvn package  
</pre>
</div>
</div>
</div>

<div id="outline-container-org6598393" class="outline-3">
<h3 id="org6598393">Integrate Maven with git</h3>
<div class="outline-text-3" id="text-org6598393">
<ul class="org-ul">
<li>Step 1: OPS : Create git repo and send to all dev</li>
<li>Step 2: DEV : clone the repo,create (src, pom.xml) and  push code into github</li>
<li>Step 3: OPS : clone the repo,Build artifacts (war file: mvn package)</li>
<li>Step 4: OPS : push(scp) war file  to dev,sit,preproduct, prod servers</li>
</ul>

<blockquote>
<ul class="org-ul">
<li>Developers will create maven file and in src file they will uploade developer code and push code to github</li>
<li>OR</li>
<li>Developerss will 1st create a maven project and then it will write the code then they will version control (git) and upload them th remote repository (github)</li>
</ul>
<p>
<b>Note</b> :For Continous Testing &amp; Deployment:  We need to deploy the artifacts to different envirnoment (development, sit (System Integration and Testing),uat (User Acceptance Testing),prod)
</p>
</blockquote>

<div class="org-src-container">
<pre class="src src-sh">mvn archetype:generate -DgroupId=world -DartifactId=india -DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=false

#tree -L 1
#LG
#|- india/
#|     |-  src/
#|     |-  pom.xml
#|
#|- READ.md



#- Step 1: OPS : Create git repo and send to all dev
#- Step 2: DEV : clone the repo
#- Step 3: DEV : push code into github (contain src and pom.xml in github)
# Above all code is writen by developers with devops are also present
git add india
git commit -m "created mvn project"
git push origin master

#
#  How to create war file for github
#
git clone https://github.com/kliakos/sparkjava-war-example.git
cd sparkjava-war-example

#- Step 5: OPS : Build artifacts (war file: mvn package)
mvn install  # will create a war file 


</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">#!/bin/bash

#- Step 6: OPS : push(scp) war file  to dev,sit,preproduct, prod servers

src=india/target/web.war
dest=/opt/
env=$1
if [$env=='sit']
then
   scp $src username@192.124.24.5:$dest
fi

</pre>
</div>
</div>
</div>
<div id="outline-container-org75ebbeb" class="outline-3">
<h3 id="org75ebbeb">Question and Answer</h3>
<div class="outline-text-3" id="text-org75ebbeb">
<ul class="org-ul">
<li>Q)Who create src file and pom.xml file ?
<ul class="org-ul">
<li><code>mvn archetype:generate -DgroupId=world -DartifactId=india -DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=false</code> create src dir and pom.xml</li>
<li>maven is a project management tool and we need 3 argument: group Id, Artifact Id, Version</li>
</ul></li>
<li>Q) What is actually pom.xml  file
<ul class="org-ul">
<li>Consist of 
<ul class="org-ul">
<li>group Id,</li>
<li>artifact Id,</li>
<li>version</li>
<li>dependency-links</li>
<li>Link to remote repository</li>
</ul></li>
</ul></li>
<li>Q)For running maven cmd (compile,package,install,deploy)  why it should present in the same directory where pom.xml is present</li>
<li>Q)why we use build tool 
<ul class="org-ul">
<li>Ex) To build artifacts(jar,ear,war)(java artive,web archive, enterpashilp archive)</li>
</ul></li>
<li>Q) Why it is called maven life cycle ?
<ul class="org-ul">
<li>Ex if we need to run install : we need to go step by step like compile, package, install</li>
</ul></li>
<li>Q) What is difference between Snapshot and Version ?
<ul class="org-ul">
<li>Snapshot : For every realased snapshot is increased or updated.</li>
<li>But version is different it not updated or increased for every deployment but for final-deployment Version is updated.</li>
</ul></li>
<li>Q) What is <code>maven archtype:generate</code> ?
<ul class="org-ul">
<li>It is a maven plugin use to generate src and pom.xml file</li>
</ul></li>
<li>Q) how to ignore test cases in maven ?
<ul class="org-ul">
<li>mvn install -DskipTests</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orge640c0f" class="outline-3">
<h3 id="orge640c0f">Q) how to create multi module project</h3>
<div class="outline-text-3" id="text-orge640c0f">
<ul class="org-ul">
<li>parent pom - superpom</li>
<li>child pom</li>
</ul>


<p>
parent pom.xml file
sbi/pom.xml           # super pom
├── India/pom.xml     # child pom
├── AP/pom.xml        # child pom 
└── Hyderabad/pom.xml # child pom
</p>

<div class="org-src-container">
<pre class="src src-xml">&lt;packaging&gt;pom &lt;/packaging&gt;
&lt;modules&gt;
&lt;module&gt;India/pom.xml&lt;/module&gt;
&lt;module&gt;AP/pom.xml&lt;/module&gt;
&lt;module&gt;Hyderabad/pom.xml&lt;/module&gt;
 &lt;/modules&gt;

</pre>
</div>
</div>
</div>

<div id="outline-container-org1a8dfec" class="outline-3">
<h3 id="org1a8dfec">Q)how to use profiles</h3>
<div class="outline-text-3" id="text-org1a8dfec">
<p>
A) to set of configuration file
profile
dev/application
sit
pre production
production
</p>

<p>
tomcat jboss weblogics
war     ear     cluster :dev1 dev2 dev3
</p>

<p>
jar micro-servies 
</p>
</div>
</div>
</div>

<div id="outline-container-org36fce09" class="outline-2">
<h2 id="org36fce09">Servers (Tomcat)</h2>
<div class="outline-text-2" id="text-org36fce09">
</div>
<div id="outline-container-org2e64452" class="outline-3">
<h3 id="org2e64452">Introduction</h3>
<div class="outline-text-3" id="text-org2e64452">
<p>
Server contains: 
</p>
<ul class="org-ul">
<li>Start and shutdown programs (irctc ticket booking at night 12am)</li>
<li>Can be supported to run war or ear files continously
Ex: sbi.war is copied in to server then sbi site is opend</li>
</ul>

<p>
Type of Servers
</p>
<ul class="org-ul">
<li>Webservers - Eg: apache tomcat 
<ul class="org-ul">
<li>it can be supported only war file it wont support ear files</li>
</ul></li>
<li>Application Servers : jboss
<ul class="org-ul">
<li>it can be supported  ear file</li>
</ul></li>
<li>Cluser: 
<ul class="org-ul">
<li>web logics</li>
<li>group of servers</li>
<li>support ear files</li>
</ul></li>
</ul>



<p>
we are using tomcat 9 server there is 10 but 10 is alpha and 9 is stable version
</p>
</div>
</div>
<div id="outline-container-orgb78d7d6" class="outline-3">
<h3 id="orgb78d7d6">Deployment process</h3>
<div class="outline-text-3" id="text-orgb78d7d6">
<p>
tomcat9/ 
├── bin                  # start and shutdow files 
├── config               # default port:8080
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">└── server.xml   # to change port Number</td>
</tr>
</tbody>
</table>
<p>
├── log                  # If server is not working check logs
└── webapps              # all jar,war files are moved from maven
</p>

<p>
Deployment Process
</p>
<ul class="org-ul">
<li>Stop the server process</li>
<li>take required backups sbi.war-&gt; sbi.war'data'.zip</li>
<li>Deploy sbi.war(build server (scp * .war $user@$ip :opt/apache-tomcat-9.0.16/webapps/*.war )
<ul class="org-ul">
<li>Deployed to dev,sat,uat,pre-production,production ((development, sit (System Integration and Testing),uat (User Acceptance Testing),prod))</li>
</ul></li>
<li>start the server</li>
<li>check it in web browser</li>
</ul>
</div>
</div>

<div id="outline-container-orgc8d98a5" class="outline-3">
<h3 id="orgc8d98a5">installation</h3>
<div class="outline-text-3" id="text-orgc8d98a5">
<p>
<a href="https://www.youtube.com/watch?v=Feui5F42bII">https://www.youtube.com/watch?v=Feui5F42bII</a>
</p>
<div class="org-src-container">
<pre class="src src-sh"># cd Workspace/Devops/tomcat # directory where tomcat is install 
# get link for tomcat 9 tar file
wget https://mirrors.estointernet.in/apache/tomcat/tomcat-9/v9.0.31/bin/apache-tomcat-9.0.31.tar.gz


# extract tar file
tar -xvzf apache-tomcat-9.0.31.tar.gz

# install java file # /software/jdk1.8.0_131
vi ~/.bashrc

# insert below text
# JAVA ENVIRONmENT VARIABLES
export CATALINA_HOME=~/Workspace/Devops/tomcat
export JAVA_HOME=/usr/lib/jvm/default-java
# cd /usr/lib/jvm ;ls -l # choose any one from it  
# run bash
source ~/.bash_profile

cd Workspace/Devops/tomcat
sh startup.sh

# Run tomcat server
sh /home/jayradhe/Workspace/Devops/apache-tomcat-9.0.31/bin/startup.sh

# Stop tomcat server
sh /home/jayradhe/Workspace/Devops/apache-tomcat-9.0.31/bin/shutdown.sh


## Create symbolic link 
#ln -s /opt/tomcat/apache-tomcat-9.0.31/bin/startup.sh /usr/local/bin/tomcatup
#ln -s /opt/tomcat/apache-tomcat-9.0.31/bin/shutdown.sh /usr/local/bin/tomcatdown

## To start tomcat as root anywhere in shell
#tomcatup
## To stop tomcat
#tomcatdown

sudo ufw allow 9090
firefox localhost:9090 # By default tomcat server is 8080 
# We can change server in conf/server.xml - conncetor port
# After starting if there is some error then check log file
</pre>
</div>
</div>
</div>


<div id="outline-container-org3032e96" class="outline-3">
<h3 id="org3032e96">Change Port Number</h3>
<div class="outline-text-3" id="text-org3032e96">
</div>
<div id="outline-container-orge050969" class="outline-4">
<h4 id="orge050969">Tomcat File system</h4>
<div class="outline-text-4" id="text-orge050969">
<div class="org-src-container">
<pre class="src src-sh">Tomcat
├── bin  # executable file : start up and shutdown
├── conf # server.xml : change config 
|     └──server.xml # like port by default port is  :8080
├── log    
└── webapps 
      └── sbi.war 
</pre>
</div>
</div>
</div>
<div id="outline-container-orga17fd95" class="outline-4">
<h4 id="orga17fd95">Edit server.xml</h4>
<div class="outline-text-4" id="text-orga17fd95">
<div class="org-src-container">
<pre class="src src-sh">cat server.xml
######################################################
# Change port :8080 
&lt;Connector port="8080" protocol="HTTP/1.1"
	       connectionTimeout="20000"
	       redirectPort="8443" /&gt;

</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfcc9745" class="outline-3">
<h3 id="orgfcc9745">Configure the Tomcat Web Management Interface</h3>
<div class="outline-text-3" id="text-orgfcc9745">
<p>
Follow the command below to add a login to your Tomcat user and edit the tomcat-users.xml file:
</p>
<pre class="example">
sudo nano /opt/tomcat/conf/tomcat-users.xml
</pre>
<p>
Now, define the user who can access the files and add username and passwords:
</p>
<div class="org-src-container">
<pre class="src src-xml">&lt;role rolename="manager-script"/&gt;
&lt;role rolename="manager-gui"/&gt;
&lt;user username="tomcat" password="tomcat" roles="manager-script,manager-gui" /&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgac0164a" class="outline-3">
<h3 id="orgac0164a">install using apt-get</h3>
<div class="outline-text-3" id="text-orgac0164a">
<p>
<a href="https://www.youtube.com/watch?v=26ipmonPmRw">https://www.youtube.com/watch?v=26ipmonPmRw</a>
</p>
<div class="org-src-container">
<pre class="src src-sh">sudo apt-get install tomcat9-docs
sudo apt-get install tomcat9-examples
sudo apt-get install tomcat9-admin
sudo start tomcat9
sudo status tomcat9
sudo service tomcat9 stop
sudo status tomcat9
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a3543d" class="outline-3">
<h3 id="org1a3543d">Example</h3>
<div class="outline-text-3" id="text-org1a3543d">
<p>
SampleWebApp.war file
<a href="https://www.middlewareinventory.com/blog/sample-web-application-war-file-download/">https://www.middlewareinventory.com/blog/sample-web-application-war-file-download/</a>
</p>
<div class="org-src-container">
<pre class="src src-sh"># download  or SampleWebApp.war file to tomcat/webapps dir # 
# /home/jayradhe/Workspace/Devops/apache-tomcat-9.0.31/webapps
</pre>
</div>
</div>
</div>

<div id="outline-container-orgfdc78f4" class="outline-3">
<h3 id="orgfdc78f4">Example 2</h3>
<div class="outline-text-3" id="text-orgfdc78f4">
<p>
<a href="https://github.com/kliakos/sparkjava-war-example">https://github.com/kliakos/sparkjava-war-example</a>
</p>

<div class="org-src-container">
<pre class="src src-sh"># get clone to local repository
# cd /home/jayradhe/Workspace/Devops # local repository
git clone https://github.com/kliakos/sparkjava-war-example.git
</pre>
</div>
</div>
</div>
<div id="outline-container-org3f3f9d7" class="outline-3">
<h3 id="org3f3f9d7"><span class="todo TODO">TODO</span> Deploy war file to tomcat</h3>
<div class="outline-text-3" id="text-org3f3f9d7">
<div class="org-src-container">
<pre class="src src-sh">#!/bin/bash
env=$1
if[$env='dev']
then 
scp sbi.war dev@192.145.67.8: tomcat/webapps
fi

</pre>
</div>
</div>
</div>
<div id="outline-container-org3f98560" class="outline-3">
<h3 id="org3f98560">How to Deploy (automate) git code to tomcat server  [029 Udemy Lecture]</h3>
<div class="outline-text-3" id="text-org3f98560">
<ul class="org-ul">
<li>Steps required
<ul class="org-ul">
<li>Configure Tomcat or Create User for remote acess</li>
<li>Create Job to Produce Tomcat Deployable Artifacts</li>
<li>Install "Copy Artifact" &amp; "Deploy to Containers" Plugins</li>
<li>Create Job to Deploy Artifacts to Tomcat server or(Staging Env).</li>
</ul></li>
</ul>
</div>
<div id="outline-container-orgc168266" class="outline-4">
<h4 id="orgc168266">Configure Jenkins with Tomcat for Auto Deployment of Artifacts.</h4>
<div class="outline-text-4" id="text-orgc168266">
<div class="org-src-container">
<pre class="src src-sh">cd /opt/tomcat/conf
# update tomcat-users.xml file
# roles : manger-script &amp; manger-gui
# Set password:tomcat

#  &lt;role rolename="manager-script"/&gt;    # tomcat manage, jenkins
#  &lt;role rolename="manager-gui"/&gt;
#  &lt;user username="tomcat" password="tomcat" roles="manager-script,admin-gui" /&gt;
#&lt;/tomcat-users&gt;


# Restart the tomcat server
/opt/tomcat/bin/shutdown.sh
/opt/tomcat/bin/startup.sh

</pre>
</div>
</div>
</div>
<div id="outline-container-org4e1c85b" class="outline-4">
<h4 id="org4e1c85b">Create Job to Produce Tomcat Deployable Artifacts</h4>
<div class="outline-text-4" id="text-org4e1c85b">
<pre class="example">
Create a view :
View Name : _TomcatDeploy_View_
List View : select

Inside "TomcatDeploy_View"

Create a New JOB   :
	     New item &gt; Name _Package_Application_
Genral :        
    Description: This Job is Packaging Java-Tomcat-Sample Project  and Create war file
    Discard Old Build: 5 days and 5 builds
Source Code management:
    git :https://github.com/anshulc55/Jenkins_Upgradev3.git 

Build Trigger :
    Poll SCm: * * * * *
Build: _Invoke top-level maven target_
    goal: clean pacakge
    pom : _location of pox.xml(java-tomcat-sample/pom.xml)_

Post-build Action : _Archive the artifacts_
    Files to archive : _**/*.war_

Post-build Action : _Build Other Project_
    Project to build : _Depoly Application Staging Env_ (Below Stage Job Name)
    Trigger only if build is stable : Ok
Save Job
</pre>
</div>
</div>

<div id="outline-container-orgc14dda5" class="outline-4">
<h4 id="orgc14dda5">Create Job to Deploy Artifacts to Tomcat server or(Staging Env)</h4>
<div class="outline-text-4" id="text-orgc14dda5">
<pre class="example">
Step 1:  Install "Copy Artifact" &amp; "Deploy to Containers" Plugins
Step 2:
New item &gt; Name : _Depoly Application Staging Env_
	   FreeStyle
Genreal:
     Description : This Will Deploy the Java_Tomcat_sample in Staging Enviroment
     Discard Old Build : 5 days , 5 build
Build:
     _Copy Artifacts from Another Project_
     Project Name :  _Package_Application_   (Project Name for above Prj)
     Artifacts to Copy :  _**/*war_

Post-build Action
   _Deploy war/ear to a container_
    War/Ear files : _**/*.war_ 
    Context Path : _/_
    Containers : _Tomcat 9_
    Credentials : Add credentials 
	     Username : tomcat
	     Password : tomcat (For configuration we set)
    Tomcat Url : Same page url.
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org7874e20" class="outline-2">
<h2 id="org7874e20">Jenkins</h2>
<div class="outline-text-2" id="text-org7874e20">
</div>
<div id="outline-container-org0546c08" class="outline-3">
<h3 id="org0546c08">[02nd march]-installation</h3>
<div class="outline-text-3" id="text-org0546c08">
<ul class="org-ul">
<li>Jenkins can be install in 3 ways
<ul class="org-ul">
<li>1. using executal file (unzip and install)</li>
<li>2. using java    (java -jar jenkins.war)</li>
<li>3. inside tomcat (jenkins.war files) 
<ul class="org-ul">
<li>install tomcat then copy jenkins.war to tomcat/webapps</li>
<li>run tomcat start and open <a href="https://localhost:8080/jenkins">https://localhost:8080/jenkins</a></li>
</ul></li>
<li>4.Install inside VM : Vagrant</li>
<li>5. Install inside docker</li>
</ul></li>
</ul>
</div>
<div id="outline-container-org81d38d0" class="outline-4">
<h4 id="org81d38d0">Using zip file</h4>
<div class="outline-text-4" id="text-org81d38d0">
<div class="org-src-container">
<pre class="src src-sh"># Install java(jenkins is java 8 app) so install openjdk
sudo apt update
sudo apt install openjdk-8-jdk

# add Jenkins debian repository 
wget -q -O - https://pkg.jenkins.io/debian/jenkins.io.key | sudo apt-key add - 
# above cmd  should output OK which means that the key has been successfully imported and packages from this repository will be considered trusted.

# add Jenkins repository to sys 
sudo sh -c 'echo deb http://pkg.jenkins.io/debian-stable binary/ &gt; /etc/apt/sources.list.d/jenkins.list'


# install jenkins
sudo apt update
sudo apt install jenkins # automatically run jenkins

# check running status of jenkins server 
systemctl stauts jenkins


# start jenkins
sudo systemctl start jenkins

sudo service jenkins restart
sudo service jenkins stop
sudo service jenkins start

# OR : alternate
sudo systemctl start jenkins.service  
sudo systemctl stop jenkins.service # To stop 
sudo systemctl restart jenkins.service # To restart
sudo systemctl 
sudo systemctl reload application.service # To relaod 


#The above commands are useful for auto-starting or stopping services during the current session or login . To tell systemd to start services automatically at boot, you must enable them.
sudo systemctl enable application.service
# For more info visit  https://www.digitalocean.com/community/tutorials/how-to-use-systemctl-to-manage-systemd-services-and-units

#To disable the service from starting automatically, you can type:
sudo systemctl disable application.service

# Open Firewall

sudo ufw allow 8080

# set Wrokspace

systemctl list-units   #  not-good 
service --status-all

# give administator password from : ..../Jenkins/secrets/initialAdminPassword file
sudo cat /var/lib/jenkins/secrets/initialAdminPassword
# select &lt;install suggested plugins&gt;

# sign in to jenkins 
user     : admin
password : /Jenkins/secrets/initialAdminPassword

create user : dankarthik
passwrod : dankarthik

</pre>
</div>
</div>
</div>
<div id="outline-container-orgc28fe36" class="outline-4">
<h4 id="orgc28fe36">Install using java</h4>
<div class="outline-text-4" id="text-orgc28fe36">
<div class="org-src-container">
<pre class="src src-sh">java -jar jenkins.war
java -jar jenkins.war --httpPort=9090
</pre>
</div>
</div>
</div>
<div id="outline-container-org9f112e8" class="outline-4">
<h4 id="org9f112e8">Configure  Port</h4>
<div class="outline-text-4" id="text-org9f112e8">
<p>
In case you want to change the default jenkins port on Linux,
You can go to /etc/default/jenkins  
add &#x2013;httpPort=9999 or whatever port to JENKINS<sub>ARGS</sub>
</p>
<div class="org-src-container">
<pre class="src src-sh">vi /etc/default/jenkins
# # port for HTTP connector (default 8080; disable with -1)
# HTTP_PORT=8080

</pre>
</div>
</div>
</div>

<div id="outline-container-orga240062" class="outline-4">
<h4 id="orga240062">Install jenkins in tomcat</h4>
<div class="outline-text-4" id="text-orga240062">
<div class="org-src-container">
<pre class="src src-sh">cd /opt/softwares/apache-tomcat-9.0.31/webapps

wget https://updates.jenkins-ci.org/download/war/2.204/jenkins.war

tomcatdown
tomcatup

</pre>
</div>
</div>
</div>
<div id="outline-container-orgc985e5c" class="outline-4">
<h4 id="orgc985e5c">install Jenkins  in  tomcat server (using war file)</h4>
<div class="outline-text-4" id="text-orgc985e5c">
<ul class="org-ul">
<li>Install tomcat using above section on  Tomcat</li>
<li>Download Jenkins war file on any version above 2</li>
<li>Save war file in tomcat/webapp directory</li>
<li>restart tomcat and load : local:8080/jenkins</li>
</ul>

<p>
├── bin  # executable file : start up and shutdown
├── conf # server.xml : change config 
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">└──server.xml # like port by default port is  :8080</td>
</tr>
</tbody>
</table>
<p>
├── log    
└── webapps 
      └── sbi.war
</p>
</div>
</div>
<div id="outline-container-org6b41593" class="outline-4">
<h4 id="org6b41593">Install Jenkins inside docker with volume bind</h4>
<div class="outline-text-4" id="text-org6b41593">
<pre class="example">
# https://github.com/jenkinsci/docker/blob/master/README.md

#volume tutorial
# https://www.youtube.com/watch?v=VOK06Q4QqvE

# How to run Jenkins on Docker container | How to create Jenkins Volumes on Docker
# https://www.youtube.com/watch?v=VOK06Q4QqvE

# How backup Data Volume (export/import) volume
https://www.youtube.com/watch?v=ReQ6oCTCyeY
https://www.youtube.com/watch?v=fbebMrc0Ybc
</pre>
</div>
</div>
</div>
<div id="outline-container-org958f763" class="outline-3">
<h3 id="org958f763">Plugis :</h3>
<div class="outline-text-3" id="text-org958f763">
<p>
Manage jenkins &gt; manage plugis
[update,avaiable,installed,customed]
</p>
<ul class="org-ul">
<li>Plugins
<ul class="org-ul">
<li>If there is No execute powershell in build then install 
<ul class="org-ul">
<li>Manage jenkins &gt; manage plugins &gt; avaiable &gt; search powershell
<ul class="org-ul">
<li>and install</li>
</ul></li>
</ul></li>
<li><b>Maven Integration</b> deep integration, Automatic trigger btw prj depending on SNAPSHOTS, automated config of Junit&#x2026;.etc</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org123548f" class="outline-3">
<h3 id="org123548f">[03rd march] SideBar Overview</h3>
<div class="outline-text-3" id="text-org123548f">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">New Item</th>
<th scope="col" class="org-left">Create a job or project</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">People</td>
<td class="org-left">User which are connected to Jenkins</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">Build</td>
<td class="org-left">Build</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">manage Jenkins</td>
<td class="org-left">manage</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">my views</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">lockable resource</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">credentials</td>
<td class="org-left">Create Credentials</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="org-left">new view</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org60fe524" class="outline-3">
<h3 id="org60fe524">Freestyle Overview</h3>
<div class="outline-text-3" id="text-org60fe524">
<ul class="org-ul">
<li><b>General</b> :
<ul class="org-ul">
<li><b>Description</b>:   <span class="underline">_<sub>GENERAL</sub> DESCRIPTION OF Project for other understanding</span></li>
<li><b>Discard Old Builds</b> :
<ul class="org-ul">
<li>Determines if  build records for this project should be discarded.</li>
<li>Build records include the console output, archived artifacts, and any other metadata related to a particular build.</li>
<li>less disk space will be used in the Build Record Root Directory</li>
<li>Jenkins offers two options for determining when builds should be discarded:
<ul class="org-ul">
<li><b>Build age</b>: discard builds when they reach a certain age; for example, seven days old.</li>
<li><b>Build count</b>: discard the oldest build when a certain number of builds already exist.</li>
</ul></li>
</ul></li>
<li><b>GitHub Project</b>
<ul class="org-ul">
<li><b>Project url</b> :</li>
</ul></li>
<li><p>
<b>Project is parameterised</b> :
</p>
<ul class="org-ul">
<li>explain : <a href="https://www.youtube.com/watch?v=xmZ3CEW7nH8&amp;list=PL6XT0grm_Tfi21F8O0TvHmb78P2uEmhDq&amp;index=20">https://www.youtube.com/watch?v=xmZ3CEW7nH8&amp;list=PL6XT0grm_Tfi21F8O0TvHmb78P2uEmhDq&amp;index=20</a></li>
</ul>
<p>
we can add parameter to project while building project.There are different kinds of parameters like
</p>
<ul class="org-ul">
<li><code>String, Choice,File parameter, Choice Parameter,Boolean Parameter</code></li>
</ul></li>
<li><b>Throttle Build</b> :
<ul class="org-ul">
<li>explain : <a href="https://www.youtube.com/watch?v=QKPhg-_my98">https://www.youtube.com/watch?v=QKPhg-_my98</a></li>
<li>Enforces a minimum <b>time period</b>: <span class="underline">&lt;&gt;</span> between builds based on the desired maximum rate (<b>Number of Build</b>).
<ul class="org-ul">
<li><b>No.of Build</b> : <span class="underline">&lt;1,2,3&gt;</span></li>
<li><b>Time Period</b> : <span class="underline">&lt;Seconds&gt;</span></li>
</ul></li>
</ul></li>
<li><b>Execute concurrent build it necessary</b>
<ul class="org-ul">
<li>Explain :<a href="https://www.youtube.com/watch?v=uQqzmRGrBXA&amp;list=PL6XT0grm_Tfi21F8O0TvHmb78P2uEmhDq&amp;index=26">https://www.youtube.com/watch?v=uQqzmRGrBXA&amp;list=PL6XT0grm_Tfi21F8O0TvHmb78P2uEmhDq&amp;index=26</a></li>
</ul></li>
</ul></li>

<li><b>Source Code Management</b> :
Maintaining Code by using Version Control tools is know ad Source Code Management.
<ul class="org-ul">
<li><b>Git</b> : <span class="underline"><span class="underline"><a href="https://github/......prj.git">https://github/......prj.git</a>___</span></span></li>
</ul></li>
<li><b>Build Triggers</b> :
In general build is not manually run. It is automated :remotely, periodically,after other build(pipelined),github hook trigger,Poll SCM
<ul class="org-ul">
<li><b>Trigger build remotely</b> : we generate url using token and run it remotely</li>
<li><b>Build after other project is build</b> :# it used for pipeline the Jenkins Jobs where sucessfull build of other prj  will trigger this project</li>
<li><b>Build Periodically</b> : Crontab based trigger, where it build this project periodically with respective crontab
<ul class="org-ul">
<li>MINUTE	Minutes within the hour (0–59)</li>
<li>HOUR	The hour of the day (0–23)</li>
<li>DOM	The day of the month (1–31)</li>
<li>MONTH	The month (1–12)</li>
<li>DOW	The day of the week (0–7) where 0 and 7 are Sunday.</li>
</ul></li>
<li><b>GitHub hook trigger for GITScm Polling</b> : github is config with hook to trigger jenkins using &lt;url&gt;
Githhub &gt; repo &gt; setting &gt; githook
<ul class="org-ul">
<li>url of jenkins</li>
<li>generate webhook</li>
</ul></li>
<li><b>Poll SCM</b> :
Check github periodically if any new push and automate the build</li>
</ul></li>
<li><b>Build Environment</b>
<ul class="org-ul">
<li><b>Delete Workspace before build starts</b>
<ul class="org-ul">
<li>Explain : <a href="https://www.youtube.com/watch?v=XqYWQbpeQ18&amp;list=PL6XT0grm_Tfi21F8O0TvHmb78P2uEmhDq&amp;index=11">https://www.youtube.com/watch?v=XqYWQbpeQ18&amp;list=PL6XT0grm_Tfi21F8O0TvHmb78P2uEmhDq&amp;index=11</a></li>
<li>(discard old build and files  result and start fresh build)</li>
</ul></li>

<li>Use secret text or file
<ul class="org-ul">
<li>password protection</li>
</ul></li>
<li><b>Abort build if it's stuck</b> (Timeout)
<ul class="org-ul">
<li>explain : <a href="https://www.youtube.com/watch?v=hlS3LvtjvFA&amp;list=PL6XT0grm_Tfi21F8O0TvHmb78P2uEmhDq&amp;index=24">https://www.youtube.com/watch?v=hlS3LvtjvFA&amp;list=PL6XT0grm_Tfi21F8O0TvHmb78P2uEmhDq&amp;index=24</a></li>
</ul></li>
<li><b>Add timestamp to the Console Output</b>:
<ul class="org-ul">
<li>explain : <a href="https://www.youtube.com/watch?v=uA8xb-B5brM">https://www.youtube.com/watch?v=uA8xb-B5brM</a></li>
</ul></li>
</ul></li>
<li><b>Build</b> :
<ul class="org-ul">
<li>either build prj using &lt;manven,ant,gradel&gt; or run shell,powershell scripts like &lt;Copy Artifacts from Another Prj&gt;</li>
<li><b>Execute shell</b> :
Runs a shell script (defaults to sh, but this is configurable) for building the project. The script will be run with the workspace as the current directory.</li>
<li><b>Execute Powershell</b> :
Runs a Windows batch script for building the project. The script will be run with the workspace as the current directory. The text you enter in the text box will be executed as a batch file.</li>
<li><b>Invoke top-level Maven targents</b>
For projects that use Maven as the build system. This causes Jenkins to invoke Maven with the given goals and options. A non-zero exit code from Maven makes Jenkins mark the build as a failure. Some Maven versions have a bug where it doesn't return the exit code correctly.</li>
</ul></li>
<li><b>Post-build Actions</b>
<ul class="org-ul">
<li><b>E-mail Notification</b></li>
<li><b>Build other Projects</b></li>
<li>Editable Notification</li>
<li>Git Publisher</li>
<li>Set Github commit status</li>
<li>Delete workspace when build is done</li>
</ul></li>
</ul>


<p>
(menu)Jenkins &gt; New Items &gt; FreeStyles &gt;
</p>

<blockquote>
<ul class="org-ul">
<li>General 
<ul class="org-ul">
<li>Description        :</li>
<li>Discard old builds : # Remove  the old build for N(No.of) days or Max(No.of) builds
<ul class="org-ul">
<li>Days to keep builds    :__________</li>
<li>max # of build to keep :__________</li>
</ul></li>
<li>GitHub Project 
<ul class="org-ul">
<li>give url for source code:________</li>
</ul></li>
<li>TODO :Build requires lockable resource</li>

<li><p>
Project is parametrized :
</p>
<pre class="example">
Project require agruments to be passed 
</pre></li>
<li>Throttle builds   # No.of Concurrent(parallel) build</li>
</ul></li>
</ul>


<ul class="org-ul">
<li><b>Source Code management</b>      # Check source-code from VCS(version control system) which is need to build later trigger is automated.
Git : <span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline">_<sub>url</sub>____</span></span></span></span></span>  # github prj <a href="http:github......prj.git">http:github......prj.git</a> for private account &lt;acc name, acc password&gt; are required 
Subversion:</li>
</ul>


<ul class="org-ul">
<li><b>Build Triggers</b>            # In general build is not manually run. It is automated :remotely, periodically,after other build(pipelined),
<ul class="org-ul">
<li>Trigger Build remotely: <span class="underline">using url or (Authentication Token)</span></li>
<li>Build after other project are build : <span class="underline"><span class="underline"><span class="underline"><span class="underline">__&lt;existing project-name&gt;</span></span></span></span></li>
<li>Build Periodically  <span class="underline">* * * * *</span>  # Crontab &lt;mm hh dd m w&gt;</li>
<li>Github hook for GIT<sub>SCM</sub> Polling        # <a href="https://www.youtube.com/watch?v=9b-K9aG06ow&amp;t=460s">https://www.youtube.com/watch?v=9b-K9aG06ow&amp;t=460s</a></li>
<li>Poll SCM                               # Check github periodically if any new push and automate the build</li>
</ul></li>

<li>Build Environment
<ul class="org-ul">
<li>Delete Workspace before build starts (discard old build result and start fresh build)</li>
<li><p>
Use secret text or file
</p>
<ul class="org-ul">
<li>password protection</li>
</ul>
<ul class="org-ul">
<li>Abort build if it's stuck</li>
<li>Inspect build log for published Gradle build scans</li>
</ul></li>
</ul></li>
<li>Build
<ul class="org-ul">
<li>Execute shell</li>
<li>Execute Powershell</li>
</ul></li>

<li>Post-build Actions
<ul class="org-ul">
<li>E-mail Notification</li>
<li>Editable Notification</li>
<li>Git Publisher</li>
<li>Set Github commit status</li>
<li>Delete workspace when build is done</li>
</ul></li>
</ul>



<p>
Build a job
Double Click Project &gt; Build Now
</p>
</blockquote>
</div>
</div>
<div id="outline-container-orgc6b645a" class="outline-3">
<h3 id="orgc6b645a">1st Jobs build periodically</h3>
<div class="outline-text-3" id="text-orgc6b645a">
<p>
(menu)Jenkins &gt; New Items &gt; FreeStyles &gt;
</p>

<ul class="org-ul">
<li>General
<ul class="org-ul">
<li>Discard odl builds : Remove  the old build
<ul class="org-ul">
<li>Days to keep builds    :__________</li>
<li>max # of build to keep :_<sub>5</sub>________</li>
</ul></li>
<li>GitHub Project 
<ul class="org-ul">
<li>give url for source code: ___<sub>give</sub> github http clone link__<sub>https</sub>://github.com/dankarthik25/my-app.git _  # Note should consist of pom file</li>
</ul></li>
</ul></li>
<li>Source Code management</li>
<li>Build Triggers
<ul class="org-ul">
<li>Build Periodically</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-sh"># * * * * *  # build for every minite
</pre>
</div>
</div>
</div>
<div id="outline-container-orge846703" class="outline-3">
<h3 id="orge846703">Job Build Trigger remotely(from scripts, url)</h3>
<div class="outline-text-3" id="text-orge846703">
<ul class="org-ul">
<li>Build is done using url or script</li>
</ul>

<p>
htttp:localhost:8008/job/FirstJob/build?token=dkarthik25
</p>
<blockquote>
<ul class="org-ul">
<li>General</li>
<li>Source Code management</li>
<li>Build Triggers
<ul class="org-ul">
<li>Trigger build remotely (eg., from scripts)
TOKEN<sub>NAME</sub>: dkarthik25</li>
</ul></li>
</ul>
</blockquote>
<p>
htttp:localhost:8008/job/FirstJob/build?token=dkarthik25
</p>
</div>
</div>

<div id="outline-container-orge8096a7" class="outline-3">
<h3 id="orge8096a7">[07 march]Integrating with gmail</h3>
<div class="outline-text-3" id="text-orge8096a7">
<p>
how to send an email to other ?
</p>
<ul class="org-ul">
<li>why should i share user and pwd to other client,middle-men, higher secured so we need to configure  and we send only log file to client,manager&#x2026;etc</li>
</ul>
<pre class="example">
step1: 
manage jenkins - 
    configure system - 
       Extended email notification: # New version is released need research
	  SmTP server                  : smtp.gmail.com
	  Default user E-mail suffix   : @gmail.com
	  Use SmTP Authentication      : Check-Ok
	  Username                     : sanjy@gmail.com
	  passwd                       :
	  Use ssl                      : Check-Ok
	  SmTP port                    : 456

       E-mail Notification:
	  SmTP server                  : smtp.gmail.com
	  Default user E-mail suffix   : @gmail.com
	  Use SmTP Authentication      : Check-Ok
	  Username                     : sanjy@gmail.com
	  passwd                       :
	  Use ssl                      : Check-Ok
	  SmTP port                    : 456
	  Test configuration by sending test e-mail: Check-ok

step2: go to google account -&gt; security-&gt; on less security 
test:


go to job:
post build actions 
       editable email notification :
	    Project From            : jenkins
	    Project Recipient List  : cc:omshiva003@gmail.com
	    Attach Build Log        : Attach Build Log
	    Content Token Reference : Advance
			       Trigger : Always (Always form Add Trigger)
Save
Build now 

</pre>
</div>
</div>
<div id="outline-container-org3b26d79" class="outline-3">
<h3 id="org3b26d79">[09 march]Permissions Add-Users Account (Role Based management)</h3>
<div class="outline-text-3" id="text-org3b26d79">
<p>
Steps 1 :
</p>
<ul class="org-ul">
<li><p>
Install Plugins
Manage jenkins &gt; manage plugis &gt;avaiable
</p>
<ul class="org-ul">
<li>"Role-based Authorization Strategy",</li>
<li>"matrix based authentication"   default-installed</li>
<li>"Project based Authentication"  default-installed</li>
</ul>

<p>
Step 2: Create Users
</p></li>
<li><p>
Manage jenkins &gt; Manage Users &gt; Create Users
</p>
<ul class="org-ul">
<li>Username : sanjay</li>
<li>Password :</li>
<li>Confirm password:</li>
<li>Full name :</li>
<li>E-mail address:</li>
</ul>
<p>
Create User
</p></li>
</ul>
</div>

<div id="outline-container-org7df9940" class="outline-4">
<h4 id="org7df9940">Project based</h4>
<div class="outline-text-4" id="text-org7df9940">
<ul class="org-ul">
<li>Step :
<ul class="org-ul">
<li>Enable Project based Security :{Manage jenkins&gt;Configure Global Security&gt;Project based security : enable}</li>
<li>Create Project with Project based Security Enable
<ul class="org-ul">
<li>New item &gt; Name: Phani-Project &gt;  Free Style Based &gt;General :Enable Project based Security</li>
<li>add users {phani,sanjay&#x2026;etc} to matrix
<ul class="org-ul">
<li>Note : give all permission to root user</li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">User/group</td>
<td class="org-left">Over all</td>
<td class="org-left">Credentials</td>
</tr>
</tbody>
</table>
<p>
<del>------------------</del>----------------<del>---------</del>--------<del>----------------</del>--------<del>------</del>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">User/group</td>
<td class="org-left">Adminster</td>
<td class="org-left">Read</td>
<td class="org-left">Create</td>
<td class="org-left">Delete</td>
<td class="org-left">mangae Domains</td>
<td class="org-left">Update</td>
<td class="org-left">View</td>
</tr>
</tbody>
</table>
<p>
<del>------------------</del>---------<del>------</del>---------<del>--------</del>----------------<del>--------</del>-&#x2013;&#x2014;|
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Authenticated User</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">admin</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">sanjay</td>
<td class="org-left">check</td>
<td class="org-left">check</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">check</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org10acf87" class="outline-4">
<h4 id="org10acf87">Enable matrix based Security</h4>
<div class="outline-text-4" id="text-org10acf87">
<ul class="org-ul">
<li>Step : Enable matrix based Security 
<ul class="org-ul">
<li>Manage jenkins - 
<ul class="org-ul">
<li>Configure Global Security -
<ul class="org-ul">
<li>Matrix-based security : enable
<ul class="org-ul">
<li>add users {phani,sanjay&#x2026;etc} to matrix
<ul class="org-ul">
<li>Note : give all permission to root user</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">User/group</td>
<td class="org-left">Over all</td>
<td class="org-left">Credentials</td>
</tr>
</tbody>
</table>
<p>
<del>------------------</del>----------------<del>---------</del>--------<del>----------------</del>--------<del>------</del>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">User/group</td>
<td class="org-left">Adminster</td>
<td class="org-left">Read</td>
<td class="org-left">Create</td>
<td class="org-left">Delete</td>
<td class="org-left">mangae Domains</td>
<td class="org-left">Update</td>
<td class="org-left">View</td>
</tr>

<tr>
<td class="org-left">Authenticated User</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">admin</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">sanjay</td>
<td class="org-left">check</td>
<td class="org-left">check</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">check</td>
</tr>
</tbody>
</table>
</div>
</div>


<div id="outline-container-orgf5b93bc" class="outline-4">
<h4 id="orgf5b93bc">Role based Authentication</h4>
<div class="outline-text-4" id="text-orgf5b93bc">
<ul class="org-ul">
<li>Step 1 : Enable Role based</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">Enable Role-based Authorization Strategy

  Manage jenkins - 
      Configure Global Security - 
	   Matrix based authentication: 
	   Project based authentication: 
	   Role-based Authorization Strategy : enable


</pre>
</div>

<ul class="org-ul">
<li>Step 2: Create and Assign Role
<ul class="org-ul">
<li>Step 3: Create Role :
<ul class="org-ul">
<li>Manage Jenkins &gt;manage and assign roles &gt;manage roles :
-create roles like manager (create,delete,build,developer(read,create),tester (read) )</li>
</ul></li>
</ul></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Role</td>
<td class="org-left">Over all</td>
<td class="org-left">Credentials</td>
</tr>
</tbody>
</table>
<p>
<del>------------------</del>----------------<del>---------</del>--------<del>----------------</del>--------<del>------</del>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">User/group</td>
<td class="org-left">Adminster</td>
<td class="org-left">Read</td>
<td class="org-left">Create</td>
<td class="org-left">Delete</td>
<td class="org-left">mangae Domains</td>
<td class="org-left">Update</td>
<td class="org-left">View</td>
</tr>
</tbody>
</table>
<p>
<del>------------------</del>---------<del>------</del>---------<del>--------</del>----------------<del>--------</del>-&#x2013;&#x2014;|
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Authenticated User</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
<p>
<del>------------------</del>---------<del>------</del>---------<del>--------</del>----------------<del>--------</del>-&#x2013;&#x2014;|
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">admin</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>
</tbody>
</table>
<p>
<del>------------------</del>---------<del>------</del>---------<del>--------</del>----------------<del>--------</del>-&#x2013;&#x2014;|
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">dev</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">check</td>
<td class="org-left">Create</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">check</td>
<td class="org-left">check</td>
</tr>
</tbody>
</table>
<p>
<del>------------------</del>---------<del>------</del>---------<del>--------</del>----------------<del>--------</del>-&#x2013;&#x2014;|
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">test</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">check</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">check</td>
</tr>
</tbody>
</table>
<p>
<del>------------------</del>---------<del>------</del>---------<del>--------</del>----------------<del>--------</del>-&#x2013;&#x2014;|
</p>
<ul class="org-ul">
<li>Assign Role:
<ul class="org-ul">
<li>Manage Jenkins &gt;manage and assign roles &gt;assign roles :
<ul class="org-ul">
<li>add users(sathish,sanjay,venkat,karthik) to roles</li>
</ul></li>
</ul></li>
</ul>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">manage role</th>
<th scope="col" class="org-left">admin</th>
<th scope="col" class="org-left">dev</th>
<th scope="col" class="org-left">manager</th>
<th scope="col" class="org-left">test</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">admin</td>
<td class="org-left">check</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">sathish</td>
<td class="org-left">check</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">sanjay</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">check</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">venkat</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">check</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">karthik</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">check</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgfe4a896" class="outline-4">
<h4 id="orgfe4a896"><span class="todo TODO">TODO</span> Difference matrix-based Vs Project based Vs Role Based</h4>
</div>
<div id="outline-container-org36a8487" class="outline-4">
<h4 id="org36a8487"><span class="todo TODO">TODO</span> LDAP  and Active Directory</h4>
<div class="outline-text-4" id="text-org36a8487">
<p>
Jenkins new users and there authentication is done in local linux using ldap and active directory 
</p>
</div>
<ul class="org-ul">
<li><a id="orgd719242"></a>LDAP<br />
<div class="outline-text-5" id="text-orgd719242">
<pre class="example">
yum isntall ldap

devopers - 4851,2458,9563,245697,24566,25665,
mangaer= 4582.31287,1258652
tester= 4521,324522
[/jenkins]
@devopers=r
@manager=rw
@tester=r

[\git]
@devopers=r
@manager=rw
@tester=r
</pre>
</div>
</li>

<li><a id="org843fbd3"></a>Active Directory<br />
<div class="outline-text-5" id="text-org843fbd3">
<p>
Install Active Directory Plugin
</p>
<ul class="org-ul">
<li>Manage jenkins - 
<ul class="org-ul">
<li>Configure Global Security -
<ul class="org-ul">
<li>Active Directory
<ul class="org-ul">
<li>Add Domain :</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-org2d21605" class="outline-3">
<h3 id="org2d21605">[12-13 march]master -slave :</h3>
<div class="outline-text-3" id="text-org2d21605">
<p>
<a href="https://www.youtube.com/watch?v=8dZKT79DUfk">https://www.youtube.com/watch?v=8dZKT79DUfk</a>
copy D:\jenkins\worksape\sample\target\*.war D:\tomcat\webapps
</p>

<p>
Find tomcat installation folder
delete hello-world (Note : tomacat server is shutdown then delete)
</p>

<p>
AIm : directly paste helloworld.war or all war file using jenkins in windows(install powershell plugin )
</p>




<p>
install java,git, maven in linux aws- server
</p>

<p>
What is master -slave concepts ?
master ? where your cloud install jenkins
workspace : eg :/roor/.jenkins
            eg :D:/Workspace/jenkins/
</p>

<p>
consider master in Window and slave is aws-ec2-linux(jenkins is not install)
</p>

<p>
Aim : all master job should be done in slave (/opt/devops)
</p>

<p>
Step 1 : Create AWS EC-2 as slave (get ip address, key) and install (java, maven,git) in slave
Step 2 : Create New Node(In Jenkins Node means Salve-server ) and Connect to Node to Jenkins  
</p>
</div>
<div id="outline-container-org8813812" class="outline-4">
<h4 id="org8813812">Step 1: Create AWS EC-2 as slave and install java,maven,git</h4>
<div class="outline-text-4" id="text-org8813812">
<p>
In genreal we use shell scripts to install java,git and maven in slave node but for lecture we are manually isntall app.
</p>
</div>
<ul class="org-ul">
<li><a id="org249d3bc"></a>INSTALL JAVA<br />
<div class="outline-text-5" id="text-org249d3bc">
<div class="org-src-container">
<pre class="src src-sh"># #####################################################
#   Java(1.8_0191,1.8_0131) installation in Linux# ####################################################
# dir to install software

sudo su-
mkdir sofwares

cd /opt/softwares


# install java- 8 (does not support higher version)
# updated for jdk 8u191
#wget --no-cookies --no-check-certificate --header "Cookie: gpw_e24=http%3a%2F%2Fwww.oracle.com%2Ftechnetwork%2Fjava%2Fjavase%2Fdownloads%2Fjdk8-downloads-2133151.html; oraclelicense=accept-securebackup-cookie;" "https://download.oracle.com/otn-pub/java/jdk/8u191-b12/2787e4a523244c269598db4e85c51e0c/jdk-8u191-linux-x64.tar.gz"

# updated for jdk 8u131
wget --no-cookies --no-check-certificate --header "Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie" "http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz"

# extract tar file
tar -xvzf jdk-8u131-linux-x64.tar.gz
rm -rf jdk-8u131-linux-x64.tar.gz

 # install java file # /software/jdk1.8.0_131
 vi ~/.bash_profile

# insert below text
# JAVA ENVIRONmENT VARIABLES
export JAVA_HOME=/opt/softwares/jdk1.8.0_131
export PATH=$PATH:/opt/softwares/jdk1.8.0_131/bin

# run bash
source ~/.bash_profile
java -version
</pre>
</div>
</div>
</li>

<li><a id="org064fbf6"></a>INSTALL GIT AND maven<br />
<div class="outline-text-5" id="text-org064fbf6">
<div class="org-src-container">
<pre class="src src-sh">yum install git -y
</pre>
</div>
</div>
</li>

<li><a id="org87e6975"></a>INSTALL maven<br />
<div class="outline-text-5" id="text-org87e6975">
<div class="org-src-container">
<pre class="src src-sh">cd /opt/softwares/

wget https://www-us.apache.org/dist/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.tar.gz

vi ~/.bash_profile
#insert 
export M2_HOME=/opt/softwares/apache-maven-3.6.3
export PATH=$PATH:/opt/softwares/apache-maven-3.6.3/bin

# run bash_profile
source ~/.profile

mvn -version
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org367198c" class="outline-4">
<h4 id="org367198c">Step 2: Create and Connect Node(Slave-servet) to Jenkins(master- server)</h4>
<div class="outline-text-4" id="text-org367198c">
<ul class="org-ul">
<li>Step 1: Create a Slave :
<ul class="org-ul">
<li>Manage Jenkins &gt; mange Node(Slave) 
<ul class="org-ul">
<li>New Node  
<ul class="org-ul">
<li>Node name : <span class="underline">&lt;Slave-Server Name&gt;</span></li>
<li>Permanaent Agent : enable</li>
<li>OK</li>
</ul></li>
</ul></li>
</ul></li>
<li>Step 2: Configure Slave
<ul class="org-ul">
<li>executors : 1</li>
<li>remote root directory : <span class="underline"><i>opt/deploy</i></span>  # dir in slave server</li>
<li>label            : <span class="underline">orange</span></li>
<li>Launch method    : <span class="underline">Launch agents via SSH</span>
<ul class="org-ul">
<li>Host Name   : <span class="underline">18.188.173.210</span> &lt;AWS-Public Id&gt;</li>
<li>Credentials : <span class="underline">Jenkins</span>
<ul class="org-ul">
<li>Kind    : <span class="underline">SSH Username with private key</span></li>
<li>Usernaem: <span class="underline">ec2-user</span></li>
<li>Private key : enable</li>
<li>key : <span class="underline">&lt;copy the key&gt;</span></li>
</ul></li>
<li>Host Key Verification Strategy : <span class="underline">Non verification Strategy</span></li>
</ul></li>
<li>Node Progeries :
<ul class="org-ul">
<li>Toot Locations :
<ul class="org-ul">
<li>Name : <span class="underline">Java</span></li>
<li>Home : <span class="underline">/opt/software/jdk1.8.0<sub>131</sub></span></li>
<li>Name : <span class="underline">maven</span></li>
<li>Home : <span class="underline"><i>opt/software/apache-maven-3.6.3</i></span></li>
</ul></li>
</ul></li>
</ul></li>
<li>BUG : if java, maven are not present then
<ul class="org-ul">
<li>Jenkins &gt; mangae Jenkins &gt; Global Tool Configuratoin &gt; JDK (Add JDK) , maver(Add maven)</li>
<li>manage jenkins &gt; mange nodes</li>
</ul></li>
<li>Step 3: Launch the Slave
<ul class="org-ul">
<li>Go to Slave Node and Lanunch the Node</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgc6a53a3" class="outline-4">
<h4 id="orgc6a53a3">Step 3: Run job in Slave Node</h4>
<div class="outline-text-4" id="text-orgc6a53a3">
<ul class="org-ul">
<li>New Job or Job &gt; Config &gt;
<ul class="org-ul">
<li>General
<ul class="org-ul">
<li>Description</li>
<li>Discrad old build</li>
<li>GitHub project</li>
<li></li>

<li></li>

<li>Restrict where this project can be run
<ul class="org-ul">
<li>Lable : <span class="underline"><span class="underline">&lt;Give Slave Node Lable&gt;_</span></span></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org3e76a8b" class="outline-3">
<h3 id="org3e76a8b">[14 march]Backup and Restoring point</h3>
<div class="outline-text-3" id="text-org3e76a8b">
<ul class="org-ul">
<li>Step 1: Install "Backup or ThinBackup"
<ul class="org-ul">
<li>manage jenkins &gt; manage plugins &gt; install Backup OR ThinBackup</li>
</ul></li>
<li>Step 2: Configur  backup
<ul class="org-ul">
<li>manage jenkins &gt; Backup Manager or (ThinBackup) &gt;
<ul class="org-ul">
<li>Setup :
<ul class="org-ul">
<li>Background Configuration:
<ul class="org-ul">
<li>Backup dirctory : D:/paytm</li>
<li>Formate : zip/tar</li>
<li>File name template : backup_@date@.@extension@</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>

<li>Step 3: Create a backup
<ul class="org-ul">
<li>manage jenkins &gt; Backup Manager or (ThinBackup) &gt;
<ul class="org-ul">
<li>Backup Hudson Configuration [ENABLE] # IT will CREATE BACKUP</li>
</ul></li>
</ul></li>

<li>Step 4: Restore a backup
<ul class="org-ul">
<li>manage jenkins &gt; Backup Manager or (ThinBackup) &gt;
<ul class="org-ul">
<li>Resotre Hudson Configuration
<ul class="org-ul">
<li>Choose backup<sub>file</sub> for backup</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org2d2ef18" class="outline-3">
<h3 id="org2d2ef18">[12 march]Upstream and Downstream</h3>
<div class="outline-text-3" id="text-org2d2ef18">
<p>
There are diffrent job and jobs should be executive in order respectively
</p>
<ul class="org-ul">
<li>world job</li>
<li>india job</li>
<li>hyd  job</li>
</ul>
<p>
How do we auto-mate three jobs in order respectively
</p>
</div>
<div id="outline-container-orgf9f9eaa" class="outline-4">
<h4 id="orgf9f9eaa">Create Jobs and pipline the jobs</h4>
<div class="outline-text-4" id="text-orgf9f9eaa">
<p>
For World job , {india,hyd} job are downstream and World in upstream
</p>
<ul class="org-ul">
<li>Create world,india,hyd job</li>
<li>Pipeline Job :
<ul class="org-ul">
<li>Job : india job 
<ul class="org-ul">
<li>Build Triggers :
<ul class="org-ul">
<li>Build after project are build
<ul class="org-ul">
<li>Projects to watch : <span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline">_<sub>world</sub>_</span></span></span></span></span></span></span>
<ul class="org-ul">
<li>Trigger only if build is stable</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>Job : hyd job 
<ul class="org-ul">
<li>Build Triggers :
<ul class="org-ul">
<li>Build after project are build
<ul class="org-ul">
<li>Projects to watch : <span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline"><span class="underline">_<sub>india</sub>_</span></span></span></span></span></span></span>
<ul class="org-ul">
<li>Trigger only if build is stable</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>



<div id="outline-container-orgd829c00" class="outline-4">
<h4 id="orgd829c00">To View Pipeline</h4>
<div class="outline-text-4" id="text-orgd829c00">
<ul class="org-ul">
<li>Step 1: Install "Build Pipline Plugin"
<ul class="org-ul">
<li>manage jenkins &gt; manage plugins &gt; install Build Pipeline</li>
</ul></li>
<li><p>
Step 2 : Create a View Pipeline
</p>
<ul class="org-ul">
<li>Create a View{Name:Earth} &gt; Build Pipeline View: Ok</li>
<li>Inside:localhost:8080/view/Earth/configure
<ul class="org-ul">
<li>Pipeline Flow: 
<ul class="org-ul">
<li>Select Initial Job: world</li>
</ul></li>
<li>Trigger Options
<ul class="org-ul">
<li>Restrict trigger to most recent successful build : yes</li>
<li>Always allow manual tigger on pipeline steps : yes</li>
</ul></li>
</ul></li>
</ul>
<ul class="org-ul">
<li>Step 3: Save and apply changes</li>
</ul></li>
</ul>
</div>
</div>


<div id="outline-container-org84a4e97" class="outline-4">
<h4 id="org84a4e97">Example</h4>
<div class="outline-text-4" id="text-org84a4e97">
<p>
git [trigger build by change in git-code]
maven [build the code]
deploy [copy the build to tomcat/webapps]
archive artifacts
</p>
</div>
</div>
</div>
<div id="outline-container-org23e37f2" class="outline-3">
<h3 id="org23e37f2">[19- march] Pass parameters in Jenkins</h3>
<div class="outline-text-3" id="text-org23e37f2">
<p>
Ceate a script in path : /opt/softaware/scripts/test.sh
</p>
<div class="org-src-container">
<pre class="src src-sh">#!/bin/sh
echo "$1 is a good boy and $2 is a innocent guy"
</pre>
</div>
</div>
<div id="outline-container-orgb7d6d13" class="outline-4">
<h4 id="orgb7d6d13">String Parameter</h4>
<div class="outline-text-4" id="text-orgb7d6d13">
<p>
-Step 1: Create a New job:
</p>
<ul class="org-ul">
<li>new item &gt; free style  name: parameterijenkns
<ul class="org-ul">
<li>Genral
<ul class="org-ul">
<li>This project is parameterised :
<ul class="org-ul">
<li>String  Parameter : 
<ul class="org-ul">
<li>Name          : param1</li>
<li>Default Value : mahesh</li>
</ul></li>
</ul></li>

<li>String  Parameter : 
<ul class="org-ul">
<li>Name          : param2</li>
<li>Default Value : pawan</li>
</ul></li>
</ul></li>
<li>Build 
<ul class="org-ul">
<li>Execute shell
<ul class="org-ul">
<li>command : echo "1st Paramenter is ${param1}"</li>
<li>command : echo "2nd Parameter is ${param2}"</li>
<li>command : sh /opt/softaware/scripts/test.sh $param1 @param2</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<ul class="org-ul">
<li><b>Build with Parameter</b>
<ul class="org-ul">
<li>In UI : name : <span class="underline"><span class="underline">"${param1}"_</span></span></li>
<li><b>Build</b></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org41d3596" class="outline-4">
<h4 id="org41d3596">Choices Parameter</h4>
<div class="outline-text-4" id="text-org41d3596">
<p>
-Step 1: Create a New job:
</p>
<ul class="org-ul">
<li>new item &gt; free style  name: parameterijenkns
<ul class="org-ul">
<li>Genral
<ul class="org-ul">
<li>This project is parameterised :
<ul class="org-ul">
<li>Add Parameters:
<ul class="org-ul">
<li><span class="underline">Choice  Parameter</span> : 
<ul class="org-ul">
<li>Name    : param</li>
<li>Choices : mahesh 
<ul class="org-ul">
<li>: pawan</li>
<li>: shastri</li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li>Build 
<ul class="org-ul">
<li>Execute shell
<ul class="org-ul">
<li>command : sh /opt/softaware/scripts/test.sh $param # only one is select in before execution</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<ul class="org-ul">
<li><b>Build with Parameter</b>
<ul class="org-ul">
<li>In UI :
<ul class="org-ul">
<li>myboolpara : enable/disable</li>
</ul></li>
<li><b>Build</b></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org4156cf5" class="outline-4">
<h4 id="org4156cf5">Boolean  Parameter</h4>
<div class="outline-text-4" id="text-org4156cf5">
<p>
-Step 1: Create a New job:
</p>
<ul class="org-ul">
<li>new item &gt; free style  name: parameterijenkns
<ul class="org-ul">
<li>Genral
<ul class="org-ul">
<li>This project is parameterised :
<ul class="org-ul">
<li>Boolean  Parameter : 
<ul class="org-ul">
<li>Name          : myboolpara</li>
</ul></li>
</ul></li>
</ul></li>

<li>Build 
<ul class="org-ul">
<li>Execute shell
<ul class="org-ul">
<li>command : echo "Boolean Paramenter is ${myboolpara}"</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<ul class="org-ul">
<li><b>Build with Parameter</b>
<ul class="org-ul">
<li>In UI :
<ul class="org-ul">
<li>myboolpara : enable/disable</li>
</ul></li>
<li><b>Build</b></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgb23d425" class="outline-3">
<h3 id="orgb23d425">Learn Groovy script</h3>
<div class="outline-text-3" id="text-orgb23d425">
<p>
<a href="https://learnxinyminutes.com/docs/groovy/">https://learnxinyminutes.com/docs/groovy/</a>
</p>
</div>
</div>
<div id="outline-container-org0eadd64" class="outline-3">
<h3 id="org0eadd64"><span class="todo TODO">TODO</span> DSL Scripting and yaml file for jenkins pipline [Domain Specific Langaugae]</h3>
<div class="outline-text-3" id="text-org0eadd64">
<p>
Two Types of scripted pipeline
Scripted Pipeline
Declarative pipeline
</p>


<p>
Prescently we are using yml file instead fo DSL scripting
For Pipline syntax : <a href="https://www.jenkins.io/doc/book/pipeline/syntax/">https://www.jenkins.io/doc/book/pipeline/syntax/</a>
Visit Udemy-Jenkins
<a href="https://www.jenkins.io/doc/book/pipeline/#scripted-pipeline-fundamentals">https://www.jenkins.io/doc/book/pipeline/#scripted-pipeline-fundamentals</a> : below code 
</p>
<pre class="example">

Jenkinsfile (Scripted Pipeline)

node {  
    stage('Build') { 
	// 
    }
    stage('Test') { 
	// 
    }
    stage('Deploy') { 
	// 
    }
}
</pre>

<pre class="example">

Jenkinsfile (Declarative Pipeline)

pipeline { 
    agent any  # none, all
    options {
	skipStagesAfterUnstable()
    }
    stages {
	stage('Build') { 
	    steps { 
		sh 'make' 
	    }
	}
	stage('Test'){
	    steps {
		sh 'make check'
		junit 'reports/**/*.xml' 
	    }
	}
	stage('Deploy') {
	    steps {
		sh 'make publish'
	    }
	}
    }
}


</pre>
</div>
<div id="outline-container-orge7218aa" class="outline-4">
<h4 id="orge7218aa">Example 2. Stage-level Agent Section</h4>
<div class="outline-text-4" id="text-orge7218aa">
<pre class="example">
pipeline {
    agent none 
    stages {
	stage('Example Build') {
	    agent { docker 'maven:3.8.1-adoptopenjdk-11' } 
	    steps {
		echo 'Hello, Maven'
		sh 'mvn --version'
	    }
	}
	stage('Example Test') {
	    agent { docker 'openjdk:8-jre' } 
	    steps {
		echo 'Hello, JDK'
		sh 'java -version'
	    }
	}
    }
}



</pre>
</div>
</div>
<div id="outline-container-org57816c7" class="outline-4">
<h4 id="org57816c7">Post</h4>
<div class="outline-text-4" id="text-org57816c7">
<pre class="example">
pipeline {
    agent any
    stages {
	stage('Example') {
	    steps {
		echo 'Hello World'
	    }
	}
    }
    post { 
	always { 
	    echo 'I will always say Hello again!'
	}
    }
}
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org8c1adc9" class="outline-2">
<h2 id="org8c1adc9">Ansible :</h2>
<div class="outline-text-2" id="text-org8c1adc9">
</div>
<div id="outline-container-orgbc07cbb" class="outline-3">
<h3 id="orgbc07cbb">Introduction</h3>
<div class="outline-text-3" id="text-orgbc07cbb">
</div>
<div id="outline-container-orgc5ad7ce" class="outline-4">
<h4 id="orgc5ad7ce">Before Ansible</h4>
<div class="outline-text-4" id="text-orgc5ad7ce">
<p>
sys-admin use to take all time inupdating severs and creating new servers but there  no-time to moniotir servers to know which servers are corrupt/not-functioning servers.
<b>Configuration Management tool</b>: organization tool which help manage ,configure and monitor all servers efficienctly
Eg: At New year there was "Mega Sale" so there huge rise in traffic, so we need web servers to handille using(load balancer + servers(increase) + db) in <b>short period</b> of time. This is possible by <b>Configuration Management</b>
</p>
</div>
</div>
<div id="outline-container-org9858ca3" class="outline-4">
<h4 id="org9858ca3">Advantages of Configuration Management tool:</h4>
<div class="outline-text-4" id="text-org9858ca3">
<ul class="org-ul">
<li>Scalability
<ul class="org-ul">
<li>before sys-admin manually launch and config servers but with configuration tool we can</li>
<li>automate laucch and configure servers</li>
</ul></li>
<li>work-velocity:
<ul class="org-ul">
<li>when developer pushes code and wanted new testing then  sys-admin take time to configure,during this time developer will be idels which affect the work flow with configuration tool we can maintain work-flow</li>
</ul></li>
<li>Roll back :
<ul class="org-ul">
<li>New Version of software are released beta version some time user/customer are not happy or some bug was present. We need to switch back to older version as quickly as possible this can happen with configuration management
<ul class="org-ul">
<li><b>Example: New York Stock</b>
<ul class="org-ul">
<li>There was a bug in new-software  during lauch which cause loss in stock and they quickly move to old-software which is possible by configuration management tool.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgb6e84c5" class="outline-4">
<h4 id="orgb6e84c5">Alternative to Ansible (Different Configuration Management tool):</h4>
<div class="outline-text-4" id="text-orgb6e84c5">
<ul class="org-ul">
<li>Ansible ,SaltStack : push based Configuration tool</li>
<li>Chef puppet : pull based Comfiguration Management tool</li>
</ul>
</div>
</div>
<div id="outline-container-orge4b9e94" class="outline-4">
<h4 id="orge4b9e94">WHY Ansible</h4>
<div class="outline-text-4" id="text-orge4b9e94">
<ul class="org-ul">
<li>Configuration Management tool &amp; deployment &amp; Orchestration tool</li>
<li>push based Conf Mange tool</li>
<li>automate</li>
<li>Features :
<ul class="org-ul">
<li>Agentless</li>
<li>Simple</li>
<li>Powerfull</li>
<li>efficienct</li>
</ul></li>
</ul>
</div>
<ul class="org-ul">
<li><a id="orga20057b"></a>Case Study :NASA moving Private Servers to Cloud using ansible <a href="https://www.youtube.com/watch?v=dCQpaTTTv9">Edureka Youtube</a><br /></li>
<li><a id="orgae924ac"></a>Architechture<br />
<div class="outline-text-5" id="text-orgae924ac">
<ul class="org-ul">
<li>Ansible
<ul class="org-ul">
<li>Automate Engine</li>
<li>Inventory</li>
<li>Playbook
<ul class="org-ul">
<li>module : lib</li>
<li>plugins : execute ansible-task as jobs,plugins can to action, call-back,</li>
<li>api</li>
</ul></li>
<li>CMDB</li>
<li>Hosts(servers) [connect through ssh or &#x2026;]</li>
</ul></li>
</ul>
</div>
</li>
</ul>
</div>

<div id="outline-container-org9ee7302" class="outline-4">
<h4 id="org9ee7302">[20 march] SSH-Key connection between master and all slave</h4>
<div class="outline-text-4" id="text-org9ee7302">
</div>
<ul class="org-ul">
<li><a id="org17d2d2b"></a>Prerequirement-I : Create a common user with root privillage and ssh-key base authentication<br />
<div class="outline-text-5" id="text-org17d2d2b">
<ul class="org-ul">
<li>Step to connect using SSH-Key:  
<ul class="org-ul">
<li>Create common user for all users (master and slave))</li>
<li>Give root privilege to common-user for both master and slave</li>
<li>Enable ssh-key based authentication( and restart sshd server)</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">#!/bin/bash
USER_NAME='ansible'    # $1
PASSWORD='karthik@123'   #$USER_NAME

##################################################################################
#   Create a common user 
##################################################################################
useradd ${USER_NAME}
echo ${PASSWORD} | passwd --stdin ${USER_NAME}
passwd -e ${USER_NAME}

if [[ "${?}" -ne 0 ]]   # # if [ "#?" !=0]
then
  echo "Password create sucessfull"
else
      exit 1
fi
#check if user is created or not 
# cat/etc/passwd
##################################################################################
# Give root privilege
##################################################################################
# verify if user exit cat /etc/passwd
if grep -q "${USER_NAME}" "/etc/sudoers"    #[[ "${?}" -ne 0 ]]
then
  echo "Alread exiting "
else
  echo "Need to add to sudoers"
  echo -e "## Allow ${USER_NAME} to run any commands anywhere\n${USER_NAME}\tALL=(ALL)\tNOPASSWD: ALL" &gt;&gt; /etc/sudoers
  # sed -i 's/root    ALL=(ALL)       ALL/root    ALL=(ALL)       ALL \n${USER_NAME}\tALL=(ALL)/g' /etc/sudoers
fi
grep "$USER_NAME" "/etc/sudoers"
##################################################################################
# Enable ssh-key based authentication
##################################################################################
sed -i 's/^PasswordAuthentication no/#PasswordAuthentication no/' /etc/ssh/sshd_config
sed -i 's/#PasswordAuthentication yes/PasswordAuthentication yes/' /etc/ssh/sshd_config
grep 'PasswordAuthentication' /etc/ssh/sshd_config
service sshd restart
</pre>
</div>
</div>
</li>

<li><a id="orge8764bb"></a>Prerequirement-II: Generate ssh-key in master and share it with all slave<br />
<div class="outline-text-5" id="text-orge8764bb">
<ul class="org-ul">
<li>Create ssh-key in master</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">ssh-keygen   #check key "id_ras.pub" ls -latr /home/ansible/.ssh
ssh-copy-id devops@slave_ip
</pre>
</div>

<ul class="org-ul">
<li>check ssh without password</li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">ssh &lt;user-name&gt;@ip
# show-key : cat /home/&lt;user-name&gt;/devops/.ssh/authorizzed_keys
exit() # to exist 
#NOTE: we can connect from master to slave but not from slave to master
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgfcb0cdc" class="outline-4">
<h4 id="orgfcb0cdc">[21 march] Installation</h4>
<div class="outline-text-4" id="text-orgfcb0cdc">
<div class="org-src-container">
<pre class="src src-sh">wget http://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
rpm -ivh epel-release-latest-7.noarch.rpm
yum repolist
#yum install epel-release
yum update
yum install git python openssl ansible -y
ansible --version

</pre>
</div>
</div>
</div>

<div id="outline-container-org2f7b580" class="outline-4">
<h4 id="org2f7b580">[21 march ] Inventory Enable and Example</h4>
<div class="outline-text-4" id="text-org2f7b580">
</div>
<ul class="org-ul">
<li><a id="orgc054a8b"></a>Config Ansible for Inventory<br />
<div class="outline-text-5" id="text-orgc054a8b">
<div class="org-src-container">
<pre class="src src-sh"># Enable /etc/ansible/host by un-commenting &lt;inventory&gt; in ansible.cfg file
#vi /etc/ansible/ansible.cfg
    #inventory = /etc/ansible/hosts
    #host_key_checking = False. # This is to disable SSH key host checking:
# /etc/ansible/host           # contain all information slave host in yaml file

#EXAmPLE : Ansible has inventory files where host info are stored and used.
# inventory = /etc/ansible/host
#vi /etc/ansible/hosts   # System given examples
#############################################################################################
#  Inventory file
#[web]
# 192.147.58.9
#[app]
# 192.147.59.7
#[dbserevr]
# 192.34.5.6
# using host file we create cluster in order to run cmd on cluster we
</pre>
</div>
</div>
</li>
<li><a id="orgd74ab18"></a>Invertory Parameters<br />
<ul class="org-ul">
<li><a id="org95d53d2"></a>Formate<br />
<div class="outline-text-6" id="text-org95d53d2">
<div class="org-src-container">
<pre class="src src-sh"># #Inventory Parameters
# ansible_host - 192.168.25.15 IP
# ansible_host - server1.company.com DNS

# ansible_connection - ssh/winrm/localhost 
# ansible_port -  22/5986
# ansible_user - root/administrator/ansible
# ansible_ssh_pass - Password

</pre>
</div>
</div>
</li>
<li><a id="org3c2df16"></a>Example1<br />
<div class="outline-text-6" id="text-org3c2df16">
<div class="org-src-container">
<pre class="src src-sh">###########################################################33
web1 ansible_host - 192.147.58.1
web2 ansible_host - 192.147.58.2
web3 ansible_host - 192.147.58.3
db1  ansible_host - 192.147.59.1
db2 ansible_host - 192.147.59.2
db3 ansible_host - 192.147.59.3

[webservers]
web[1:3]

[dbservers]
db[1:3]

# parent : child
[prodserver]
webserver
dbserevr
</pre>
</div>
</div>
</li>

<li><a id="org49f4c63"></a>Example2<br />
<div class="outline-text-6" id="text-org49f4c63">
<div class="org-src-container">
<pre class="src src-sh">cat inventory.txt
# webserver1 ansible_host=192.168.25.15 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
ansible webserver1 -m ping -i inventory.txt 
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh"># Sample inventory files
web ansible_host=server1.company.com
db ansible_host=server2.company.com
mail ansible_host=server3.company.com
web2 ansible_host=server4.company.com
web3 ansible_host=192.168.25.15 ansible_ssh_pass=password

#
web ansible_host=server1.company.com ansible_connection=ssh
db ansible_host=server2.company.com ansible_ssh_pass=osboxes.org
mail ansible_host=server3.company.com ansible_ssh_pass=osboxes.org
web2 ansible_host=server4.company.com ansible_connection=ssh

localhost1 ansible_connection=localhost
</pre>
</div>
</div>
</li>

<li><a id="org5f98eec"></a>Example ansible with pem key for aws login<br />
<div class="outline-text-6" id="text-org5f98eec">
<div class="org-src-container">
<pre class="src src-yaml">#ubuntu ansible_ssh_host=2.3.249.200
ubuntu ansible_host=ec2-3-249-86-200.eu-west-1.compute.amazonaws.com


[brt:vars]
ansible_ssh_private_key_file=/home/mjgoncalves/ansible/chave/aws-ansible.pem
ansible_ssh_user=ubuntu
ansible_connection=ssh
</pre>
</div>
</div>
</li>
</ul>
</li>
</ul>
</div>
<div id="outline-container-orgcd3263a" class="outline-4">
<h4 id="orgcd3263a"><span class="todo TODO">TODO</span> Security of Inventory File</h4>
<div class="outline-text-4" id="text-orgcd3263a">
<p>
Digital Ocean
<a href="https://www.digitalocean.com/community/tutorials/how-to-use-vault-to-protect-sensitive-ansible-data-on-ubuntu-16-04">https://www.digitalocean.com/community/tutorials/how-to-use-vault-to-protect-sensitive-ansible-data-on-ubuntu-16-04</a>
</p>
</div>
</div>
<div id="outline-container-org40d8bed" class="outline-4">
<h4 id="org40d8bed">Example 3</h4>
<div class="outline-text-4" id="text-org40d8bed">
<div class="org-src-container">
<pre class="src src-sh">webserver1 ansible_host=192.168.25.15 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
webserver2 ansible_host=192.168.25.17 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
webserver3 ansible_host=192.168.25.18 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root

sqlserver1 ansible_host=192.168.25.19 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
sqlserver2 ansible_host=192.168.25.20 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
sqlserver3 ansible_host=192.168.25.21 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root

nfsserver1 ansible_host=192.168.25.19 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
nfsserver2 ansible_host=192.168.25.20 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
nfsserver3 ansible_host=192.168.25.21 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root

[webservers]
webserver1
webserver2
webserver3

[dbservers]
dbserver1
dbserver2
dbserver3

[nfsservers]
nfsserver1
nfsserver2
nfsserver3
</pre>
</div>

<p>
In the above file, we can also label servers as - 
</p>
<div class="org-src-container">
<pre class="src src-sh">[nfsservers]
nfsserver[1:3]
</pre>
</div>

<p>
And, it is also possible to aggregate multiple groups as children under a “parent” group. The “parent” is then called a metagroup.
</p>
<div class="org-src-container">
<pre class="src src-sh">webserver1 ansible_host=192.168.25.15 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
webserver2 ansible_host=192.168.25.17 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
webserver3 ansible_host=192.168.25.18 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root

sqlserver1 ansible_host=192.168.25.19 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
sqlserver2 ansible_host=192.168.25.20 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
sqlserver3 ansible_host=192.168.25.21 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root

nfsserver1 ansible_host=192.168.25.19 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
nfsserver2 ansible_host=192.168.25.20 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
nfsserver3 ansible_host=192.168.25.21 ansible_ssh_pass=password ansible_connection=ssh ansible_port=22 ansible_user=root
[webservers]
webserver1
webserver2
webserver3

[dbservers]
dbserver1
dbserver2
dbserver3

[nfsservers]
nfsserver[1:3]

[production:children]
webservers
dbservers
</pre>
</div>
</div>
</div>
<div id="outline-container-org44af59f" class="outline-4">
<h4 id="org44af59f">[21 march ]Ad-hoc commands</h4>
<div class="outline-text-4" id="text-org44af59f">
<p>
You could execute a quick one-liner cmd in ansible with-out writing playbook
</p>
<div class="org-src-container">
<pre class="src src-sh">ansible [groupname] -a "command"      # a : attributes

# Ex:
ansible test -a "ls -l /opt"
ansible test -a "cat /etc/passwd"
ansible servername -a "touch /opt/test123" -s
ansible servername -a "ls -l /opt"
ansible all -a "yum remove httpd -y" -s
ansible test -s -a "useradd batch31"
ansible all -a "ls -l /opt"



# module
ansible web -a "service httpd status" --become 
ansible web -m yum -a "name=httpd state=stopped" --become
ansible web -m yum -a "name=httpd state=absent"# uninstall httpd(apache)
ansible web -a"service httpd status" --become
#

ansible web -m copy -a "src=/etc/hosts dest=/tmp/hosts"
# change file permission and ownership
ansible web -m file -a "dest=/srv/foo/b.txt mode=600 owner=meheen group=maheen"
# #############################################
#  Create users
# #############################################
# Encrpt password :https://www.radb.net/crypt_calculator 
ansible all -m user -a"name=test password=cFl0NSByhlhXc" --become
ansible all -a"cat /etc/passwd" --become # check user is created

# #########################################
#  Custom inventory file
# #########################################
#path of inventory file path: /opt/hosts
ansible -i /opt/hosts app -a "ls -latr /opt"
ansible -i /opt/hosts app -a "ping"
ansible -i /opt/host -m yum -a "name=git state=latest"#
ansible -i /opt/host -m yum -a "name=tomcat state=latest"#

</pre>
</div>

<p>
ansible help cmd
</p>
<div class="org-src-container">
<pre class="src src-sh">ansible-doc -l | wc
# ansible-doc -s module-name
ansible-doc -s yum
</pre>
</div>
</div>
</div>
<div id="outline-container-orgea68736" class="outline-4">
<h4 id="orgea68736">modules : Adhoc cmd are converted in module for simple and easy use</h4>
<div class="outline-text-4" id="text-orgea68736">
<p>
There different types of module  <a href="https://docs.ansible.com/ansible/latest/user_guide/modules_intro.html">Introduction to module</a>
</p>

<p>
Modules (also referred to as “task plugins” or “library plugins”) are discrete units of code that can be used from the command line or in a playbook task. Ansible executes each module, usually on the remote target node, and collects return values.
</p>
<div class="org-src-container">
<pre class="src src-sh"># 
ansible [pattern] -m [module-name] -a "[module-option]"
# pattern : group or cluster in inventory file

# -a      : attributes of module
# -m      : module
# $ansible-doc -l |wc
#$ ansible-doc yum
#$ ansible-doc yum 
# Example: # state=latest or present, absent(remove install)
# ansible 
ansible web -m yum -a "name=httpd state=latest"# ################################
#                yml file
# ##############################
- name: install latest version of Apache
  yum:
    name: httpd
    state: latest

#############################################
#$ ansible-doc service   
# Example: state : started, stopped,restarted
ansible web -m service -a "name=httpd state=started" --become # install apache server

#                yml file
- name: start service hhtpd
  service:
    name: httpd
    state: started
##################################

ansible web -a "service httpd status" --become 
ansible web -m yum -a "name=httpd state=stopped" --become
#
ansible web -m yum -a "name=httpd state=absent"# uninstall httpd(apache)

# #############################################
#  Create users
# #############################################
# Encrpt password :https://www.radb.net/crypt_calculator 
ansible all -m user -a"name=test password=cFl0NSByhlhXc" --become
ansible all -a"cat /etc/passwd" --become # check user is created

# #########################################
#  Custom inventory file
##########################################
#path of inventory file path: /opt/hosts
ansible -i /opt/hosts app -a "ls -latr /opt"
ansible -i /opt/hosts app -a "ping"
ansible -i /opt/host -m yum -a "name=git state=latest"#
ansible -i /opt/host -m yum -a "name=tomcat state=latest"#
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org88d798e"></a>Example<br />
<div class="outline-text-6" id="text-org88d798e">
<div class="org-src-container">
<pre class="src src-sh">ansible webserver -m yum -a "name=git state=latest"

ansible all -m yum -a "name=httpd state=latest"

ansible test -m ping

ansible all -m copy -a "src=/opt/docker-compose.yaml dest=/opt" -s

ansible appserver -m yum -s -a "name=httpd state=present"

ansible all -m yum -s -a "name=httpd state=absent"

ansible all -m yum -s -a "name=git state=latest"

ansible test -m user -s -a "name=batch31"

ansible test -m user -s -a "name=batch31 state=absent"

ansible all -m service -s -a "name=httpd state=started"


</pre>
</div>
</div>
</li>
</ul>
<li><a id="org3f68e48"></a>Playbook(.yaml)<br />
<div class="outline-text-5" id="text-org3f68e48">
<p>
module: to run single tast or one time task
</p>

<p>
To run multiple task , run repeted task
</p>

<p>
<a href="https://www.softwaretestinghelp.com/ansible-playbooks-ansible-vaults/">https://www.softwaretestinghelp.com/ansible-playbooks-ansible-vaults/</a>
</p>

<p>
to get yaml formate example:
yml consist of ( hosts,variable,tasks) and task is array 
</p>

<p>
variable: optional 
task contain : module and attributes informations
</p>

<div class="org-src-container">
<pre class="src src-sh">ansible-doc git
</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="org7bf0c71"></a>Command type playbook<br />
<div class="outline-text-6" id="text-org7bf0c71">
<div class="org-src-container">
<pre class="src src-sh">#cat sample.yml
##################################
---
- hosts: app
  become: true
  tasks:
  - name: install python
    yum:
      name: python
      state: latest
##########################################
ansible-playbook sample.yml --syntax-check
ansible-playbook sample.yml --list-hosts
ansible-playbook sample.yml # to run yml file


#cat useradd.yml
##################################
---
- hosts: app
  become: true
  tasks:
  - name: creating user
    yum:
      name: statish
      state: /pL2AYR6csdTI
ansible-playbook useradd.yml --syntax-check
ansible-playbook useradd.yml 
ansible app -a "cat /etc/passwrd" --become
##########################################
#cat httpd_installNrun.yml
##################################
---
- hosts: app
  become: true
  tasks:
  - name: install httpd
     yum:
       name: httpd
       state: latest
  - name:start service
     service:
	name: httpd
	state: started
ansible-playbook httpd_installNrun.yml --syntax-check
ansible-playbook httpd_installNrun.yml
##########################################
#cat create_file.yml
##################################
---
- hosts: app
  tasks:
  - name: create file
     file:
      path: /opt/vbs
       state: touch
ansible-playbook create_file.yml --syntax-check
ansible-playbook create_file.yml

</pre>
</div>
</div>
</li>
</ul>
</li>
</ul>
</div>
<div id="outline-container-org1feb61d" class="outline-4">
<h4 id="org1feb61d">modules</h4>
<div class="outline-text-4" id="text-org1feb61d">
<ul class="org-ul">
<li>modules
<ul class="org-ul">
<li>System (User, Group, Hostname, Iptables, Lvg, Lvol, make, mount,ping, Timezone, Systemd, Service)</li>
<li>Commands (Command, Expect , RAW, Script, Shell)</li>
<li>Files (Acl, Archive, File, Find, Lineinfile, Replace, Stat, Template, Unarchive)</li>
<li>Database(mongodb,mssql,mysql, Postgresql, Proxysql, vertica)</li>
<li>Cloud (Amazon, Atomic, Azure, Centrylink,Cloudscale,Cloudstack,Digital Ocean, Docker,Google, Linode, Openstack, Rackspace, Smartos, Softlayer, Vmware)</li>
<li>Windows (In windows environment)</li>
<li>git ()</li>
<li>&#x2026;..</li>
<li></li>

<li>shell</li>
<li>command</li>
<li>script</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-sh">-
 name: Play 1
 hosts: localhost
 tasks:
 - name: Execute command ‘date’
   command: date

 - name: Display resolv.conf contents
   command: cat /etc/resolv.conf

 - name: Display resolv.conf contents
   command: cat resolv.conf chdir=/etc

 - name: Display resolv.conf contents
   command: mkdir /folder creates=/folder

 - name: Copy file from source to destination
   copy: src=/source_file dest=/destination

 - name: Run a script on remote server
   script: /some/local/script.sh -arg1 -arg2
# Services : Started,Stopped,Resatared
 - name: Start the database service
   service: name=postgresql state=started

 - name: Start the httpd service
   service: name=httpd state=started

 - name: Start the nginx service
   service:
     name: nginx
     state: started
 - name: Start the database service
   service:
     name: postgresql
     state: started
# Lineinfile
# Search for a line in a file and replace it or add it if it doesn’t exist.
- lineinfile:
    path: /etc/resolv.conf
    line: 'nameserver 10.1.250.10'
# Ping
  - name: Ping test
    ping:

</pre>
</div>
</div>
</div>
<div id="outline-container-orgb810419" class="outline-4">
<h4 id="orgb810419">Playbook</h4>
<div class="outline-text-4" id="text-orgb810419">
<p>
Playbooks offer repeatable, reusable, simple configuration management. It can be used for configuration management, orchestrating steps of any manual process on multiple machines in synchronous or asynchronous order.
</p>
</div>
<ul class="org-ul">
<li><a id="org309a74a"></a>(yml file ) Playbook create, run , check<br />
<div class="outline-text-5" id="text-org309a74a">
<ul class="org-ul">
<li>TOP LEVELS
<ul class="org-ul">
<li>HOST SECTION</li>
<li>VARABLE SECTION</li>
<li>TASKS  SECTION</li>
</ul></li>
</ul>
<p>
Different YAML Tags
Let us now go through the different tags in a playbook-
</p>
<ul class="org-ul">
<li><b>name</b>: Logical name of the task which specifies what this playbook will be doing</li>
<li><b>hosts</b>: This specifies the lists of hosts against which we want to run the task</li>
<li><b>vars</b>: This allows you to define and use variables in your playbook</li>
<li><b>tasks</b>: Tasks are a list of actions the playbook will perform</li>
<li><b>handler</b></li>
<li>loop:
<ul class="org-ul">
<li>loop</li>
<li>with<sub>items</sub></li>
<li>with<sub>files</sub></li>
<li>with<sub>urls</sub></li>
<li>with<sub>mongodb,dict,evn,filetree,ini,inventoryhostnames,k8s,manifold,nestd,nios,openshift,password,pipe,rabbitmq,redis,sequence,skydive,subelements,template,together,varnames</sub></li>
<li>become:</li>
</ul></li>
</ul>
<pre class="example">
---
- hosts: all
  become: ture
  vars: 
      dest_path: /opt
      src_path: /opt/icici.war
  tasks:
  - name: copy
    copy:
	src:"{{src_path}}"
	dest:"{{dest_path}}"

  - name: create multiple touch
    file:
      path: "{{item}}"
      state: touch
      mode: '0755'
    with_item:
      - "/opt/satishP"
      - "/opt/satishT"
      - "/opt/rajit"
      - "/opt/karthik"

...

</pre>
</div>
</li>
<li><a id="org8f32ea2"></a>Run yml file<br />
<div class="outline-text-5" id="text-org8f32ea2">
<div class="org-src-container">
<pre class="src src-sh">ls
# python install

# chek sytanx
ansible-playbook pythonisntall.yml --syntax-check
ansible-playbook pythonisntall.yml --list-host
ansible-playbook pythonisntall.yml # to run  playbook
ansible-playbook -i inventory.txt palybook.yml #static inventory
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-orgf64ea5e" class="outline-4">
<h4 id="orgf64ea5e">[24 march] when should we use ad-hoc and playbook</h4>
<div class="outline-text-4" id="text-orgf64ea5e">
<p>
For ad-hoc to run commands which are used rarely
      For runing single instruction
</p>

<p>
For playbook:
     For running set of/complex insrtuction 
     For createing same enviroment 
</p>
<div class="org-src-container">
<pre class="src src-sh">ansible-doc -s yum
</pre>
</div>
</div>
</div>
<div id="outline-container-org65c1ea7" class="outline-4">
<h4 id="org65c1ea7">[24 march] Palybook service (state: reloaded, restarted, started, stopped)</h4>
<div class="outline-text-4" id="text-org65c1ea7">
<div class="org-src-container">
<pre class="src src-sh">- name: start serveice
  service:
     name: httpd
     state: started # reloaded, restarted, started, stopped,abscent

</pre>
</div>
</div>
</div>
<div id="outline-container-orge3e8105" class="outline-4">
<h4 id="orge3e8105">Palybook copy-module</h4>
<div class="outline-text-4" id="text-orge3e8105">
<div class="org-src-container">
<pre class="src src-sh">#$ansible-doc copy
- name: Copy file with owner and permissions
  copy:
    src: /srv/myfiles/foo.conf
    dest: /etc/foo.conf
- name: Copy a new "sudoers" file into place, after passing validation with visudo
  copy:
    src: /mine/sudoers
    dest: /etc/sudoers
    validate: /usr/sbin/visudo -csf %s

</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">cd /opt
#vi copy_pb.yml
---
- hosts: web
  task:
  - name: copy file
    copy:
      src: /opt/sbi.war
      dest: /tmp/sbi.war
...
# #########################333
#   Using SRC
# #########################3
- hosts: web
  become:true
  vars:
    dst_path: /opt
    src_path: /opt/icici.war
  task:
  - name: copy file
    copy:
      src: "{{src_path}}"
      dest: "{{dst_path}}"
...
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdd4f134" class="outline-4">
<h4 id="orgdd4f134">Playbook for create a user</h4>
<div class="outline-text-4" id="text-orgdd4f134">
<div class="org-src-container">
<pre class="src src-sh">ansible-doc user # search for playbook example
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">- name: Add user 
  user:
    name: johnd
    comment: John Doe
    uid : 1040
    group: admin

ansible all -m user -a"name=test password=cFl0NSByhlhXc" --become
# passing password in playbook is not best practice
# In generall we pass encripted password 
# google search encrypted password
# replace password with encrypted

</pre>
</div>
</div>
</div>
<div id="outline-container-org8abdd48" class="outline-4">
<h4 id="org8abdd48">(yml file ) Playbook create, run , check</h4>
<div class="outline-text-4" id="text-org8abdd48">
<ul class="org-ul">
<li>TOP LEVELS
<ul class="org-ul">
<li>HOST SECTION</li>
<li>VARABLE SECTION</li>
<li>TASKS  SECTION</li>
</ul></li>
</ul>

<p>
For interview please pratice using online examples :
<a href="https://www.softwaretestinghelp.com/ansible-playbooks-ansible-vaults/">https://www.softwaretestinghelp.com/ansible-playbooks-ansible-vaults/</a>
</p>
<div class="org-src-container">
<pre class="src src-sh">--- 
- 
  become: true
  hosts: azure
  tasks: 
    - 
      name: "install httpd"
      yum: 
	name: httpd
	state: latest
    - 
      name: "start serveice"
      service: 
	name: httpd
	state: started
    - 
      file: 
	mode: "0777"
	path: /var/www
	state: directory
      name: "Create a directory if it does not exist"
    - 
      copy: 
	dest: /var/www/html/index.html
	src: /opt/scripts/index.html
      name: "copy module"
    - 
      name: "restart serveice"
      service: 
	name: httpd
	state: resarted
# ansible-playbook ansible_pb1.yml --syntax-check
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">- name: copy module
  copy:
   src: /opt/index.html
   dest: /var/www/html/index.html
  notify:
  - restart apache
handlers:
  - name: restart apache
    service:
     name: httpd
     state: restarted
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="orgc4038d9"></a>Run yml file<br />
<div class="outline-text-5" id="text-orgc4038d9">
<div class="org-src-container">
<pre class="src src-sh">ls
# python install

# chek sytanx
ansible-playbook pythonisntall.yml --syntax-check
ansible-playbook pythonisntall.yml --list-host
ansible-playbook pythonisntall.yml # to run  playbook
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org5fc23d4" class="outline-4">
<h4 id="org5fc23d4">[24 march] Playbook for file-module</h4>
<div class="outline-text-4" id="text-org5fc23d4">
<p>
Basic yml to be remember during interviews
<a href="https://www.softwaretestinghelp.com/ansible-playbooks-ansible-vaults/">https://www.softwaretestinghelp.com/ansible-playbooks-ansible-vaults/</a>
</p>

<div class="org-src-container">
<pre class="src src-sh"># $ansible-doc file # go to example

- name: Create a directory if it does not exist
  file:
    path: /etc/some_directory
    state: directory
    mode: '0755'


- name: Remove file (delete file)
  file:
    path: /etc/foo.txt
    state: absent

- name: Recursively remove directory
  file:
    path: /etc/foo
    state: absent


- name: Change file ownership, group and permissions
  file:
    path: /etc/foo.conf
    owner: foo
    group: foo
    mode: '0644'

- name: Change file ownership, group and permissions
  file:
    path: /etc/foo.conf
    owner: foo
    group: foo
    mode: '0644'

- name: Change file ownership, group and permissions
  file:
    path: /etc/foo.conf
    owner: foo
    group: foo
    mode: '0644'

</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">cd /opt
#vi dry.yml
---
- hosts: web
  become: true
  task:
  - name: create dir
    file:
      path: /opt/test_dir
      state: directory
      mode: '0755'
  - name: change permission and ownership
    file:
      path: /opt/test_dir
      owner: ansible
      group: ansible
      mode: '0777'
  - name: create touch
    file:
      path: /opt/test.txt
      state: touch
      mode: '0755'
  - name: create multiple touch
    file:
      path: "{{item}}"
      state: touch
      mode: '0755'
    with_item:
      - "/opt/satishP"
      - "/opt/satishT"
      - "/opt/rajit"
      - "/opt/karthik"

  - name: Remove file (delete file)
    file:
      path: /opt/test.txt
      state: absent
  - name: Recursively remove directory
    file:
      path: /opt/etc/foo
      state: absent

...
</pre>
</div>
</div>
</div>
<div id="outline-container-orgebdda9d" class="outline-4">
<h4 id="orgebdda9d">Varaible</h4>
<div class="outline-text-4" id="text-orgebdda9d">
<div class="org-src-container">
<pre class="src src-sh">---
 name: Add DNS server to resolv.conf
 hosts: localhost
 vars:
   dns_server: 10.1.250.10
 tasks:
 - lineinfile:
     path: /etc/resolv.conf
     line: 'nameserver {{dns_server }}’
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">---
- hosts: all
  become: ture
  vars: 
      dest_path: /opt
      src_path: /opt/icici.war
  tasks:
  - name: copy
    copy:
	src:"{{src_path}}"
	dest:"{{dest_path}}" 
...
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">- 
  name: Set Firewall Configurations
  hosts: web
  var:
    http_port: 8081
    snmp_port: 161-162
    inter_ip_range: 192.0.2.0
  tasks:
  - firewalld:
      service: https
      permanent: true
      state: enabled

  - firewalld:
      port: ‘{{ http_port }}’/tcp
      permanent: true
      state: disabled
  - firewalld:
      port: ‘{{snmp_port}}’/udp
      permanent: true
      state: disabled
  - firewalld: 
      source: ‘{{ inter_ip_range}}’/24
      Zone: internal
      state: enabled
</pre>
</div>
</div>
</div>
<div id="outline-container-org5ec01c1" class="outline-4">
<h4 id="org5ec01c1">[24 march] Playbook Java installation:</h4>
<div class="outline-text-4" id="text-org5ec01c1">
</div>
<ul class="org-ul">
<li><a id="org3ebe742"></a>varibale<br />
<div class="outline-text-5" id="text-org3ebe742">
<p>
SOURCE: <a href="https://gist.github.com/andershedstrom/7c7d0bb5b9450c54a907">https://gist.github.com/andershedstrom/7c7d0bb5b9450c54a907</a>
</p>
<div class="org-src-container">
<pre class="src src-sh">---
- hosts: web
  become: true
  vars:
   download_url: http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz
   dst_path: /opt/software
  tasks:
  - name: Create a directory if it does not exist
      file:
	path: "{{dst_path}}"
	state: directory
	mode: '0777'

  - name: Download JDK tar file
    command: "wget --no-check-certificate --no-cookies --header 'Cookie: oraclelicense=accept-securebackup-cookie' {{download_url}} "
    args:
      chdir: "{{dst_path}}"

  - name: Extract tar file
    command: "tar -xvzf jdk-8u131-linux-x64.tar.gz;rm -rf jdk-8u131-linux-x64.tar.gz"

  - name: Set JAVA PATH
      shell: echo "# JAVA ENVIRONmENT VARIABLES" &gt;&gt; ~/.bash_profile; echo "export JAVA_HOME=/opt/softwares/jdk1.8.0_131"&gt;&gt; ~/.bash_profile; echo "export PATH=\$PATH:/opt/softwares/jdk1.8.0_131/bin"&gt;&gt; ~/.bash_profile

  - name: restart bash and check version
      shell:   - name: Set JAVA PATH
      shell: source ~/.bash_profile; java -version
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgce11924" class="outline-4">
<h4 id="orgce11924">Looping</h4>
<div class="outline-text-4" id="text-orgce11924">
<div class="org-src-container">
<pre class="src src-sh">-
  name: Create users
  hosts: localhost
  tasks:
  - user: name= ‘{{ item }}’
    loop:
      - joe
      - george
      - ravi
      - mani
      - kiran
      - jazlan
      - emaan
      - mazin
      - izaan
      - mike
      - menaal
      - shoeb
      - rani
</pre>
</div>

<div class="org-src-container">
<pre class="src src-sh">- 
  name: Create users
  hosts: localhost
  tasks:
  - user: 
      name= ‘{{item.name}}’  
      state= present
      uid= '{{ item.uid}}’

    loop:
     - name: joe
       uid: 1010
     - name: george
       uid: 1010 
     - name :ravi
       uid: 1012
     - name:mani
       uid: 1013
     - name:kiran
       uid: 1014
     - name:jazlan
       uid: 1015
     - name:emaan
       uid: 1016
     - name:mazin
       uid: 1017
     - name:izaan 
     - name:kiran
       uid: 1018
     - name:mike 
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org9d84433"></a>With<sub>item</sub><br />
<div class="outline-text-5" id="text-org9d84433">
<div class="org-src-container">
<pre class="src src-sh">- name: Create users 
  hosts: localhost 
  task: 
  - user: name='{{ item }}'
    state: present 
    with_item: 
    - joe 
    - george 
    - ravi 
    - mani
</pre>
</div>
</div>
</li>


<li><a id="org9170217"></a>With<sub>file</sub><br />
<div class="outline-text-5" id="text-org9170217">
<div class="org-src-container">
<pre class="src src-sh">- name: Create users 
  hosts: localhost 
  task: 
  - debug: var=item
    with_file: 
    - "/etc/hosts"
    - "/etc/resolve.conf"
    - "/etc/ntp.conf"
</pre>
</div>
</div>
</li>
<li><a id="org8de62cb"></a>With url<br />
<div class="outline-text-5" id="text-org8de62cb">
<div class="org-src-container">
<pre class="src src-sh">- name: get multiple urls
  hosts: localhost 
  task: 
  - debug: var=item
    with_url: 
    - "https://site1.com/get-servers"
    - "https://site2.com/get-servers"
    - "https://site3.com/get-servers"
    - "https://site4.com/get-servers"
</pre>
</div>
</div>
</li>
<li><a id="org7930d13"></a>With mongodb:<br />
<div class="outline-text-5" id="text-org7930d13">
<div class="org-src-container">
<pre class="src src-sh">- name: get multiple mongodbs
  hosts: localhost 
  task: 
  - debug: msg "DB={{item.database}} PID={{item.pid}}"
    with_url: 
    - database: dev
      connection_string : "mongodb://dev.mongo/"
    - database: dev
      connection_string : "mongodb://prod.mongo/"

</pre>
</div>
</div>
</li>
<li><a id="orgac11e64"></a>With<sub>*</sub><br />
<div class="outline-text-5" id="text-orgac11e64">
<blockquote>
<p>
with<sub>items</sub>
with<sub>file</sub>
with<sub>url</sub>
with<sub>mongodb</sub>
with<sub>dict</sub>
with<sub>etcd</sub>
with<sub>env</sub>
with<sub>filetree</sub>
With<sub>ini</sub>
With<sub>inventory</sub><sub>hostnames</sub>
With<sub>k8s</sub>
With<sub>manifold</sub>
With<sub>nested</sub>
With<sub>nios</sub>
With<sub>openshift</sub>
With<sub>password</sub>
With<sub>pipe</sub>
With<sub>rabbitmq</sub>
With<sub>redis</sub>
With<sub>sequence</sub>
With<sub>skydive</sub>
With<sub>subelements</sub>
With<sub>template</sub>
With<sub>together</sub>
With<sub>varnames</sub>
</p>
</blockquote>
</div>
</li>
</ul>
</div>
<div id="outline-container-org243ab2b" class="outline-4">
<h4 id="org243ab2b">Condtions</h4>
<div class="outline-text-4" id="text-org243ab2b">
<div class="org-src-container">
<pre class="src src-sh">---
- name: Install NGINX
  hosts: all
  tasks:
  - name: Install NGINX on Debian
      apt:
	name: nginx
	state: present
      when: ansible_os_family == “Debian” and
	    ansible_distribution_version == “16.04”
 - name: Install NGINX on Redhat
     yum:
       name: nginx
       state: present
     when: ansible_os_family == “RedHat” or
	   ansible_os_family == "SUSE"
</pre>
</div>
</div>
</div>
<div id="outline-container-orgf636b40" class="outline-4">
<h4 id="orgf636b40">Condtionals in Loop</h4>
</div>
<div id="outline-container-orge15e667" class="outline-4">
<h4 id="orge15e667">Condtionals &amp; Register</h4>
</div>
<div id="outline-container-orgc090ea6" class="outline-4">
<h4 id="orgc090ea6">[25 march] Roles</h4>
<div class="outline-text-4" id="text-orgc090ea6">
<p>
Ansible: assigne a role to server or host : like (mysql, gameserver: nginx,)
The same work can be done by palybook why we use role ?
</p>

<p>
This are task which are comman used by all dev, or with in organiziatoin.,,,etc
</p>
</div>
</div>
<div id="outline-container-org70d5f43" class="outline-4">
<h4 id="org70d5f43">Find Roles</h4>
<div class="outline-text-4" id="text-org70d5f43">
<p>
ansible-galaxy :web UI
$ansible-galaxy search mysql
</p>
</div>
</div>
<div id="outline-container-org52240a7" class="outline-4">
<h4 id="org52240a7"><span class="todo TODO">TODO</span> Use Roles</h4>
<div class="outline-text-4" id="text-org52240a7">
<div class="org-src-container">
<pre class="src src-sh">ansible-glaxy install geerlingguy.msql
</pre>
</div>
</div>
</div>
<div id="outline-container-org8f394a1" class="outline-4">
<h4 id="org8f394a1">List Roles</h4>
<div class="outline-text-4" id="text-org8f394a1">
<div class="org-src-container">
<pre class="src src-sh">ansible-galaxy init mysql # 
# How to use mysql in my playbook 
# move role to comman dir where ansible can find the location (/etc/ansible/roles)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga508f45" class="outline-4">
<h4 id="orga508f45">Patter</h4>
<div class="outline-text-4" id="text-orga508f45">
<div class="org-src-container">
<pre class="src src-sh">- 
 name: Play1
 hosts : localhost, # Host*, *.company.com # Host1,Host2,Host3,
 tasks:
 - name: Copy file with owner and permissions
   copy:
     src: /srv/myfiles/foo.conf
     dest: /etc/foo.conf
 - name: Copy a new "sudoers" file into place, after passing validation with visudo
  copy:
    src: /mine/sudoers
    dest: /etc/sudoers

</pre>
</div>
</div>
</div>
<div id="outline-container-org325e553" class="outline-4">
<h4 id="org325e553">Dynamic Inventory:</h4>
<div class="outline-text-4" id="text-org325e553">
<div class="org-src-container">
<pre class="src src-sh">ansible-playbook -i inventory.txt palybook.yml #static inventory
ansible-playbook -i inventory.py playbook.yml # dynamic inventory
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc35ebb7" class="outline-4">
<h4 id="orgc35ebb7">Custom modules:</h4>
<div class="outline-text-4" id="text-orgc35ebb7">
<p>
<a href="https://docs.ansible.com/ansible/2.3/dev_guide/developing_modules_general.html">https://docs.ansible.com/ansible/2.3/dev_guide/developing_modules_general.html</a>
</p>
</div>
</div>
<div id="outline-container-orgf2c85b7" class="outline-4">
<h4 id="orgf2c85b7">[25 march]Jinja Template :</h4>
<div class="outline-text-4" id="text-orgf2c85b7">
<p>
Insted of copy we use Jinja template which move the only contant of file
</p>
<div class="org-src-container">
<pre class="src src-sh">---
- hosts: azure
  become: true
  vars:
    src_path: /opt/devops.j2
    dst_path: /var/www/html/index.html
  tasks:
  - name: install httpd
    yum:
      name: httpd
      state: latest
  - name: start serveice
    service:
       name: httpd
       state: started
  - name: copy module
    template:
     src: "{{ src_path }}"
     dest: "{{ dst_path }}"
    notify:
    - restart apache
  handlers:
    - name: restart apache
      service:
       name: httpd
       state: restarted
</pre>
</div>

<div class="org-src-container">
<pre class="src src-html">&lt;html&gt;
&lt;header&gt;&lt;title&gt;This is title&lt;/title&gt;&lt;/header&gt;
&lt;body&gt;
Hello CARONA world CUP 2020 fwefwefgwe
gwrgrgrgrgrgrgrg
rgr
greg
reg
rger
grg
&lt;/body&gt;
&lt;/html&gt;

</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-orgafd3e37" class="outline-2">
<h2 id="orgafd3e37">Ansible(Advance)</h2>
<div class="outline-text-2" id="text-orgafd3e37">
</div>
<div id="outline-container-org6e47ddb" class="outline-4">
<h4 id="org6e47ddb">Role</h4>
</div>
<div id="outline-container-org549d7a8" class="outline-4">
<h4 id="org549d7a8">Asynchronous Actions</h4>
<div class="outline-text-4" id="text-org549d7a8">
</div>
<ul class="org-ul">
<li><a id="org732c7ba"></a>Why Asynchronous<br />
<div class="outline-text-5" id="text-org732c7ba">
<p>
Time when we need to execute a long task that excceds the ssh-time out
Insted of extending we  make a check on it later time
</p>

<p>
To run mulitpule processes at once and check on it later
</p>

<p>
To run  one or more process and not check it staus
</p>
<div class="org-src-container">
<pre class="src src-sh">- name: Deploy Web Application
  hosts: web
  tasks:
  - command: /opt/monitor_webapp.py
    async: 360 # How long to run ? 
    poll: 60   # How frequently to check default 10 sec?
    register: webapp_result
	       # poll: 0 , Not waiting check and go to other task


  - command: /opt/monitor_database.py
    async: 360 # How long to run ? 
    poll: 60   # How frequently to check default 10 sec?
    register: database_result
	       # poll: 0 , Not waiting check and go to other task

  - name: Check status of tasks
    async_status: jid={{webapp_result.ansible_job_id}}
    register: job_result.finished
    retries: 30

# Not all module support async
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org7aa25ff" class="outline-4">
<h4 id="org7aa25ff">Strategy</h4>
<div class="outline-text-4" id="text-org7aa25ff">
<p>
How playbook is executed in ansible
</p>
<div class="org-src-container">
<pre class="src src-sh">-
 name: Deploy Web Applications
 strategy: free
# Batch 
# serial:3(linear for 1st 3 server) later are free strategy
 hosts: server1
 tasks:
  - name: Install dependencies
     ########################
  - name: Install mySQL databases
     ########################
  - name: Start mysql service
     ########################
  - name: Install Python Flask dependencies
     ########################
  - name: Run web-server 
     ########################
</pre>
</div>
</div>
</div>
<div id="outline-container-org4620845" class="outline-4">
<h4 id="org4620845">Forks</h4>
<div class="outline-text-4" id="text-org4620845">
<p>
How many server can it talk to at a time ?
If we have 100 servers ? will servers run at atime ?
How many servers will ansible take at atime ?
</p>

<p>
Ansible uses parallel process called frok  communicate with host 
default ansible talk 5 servers at atime.
</p>
</div>
</div>
<div id="outline-container-org65bf034" class="outline-4">
<h4 id="org65bf034">Error Handling</h4>
<div class="outline-text-4" id="text-org65bf034">
<p>
In strategy topic we see linear, free, batch
</p>

<p>
If one server there is error &lt;like  mysql server&gt; then ansible take error out of list and continue the playbook
</p>

<p>
If we want to stop execution if there is an error in execution use <b>any<sub>errors</sub><sub>fatal</sub></b>
</p>
</div>
<ul class="org-ul">
<li><a id="org928b363"></a>ignore<sub>errors</sub>:<br />
<div class="outline-text-5" id="text-org928b363">
<p>
consider we want to send a mail at end of task telling &lt;Web Server Deployed&gt;
How ever stmp server is not stable so we don't want to give error because of it and stop, FOR this kind of thinks we want to ignore the error
</p>
<div class="org-src-container">
<pre class="src src-sh">- mail:
    to: devops@corp.com
    subject: Server Deployed!
    body: Web Server Deployed
  ignore_errors: yes
</pre>
</div>
</div>
</li>
<li><a id="org0f027d0"></a>failed<sub>when</sub>:<br />
<div class="outline-text-5" id="text-org0f027d0">
<p>
We want to check the <b>Error log</b> and see if there is an error in it or not then we want to fail the if error as occured
</p>
<div class="org-src-container">
<pre class="src src-sh">- command: cat /var/log/server.log
  register: command_output
  failed_when: " 'ERROR' in command_output.stdout"
</pre>
</div>
</div>
</li>
</ul>
</div>

<div id="outline-container-org3605512" class="outline-4">
<h4 id="org3605512">Jinja 2 Templating(Filters)</h4>
<div class="outline-text-4" id="text-org3605512">
<p>
What is Templating : process of dynamic content :
</p>
<div class="org-src-container">
<pre class="src src-yml">- 
 name: Test Template Playbook
 hosts: localhost
 vars:
   my_name: karthik
 tasks:
  - debug:
       msg: "my name is {{my_name}}"

</pre>
</div>
</div>

<ul class="org-ul">
<li><a id="orgf5889ee"></a>String manipualtion<br />
<div class="outline-text-5" id="text-orgf5889ee">
<blockquote>
<p>
The name is {{my<sub>name</sub>}}=&gt; The name is karthik
The name is {{my<sub>name</sub> | upper}}=&gt; The name is KARTHIK
The name is {{my<sub>name</sub> | lower}}=&gt; The name is karthik
The name is {{my<sub>name</sub> | title}}=&gt; The name is Karthik
The name is {{my<sub>name</sub> | repalce("karthik","Sai Teja")}}=&gt; The name is Sai Teja
The name is {{my<sub>name</sub> | default("James")}} {{my<sub>name</sub>}}=&gt; The name is James Karthik
</p>
</blockquote>
</div>
</li>
<li><a id="orge97a77f"></a>List and Set based filter<br />
<div class="outline-text-5" id="text-orge97a77f">
<div class="org-src-container">
<pre class="src src-yml">{{ [1,2,3] | min }}                &gt;&gt; 1
{{ [1,2,3] | max }}                &gt;&gt; 3
{{ [1,2,3,2] |unique }}                &gt;&gt; 1,2,3
{{ [1,2,3,4] |union([4,5])}}                &gt;&gt; 1,2,3,4,5
{{ [1,2,3,4] | interset([4,5]}}                &gt;&gt; 4
{{ 100 | random }}                &gt;&gt; Random number
{{ ["The", "name", "is","Bond"] | join (" ")}}                &gt;&gt; The name is Bond
</pre>
</div>
</div>
</li>
<li><a id="org0acc4d8"></a>File based Filter<br />
<div class="outline-text-5" id="text-org0acc4d8">
<div class="org-src-container">
<pre class="src src-yml">{{ "/etc/hosts" | basename}}            &gt;&gt; hosts
{{"c"\windows\hosts" | win_basedname }}            &gt;&gt; hosts
{{ "c:\windows\hosts" | win_splitdrive }}            &gt;&gt; ["C:","\windows\hosts"]
{{ "c:\windows\hosts" | win_splitdrive| first }}            &gt;&gt; "C:"
{{ "c:\windows\hosts" | win_splitdrive| last }}            &gt;&gt; "\windows\hosts"

</pre>
</div>
</div>
</li>
<li><a id="org7d0da63"></a>more Info about Jinja2 Filters<br />
<div class="outline-text-5" id="text-org7d0da63">
<p>
GOogle Search: jinja2 List of Builtin Filters
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org51bf424" class="outline-4">
<h4 id="org51bf424">Lookups</h4>
<div class="outline-text-4" id="text-org51bf424">
<p>
If we store hosts and password in csv file we can read the password we can use lookup plugin
</p>
<div class="org-src-container">
<pre class="src src-sh">#$ cat credentials.csv
#Hostname, Password
#Target1, PasswOrd1
#Target2, PasswOrd2


{{lockup('csvfile', 'target1 file=/tmp/credentials.csv delimiter=,')}} &gt;&gt; PasswOrd1
</pre>
</div>

<p>
There are other type of Lookups like INI,DNS,mongodb
Source : Web : Ansible Documentation &gt; Playbooks:Special Topic &gt; Lookups 
</p>
</div>
</div>
<div id="outline-container-org6a3d493" class="outline-4">
<h4 id="org6a3d493">Vault</h4>
<div class="outline-text-4" id="text-org6a3d493">
<p>
We are storing password in host or inventory file 
Ansible vault help to encript the host or inventory file
</p>
<div class="org-src-container">
<pre class="src src-sh"># To encrypth inventory file
ansible-vault encrypt inventory.txt
# $ask for password


# run encrypted inventory file
ansible-playbook test.yml -i inventory.txt -ask-vault-pass

# pass file(vault_pass) containing password
ansible-playbook test.yml -i inventory.txt -valt-password-file ~./vault_pass

# pass script(vault_pass.py) containing password
ansible-playbook test.yml -i inventory.txt -valt-password-file ~./vault_pass.py

# view contant of encrpyted file 
ansible-vault view inventory.txt

# To create an encrypted file 
ansible-vault create inventory.txt

</pre>
</div>
</div>
</div>
<div id="outline-container-org68331df" class="outline-4">
<h4 id="org68331df">Dynamic Inventory</h4>
<div class="outline-text-4" id="text-org68331df">
<div class="org-src-container">
<pre class="src src-python">#!/usr/bin/env python

import json

def get_inventory_data():
    return {
	'databases': {
	    'hosts': [ip_address],
	    'vars': {
	       "ansible_ssh_pass":"PasswOrd",
	       "ansible_ssh_host":"192.168.1.1"
	    }
	}
	'web': {
	    'hosts': ["web_servers"],
	     'vars' : {
	       "ansible_ssh_pass":"PasswOrd2",
	       "ansible_ssh_host":"192.168.1.2"  
		}
	    }
	}

if __name__ == '__main__':
    inventory_data = get_inventory_data()
    print(json.dumps(inventory_data))

</pre>
</div>
</div>
</div>
<div id="outline-container-orge64fb82" class="outline-4">
<h4 id="orge64fb82">Custom modules</h4>
</div>
<div id="outline-container-orgc6a3880" class="outline-4">
<h4 id="orgc6a3880">Plugins</h4>
</div>
<div id="outline-container-org57ed5bd" class="outline-3">
<h3 id="org57ed5bd">Example</h3>
<div class="outline-text-3" id="text-org57ed5bd">
<div class="org-src-container">
<pre class="src src-sh">---
- name: Play 1
  hosts: test
  become: yes
  tasks:
      - name: Installing the git package
      - yum: name=git state=present

2))
---
---
- hosts: all
  become: yes
  tasks:
      - name: copying the files from server to client
      - copy: src=/etc/passwd dest=/opt

3))
----
---
- hosts: all
  become: yes
  tasks:
      - name: Installing multiple packages
      - yum: state=present name={{ item }}
   with_items:
- git
- wget
- httpd
- tar
- vim
4))

---
- hosts: all
become: yes
tasks:
- name: Installing jenkins
yum:
name: /opt/jenkins-2.129-1.1.noarch.rpm
state: present
- service:
name=jenkins state=started

5))
----
---
- hosts: all
become: yes
tasks:
- name: Sample playbooks
yum: name=httpd state=present
- name: starting httpd services
service: name=httpd state=started




- hosts: appserver

remote_user: ansible1

become: true

tasks:
- name: Install Apache Webserver
yum: pkg=httpd state=latest
- name: restart apache
service: name=httpd state=restarted

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8df2695" class="outline-2">
<h2 id="org8df2695">Next Topics to covered</h2>
<div class="outline-text-2" id="text-org8df2695">
</div>
<div id="outline-container-org4a600f5" class="outline-3">
<h3 id="org4a600f5"><span class="todo TODO">TODO</span> Continuous Deployment</h3>
</div>
<div id="outline-container-orgab6cbaf" class="outline-3">
<h3 id="orgab6cbaf"><span class="todo TODO">TODO</span> Phase 5: Continuous Monitoring</h3>
<div class="outline-text-3" id="text-orgab6cbaf">
<p>
(Tools Used: Splunk, ELK Stack, Nagios, New Relic)
Nagios: is a monitoring tool
</p>

<ul class="org-ul">
<li>disc space</li>
<li>services</li>
<li>URL avaialbility</li>
</ul>


<p>
www.dev-facbook.com
www.sit-facebook.com
www.preprod-facebook.com
www.prod-facebook.com
</p>

<p>
master - nagios
</p>

<p>
slave - linux  NRPE 
window - slave NSclient
</p>
</div>
</div>
<div id="outline-container-org287bc83" class="outline-3">
<h3 id="org287bc83">Real Time Sceanior</h3>
<div class="outline-text-3" id="text-org287bc83">
<p>
Real time there are 5 environment
</p>
<ul class="org-ul">
<li>dev env</li>
<li>sit env</li>
<li>uat env</li>
<li>pre production</li>
<li>production</li>
</ul>

<p>
(development, sit (System Integration and Testing),uat (User Acceptance Testing),prod)
Real time : In dev env has 6 servers : shared a and shared b
sit -6
uat -9 servers (performance is also tested)
pre-production (16 -servers)
production (20-servers)
</p>

<p>
`
</p>
</div>
</div>
</div>



<div id="outline-container-org23eaf6d" class="outline-2">
<h2 id="org23eaf6d">Docker app for examin or mqc app</h2>
<div class="outline-text-2" id="text-org23eaf6d">
<p>
<a href="https://www.youtube.com/watch?v=-FbRu0akVIw">https://www.youtube.com/watch?v=-FbRu0akVIw</a>
django app but need to modify the the concent 
</p>

<p>
gate cse django app  carbaon copy of above  but nicely optimized
<a href="https://www.youtube.com/watch?v=c3E3tfMK34w">https://www.youtube.com/watch?v=c3E3tfMK34w</a>
Docker file 
<a href="https://github.com/aryan29/Quizoo">https://github.com/aryan29/Quizoo</a>
surveyjs
<a href="https://www.youtube.com/watch?v=Klo5b3d7Qfo">https://www.youtube.com/watch?v=Klo5b3d7Qfo</a>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Karthik</p>
<p class="date">Created: 2023-03-16 Thu 11:43</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
