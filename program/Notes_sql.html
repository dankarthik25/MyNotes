<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-03-16 Thu 11:42 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>mysql</title>
<meta name="author" content="Mike Dane" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="icon" type="image/png" href="https://deepalgorithms.in/assets/icons/favicon.png">
<link rel="stylesheet" type="text/css" href="readtheorg-htmlize.css"/>
<link rel="stylesheet" type="text/css" href="readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="https://fniessen.github.io/org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">mysql</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org8c53f80">Introduction (0:00)</a></li>
<li><a href="#orgad69ad1">What is a Database? (2:36)</a>
<ul>
<li><a href="#orga4193fd">What is Database (DB) ?</a></li>
<li><a href="#org47c61f2">Datebases can be stored in different ways</a></li>
<li><a href="#orga8f0c01">Advantage of Database</a></li>
<li><a href="#orgaaa465f">Database Management System</a></li>
<li><a href="#orgf524c8f">CRUD : Create Read Update Delete</a></li>
<li><a href="#orge6b6b75">Type of Databases</a></li>
<li><a href="#orga3a0d43">Relational Databases Management System (RDMS)</a></li>
<li><a href="#org0e390ba">Non- Relational Databases (no-SQL/not just SQL )</a></li>
<li><a href="#orgf5bc200">Non-Relation Database Management System (NRDBMS)</a></li>
<li><a href="#org4200e5e">Database Queries</a></li>
<li><a href="#orgd5e32c0">Wrap Up</a></li>
</ul>
</li>
<li><a href="#orgd6a221b">Tables &amp; Keys (23:10)</a></li>
<li><a href="#org86e11b4">SQL Basics  (43:31)</a>
<ul>
<li><a href="#org5c9bdc2">Structured Qured Language (SQL)</a></li>
<li><a href="#orgc5ce57f">Queries</a></li>
</ul>
</li>
<li><a href="#orgd16f995">Installation</a>
<ul>
<li><a href="#org6d9e3f7">MySQL Windows Installation  (52:26)</a></li>
<li><a href="#org735e8c0">MySQL Mac Installation  (1:01:59)</a></li>
<li><a href="#org5699c15"><span class="todo TODO">TODO</span> Linux Installation</a></li>
</ul>
</li>
<li><a href="#org50f37a0">Creating Tables (1:15:49)</a>
<ul>
<li><a href="#org33d99f5">DataType in sql</a></li>
<li><a href="#org666f347">Create a table</a></li>
<li><a href="#orgff54b84">Show table</a></li>
</ul>
</li>
<li><a href="#org43cfaba">Inserting Data (1:31:05)</a></li>
<li><a href="#org20dddb5">Constraints (1:38:17)</a></li>
<li><a href="#org3221461">Update &amp; Delete (1:48:11)</a>
<ul>
<li><a href="#orgdf2ab29">Update</a></li>
<li><a href="#org02d589b">Delete</a></li>
</ul>
</li>
<li><a href="#orgc0a536e">Basic Queries (1:56:11)</a></li>
<li><a href="#org0504a76">Company Database Intro (2:08:37)</a></li>
<li><a href="#org48d4fc6">Creating Company Database  (2:14:05)</a>
<ul>
<li><a href="#org73c361c">Create Tables</a></li>
<li><a href="#org5aa91f8">Insert</a></li>
</ul>
</li>
<li><a href="#org4936b75">More Basic Queries  (2:30:27 )</a></li>
<li><a href="#org15a184f">Functions (2:26:24)</a></li>
<li><a href="#org6b322e3">Wildcards (2:45:13)</a></li>
<li><a href="#org591bfed">Union  (2:53:53)</a></li>
<li><a href="#orgd119af9">Joins  (3:01:36)</a></li>
<li><a href="#org5f50e60">Nested Querie  (3:11:49)</a></li>
<li><a href="#org4ea5aab">On Delete entry when they have foreign in them  (3:21:52)</a></li>
<li><a href="#orgd921755">Triggers  (3:30:05)</a></li>
<li><a href="#org3069a21">ER Diagrams Intro  (3:42:12)</a></li>
<li><a href="#org37fff30">Designing an ER Diagram (3:55:53)</a>
<ul>
<li><a href="#orga158a3a">Company Data Storage Requirements</a></li>
</ul>
</li>
<li><a href="#org99af91e">Converting ER Diagrams to Schemas and  ER Diagram Mapping (4:08:34)</a></li>
<li><a href="#org12c56dc">TO DO EER Diagram</a></li>
<li><a href="#org8fbd2b2">ToDo Link database with class in python</a></li>
<li><a href="#org2e46ab0">Same SQL Note on sqllite, postgresql, sqlalchemy</a></li>
</ul>
</div>
</div>
<p>
Mysql : <a href="https://www.youtube.com/watch?v=HXV3zeQKqGY">https://www.youtube.com/watch?v=HXV3zeQKqGY</a>
</p>
<ul class="org-ul">
<li>freeCodeCamp.org</li>
<li>Mike Dane</li>
</ul>

<div id="outline-container-org8c53f80" class="outline-2">
<h2 id="org8c53f80">Introduction (0:00)</h2>
</div>
<div id="outline-container-orgad69ad1" class="outline-2">
<h2 id="orgad69ad1">What is a Database? (2:36)</h2>
<div class="outline-text-2" id="text-orgad69ad1">
</div>
<div id="outline-container-orga4193fd" class="outline-3">
<h3 id="orga4193fd">What is Database (DB) ?</h3>
<div class="outline-text-3" id="text-orga4193fd">
<p>
Orgainsed way of storing the data 
</p>
<ul class="org-ul">
<li>Any collection of related information
<ul class="org-ul">
<li>Phone Book</li>
<li>Shopping List</li>
<li>Todo List</li>
<li>Your 5 best friends</li>
<li>Facebook User Base</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org47c61f2" class="outline-3">
<h3 id="org47c61f2">Datebases can be stored in different ways</h3>
<div class="outline-text-3" id="text-org47c61f2">
<ul class="org-ul">
<li>On paper</li>
<li>In your mind</li>
<li>On a computer</li>
<li>powerpoint</li>
<li>Comments Section</li>
</ul>
</div>
</div>
<div id="outline-container-orga8f0c01" class="outline-3">
<h3 id="orga8f0c01">Advantage of Database</h3>
<div class="outline-text-3" id="text-orga8f0c01">
<ul class="org-ul">
<li>Keeps track of Products, Reviews, Purchase Order, CreditCards, User, Media, etc</li>
<li>Trillions of pieces of information need to be stored and readily avaiable</li>
<li>Information is extremely valuable and critical to functioning</li>
<li>Security is essential, stores peoples personal information
<ul class="org-ul">
<li>Credit card, , Address, phone</li>
</ul></li>
<li>Information is stored on a computer</li>
</ul>
</div>
</div>
<div id="outline-container-orgaaa465f" class="outline-3">
<h3 id="orgaaa465f">Database Management System</h3>
<div class="outline-text-3" id="text-orgaaa465f">
<ul class="org-ul">
<li>A special software program  that help users create and maintain a database
<ul class="org-ul">
<li>Makes it easy to manage large amount of information</li>
<li>Handles Security</li>
<li>Backups</li>
<li>Importing/exporting data</li>
<li>Concurrency</li>
<li>Interacts with sofware application
<ul class="org-ul">
<li>Programming Language</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgf524c8f" class="outline-3">
<h3 id="orgf524c8f">CRUD : Create Read Update Delete</h3>
</div>
<div id="outline-container-orge6b6b75" class="outline-3">
<h3 id="orge6b6b75">Type of Databases</h3>
<div class="outline-text-3" id="text-orge6b6b75">
<ul class="org-ul">
<li>Relational Databases (SQL)
<ul class="org-ul">
<li>Organize data into one or more tables
<ul class="org-ul">
<li>Each table has columns and rows</li>
<li>A unique key identifiers each row</li>
</ul></li>
</ul></li>

<li>Non- Relation (noSQL/not just SQL)
<ul class="org-ul">
<li>Key-value stores</li>
<li>Documents (JSON, XML,etc)</li>
<li>Graphs,</li>
<li>Flexible Tables</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-orga3a0d43" class="outline-3">
<h3 id="orga3a0d43">Relational Databases Management System (RDMS)</h3>
<div class="outline-text-3" id="text-orga3a0d43">
<ul class="org-ul">
<li>Help users create and maintain a relation database
<ul class="org-ul">
<li>mySQL, Oracle, postgreSQL, mariaDB, etc.</li>
</ul></li>
<li>Structured Query Language (SQL)
<ul class="org-ul">
<li>Standardized language for interacting with RDMS</li>
<li>Used to perform <code>CRUD</code> operatoins, as well other administrative task (user management, security , backup, etc)</li>
<li>SQL code used on one RDMS is not always portable to another without modification.</li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org0e390ba" class="outline-3">
<h3 id="org0e390ba">Non- Relational Databases (no-SQL/not just SQL )</h3>
<div class="outline-text-3" id="text-org0e390ba">

<div id="org5bebb7b" class="figure">
<p><img src="./images/Screenshot2022-08-21T21-21-23.png" alt="Screenshot2022-08-21T21-21-23.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgf5bc200" class="outline-3">
<h3 id="orgf5bc200">Non-Relation Database Management System (NRDBMS)</h3>
<div class="outline-text-3" id="text-orgf5bc200">
<ul class="org-ul">
<li>Help users create and maintain a relation database
<ul class="org-ul">
<li>mongoDB, dynamoDB, apache cassandra, firebase, etc.</li>
</ul></li>
<li>Implementation Specific
<ul class="org-ul">
<li>Any non-relational database falls under this category, so there's no set language standard.</li>
<li>Monst NRDBMS will implement their own language for performing <code>CRUD</code> and administrative operations on the database.</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org4200e5e" class="outline-3">
<h3 id="org4200e5e">Database Queries</h3>
<div class="outline-text-3" id="text-org4200e5e">
<ul class="org-ul">
<li>Database Queries are requests made to the database management system for specific information</li>
<li>As the database's structe become more and more complex, it becomes more difficult to get the specific pieces of information we want.</li>
<li>A google seach is a query</li>
</ul>
</div>
</div>

<div id="outline-container-orgd5e32c0" class="outline-3">
<h3 id="orgd5e32c0">Wrap Up</h3>
<div class="outline-text-3" id="text-orgd5e32c0">
<ul class="org-ul">
<li>Database is any collection of related information</li>
<li>Computer are great for storing database</li>
<li>Database Management System (DBMS) make it easy to create, maintain and secure a database.</li>
<li>DBMS allow you to  perform the CRUD operation and other administrative tasks</li>
<li>Two types of Databases, Relational &amp; Non-Relational</li>
<li>Relational dataases use SQL and store data in tables with rows and columns</li>
<li>Non- Relational data stor data using other data structure</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-orgd6a221b" class="outline-2">
<h2 id="orgd6a221b">Tables &amp; Keys (23:10)</h2>
<div class="outline-text-2" id="text-orgd6a221b">
<ul class="org-ul">
<li>Relational db OR Table consist of row and columns with header</li>
<li>has atleast one unique key</li>
<li><p>
table are linke by a <code>foregin key</code> in main table
</p>

<div id="org49825e6" class="figure">
<p><img src="./images/company-database.png" alt="company-database.png" />
</p>
</div></li>

<li><code>Composit key or composit key</code>
<ul class="org-ul">
<li>eg: Branch Supplier : the primary key is combination of both <code>branch_id</code> and <code>supplier_name</code></li>
</ul></li>
</ul>
</div>
</div>

<div id="outline-container-org86e11b4" class="outline-2">
<h2 id="org86e11b4">SQL Basics  (43:31)</h2>
<div class="outline-text-2" id="text-org86e11b4">
</div>
<div id="outline-container-org5c9bdc2" class="outline-3">
<h3 id="org5c9bdc2">Structured Qured Language (SQL)</h3>
<div class="outline-text-3" id="text-org5c9bdc2">
<ul class="org-ul">
<li>SQL is a language used for interacting with Relational Database Management Systems (RDMS)
<ul class="org-ul">
<li>You can use SQL to get the RDBMS to do things for you
<ul class="org-ul">
<li>Create, retrive, update &amp; delete data</li>
<li>Create &amp; Manage databases</li>
<li>Design &amp; create databases tables</li>
<li>Perform administration tasks (security, user management, import/export, etc)</li>
</ul></li>
</ul></li>
<li>SQL implementations vary between systems
<ul class="org-ul">
<li>Not all RDMS follow the SQL strandard to a 'T'</li>
<li>The concpets are the same but the implementatin may vary</li>
</ul></li>

<li>SQL is actually a hybrid language, it's basically 4 types of languages in one
<ul class="org-ul">
<li><b>Data Query Language (DQL)</b>
<ul class="org-ul">
<li>Used to query the database for information.</li>
<li>Get information that is already stored there</li>
</ul></li>
<li><b>Data Definition Language(DDL)</b>
<ul class="org-ul">
<li>Used for defining database schemas.</li>
</ul></li>
<li><b>Data Control Language (DCL)</b>
<ul class="org-ul">
<li>Used for contorlling access to the data in database.</li>
<li>Used &amp; permission magnement</li>
</ul></li>
<li><b>Data Manipualtion Lanaguage (DML)</b>
<ul class="org-ul">
<li>Used for inserting, updating and deleting data from the database</li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-orgc5ce57f" class="outline-3">
<h3 id="orgc5ce57f">Queries</h3>
<div class="outline-text-3" id="text-orgc5ce57f">
<ul class="org-ul">
<li>A quer is a set of instructions given to the RDBMS (written is SQL ) that tell the RDMS what information you want in to retrive for you
<ul class="org-ul">
<li>TONS of data in a DB</li>
<li>Often hidden in a complex schemas</li>
<li><p>
Goal is to only get teh data
</p>
<div class="org-src-container">
<pre class="src src-sql">SELECT employee.name , employee.age
FROM employee
WHERE employee.salary &gt; 3000 ;
</pre>
</div></li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-orgd16f995" class="outline-2">
<h2 id="orgd16f995">Installation</h2>
<div class="outline-text-2" id="text-orgd16f995">
</div>
<div id="outline-container-org6d9e3f7" class="outline-3">
<h3 id="org6d9e3f7">MySQL Windows Installation  (52:26)</h3>
<div class="outline-text-3" id="text-org6d9e3f7">
<p>
mysql and
pop-sql to visuallize the 
install mysql community edition
</p>

<ul class="org-ul">
<li>Download mySQL Community Server - <a href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a>
<ul class="org-ul">
<li>Be sure to go to the windows installer page</li>
</ul></li>
<li>Run installer</li>
<li>Choose ‘Custom Installation’ and install the server and the shell</li>
<li>Create a root password</li>
<li>Go into start menu, open MySQL Shell and login</li>
<li><p>
Create a database
</p>
<div class="org-src-container">
<pre class="src src-sql">CREATE DATABASE giraffe_db;
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org735e8c0" class="outline-3">
<h3 id="org735e8c0">MySQL Mac Installation  (1:01:59)</h3>
<div class="outline-text-3" id="text-org735e8c0">
<ul class="org-ul">
<li>Download mySQL Community Server - <a href="https://dev.mysql.com/downloads/mysql/">https://dev.mysql.com/downloads/mysql/</a></li>
<li>Run installer</li>
<li>Write down temporary password</li>
<li>Open ‘MySQL’ in System Preferences and start the server</li>
<li><p>
Configure Termianl command line to recognize ‘mysql’ command
</p>
<div class="org-src-container">
<pre class="src src-sh">echo ‘export PATH=/usr/local/mysql/bin:$PATH’ &gt;&gt; ~/.bash_profile
. ~/.bash_profile
</pre>
</div></li>
<li>Login with root user <code>mysql -u root -p</code>
<ul class="org-ul">
<li>Enter temporary password from step 3 when prompted
Change temporary password</li>
</ul></li>
</ul>
<div class="org-src-container">
<pre class="src src-sql">ALTER USER 'root'@'localhost' IDENTIFIED BY 'new_password';
</pre>
</div>
<ul class="org-ul">
<li><p>
Test to make sure new password worked
</p>
<div class="org-src-container">
<pre class="src src-sh">exit
mysql -u root -p # - Enter new password when prompted
</pre>
</div></li>
<li><p>
Create a database
</p>
<div class="org-src-container">
<pre class="src src-sql">CREATE DATABASE giraffe_db;
</pre>
</div></li>
</ul>




<p>
Done!
</p>
</div>
</div>

<div id="outline-container-org5699c15" class="outline-3">
<h3 id="org5699c15"><span class="todo TODO">TODO</span> Linux Installation</h3>
</div>
</div>
<div id="outline-container-org50f37a0" class="outline-2">
<h2 id="org50f37a0">Creating Tables (1:15:49)</h2>
<div class="outline-text-2" id="text-org50f37a0">
</div>
<div id="outline-container-org33d99f5" class="outline-3">
<h3 id="org33d99f5">DataType in sql</h3>
<div class="outline-text-3" id="text-org33d99f5">
<div class="org-src-container">
<pre class="src src-sql">INT                           -- Whole Numbers
DECIMAL(M,N)                  -- Decimal Numbers - Exact Value
			      -- M : total no of digits in Number
			      -- N : total no of decimal places in Number

VARCHAR(l)                    -- String of text of length l
BLOB                          -- Binary Large Object, Stores large data
			      -- images, files 
DATE                          -- 'YYYY-MM-DD'
TIMESTAMP                     -- 'YYYY-MM-DD HH:MM:SS' - used for recording events
</pre>
</div>
</div>
</div>
<div id="outline-container-org666f347" class="outline-3">
<h3 id="org666f347">Create a table</h3>
<div class="outline-text-3" id="text-org666f347">
<div class="org-src-container">
<pre class="src src-sql">
-- Creating tables
CREATE TABLE student (
  student_id INT PRIMARY KEY,
  name VARCHAR(40),
  major VARCHAR(40)
  -- PRIMARY KEY(student_id)
);

DESCRIBE student; -- show table 
DROP TABLE student; -- delete table student 
ALTER TABLE student ADD gpa DECIMAL;
ALTER TABLE student DROP COLUMN gpa;

</pre>
</div>
</div>
</div>
<div id="outline-container-orgff54b84" class="outline-3">
<h3 id="orgff54b84">Show table</h3>
<div class="outline-text-3" id="text-orgff54b84">
<p>
source : <a href="https://database.guide/4-ways-to-list-all-tables-in-a-mysql-database/">https://database.guide/4-ways-to-list-all-tables-in-a-mysql-database/</a>
</p>
<div class="org-src-container">
<pre class="src src-sqls">SHOW TABLES;
</pre>
</div>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Tables<sub>in</sub><sub>music</sub></td>
</tr>
</tbody>
</table>
<p>
<del>-----------------</del>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Albums</td>
</tr>

<tr>
<td class="org-left">Artists</td>
</tr>

<tr>
<td class="org-left">Genres</td>
</tr>

<tr>
<td class="org-left">valbumsartists</td>
</tr>

<tr>
<td class="org-left">valbumsgenres</td>
</tr>

<tr>
<td class="org-left">vallalbums</td>
</tr>

<tr>
<td class="org-left">vallartists</td>
</tr>

<tr>
<td class="org-left">vallgenres</td>
</tr>
</tbody>
</table>

<pre class="example">
SHOW FULL TABLES;
</pre>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Tables<sub>in</sub><sub>music</sub></td>
<td class="org-left">Table<sub>type</sub></td>
</tr>
</tbody>
</table>
<p>
<del>-----------------</del>-------&#x2013;&#x2014;+
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Albums</td>
<td class="org-left">BASE TABLE</td>
</tr>

<tr>
<td class="org-left">Artists</td>
<td class="org-left">BASE TABLE</td>
</tr>

<tr>
<td class="org-left">Genres</td>
<td class="org-left">BASE TABLE</td>
</tr>

<tr>
<td class="org-left">valbumsartists</td>
<td class="org-left">VIEW</td>
</tr>

<tr>
<td class="org-left">valbumsgenres</td>
<td class="org-left">VIEW</td>
</tr>

<tr>
<td class="org-left">vallalbums</td>
<td class="org-left">VIEW</td>
</tr>

<tr>
<td class="org-left">vallartists</td>
<td class="org-left">VIEW</td>
</tr>

<tr>
<td class="org-left">vallgenres</td>
<td class="org-left">VIEW</td>
</tr>
</tbody>
</table>

<pre class="example">
SHOW FULL TABLES
WHERE Table_type = 'BASE TABLE';
</pre>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Tables<sub>in</sub><sub>music</sub></td>
<td class="org-left">Table<sub>type</sub></td>
</tr>
</tbody>
</table>
<p>
<del>-----------------</del>-------&#x2013;&#x2014;+
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Albums</td>
<td class="org-left">BASE TABLE</td>
</tr>

<tr>
<td class="org-left">Artists</td>
<td class="org-left">BASE TABLE</td>
</tr>

<tr>
<td class="org-left">Genres</td>
<td class="org-left">BASE TABLE</td>
</tr>
</tbody>
</table>


<pre class="example">
SHOW TABLES
LIKE 'a%';
</pre>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Tables<sub>in</sub><sub>music</sub> (a%)</td>
</tr>
</tbody>
</table>
<p>
<del>----------------------</del>
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left">Albums</td>
</tr>

<tr>
<td class="org-left">Artists</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org43cfaba" class="outline-2">
<h2 id="org43cfaba">Inserting Data (1:31:05)</h2>
<div class="outline-text-2" id="text-org43cfaba">
<div class="org-src-container">
<pre class="src src-sql">INSERT INTO student VALUES(1, 'Jack', 'Biology');
INSERT INTO student VALUES(2, 'Kate', 'Sociology');
INSERT INTO student(student_id, name) VALUES(3, 'Claire');
INSERT INTO student VALUES(4, 'Jack', 'Biology');
INSERT INTO student VALUES(5, 'Mike', 'Computer Science');
</pre>
</div>
</div>
</div>
<div id="outline-container-org20dddb5" class="outline-2">
<h2 id="org20dddb5">Constraints (1:38:17)</h2>
<div class="outline-text-2" id="text-org20dddb5">
<div class="org-src-container">
<pre class="src src-sql">CREATE TABLE student (
  student_id INT PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(40) NOT NULL,
  -- name VARCHAR(40) UNIQUE,
  major VARCHAR(40) DEFAULT 'undecided',
);
</pre>
</div>
</div>
</div>
<div id="outline-container-org3221461" class="outline-2">
<h2 id="org3221461">Update &amp; Delete (1:48:11)</h2>
<div class="outline-text-2" id="text-org3221461">
</div>
<div id="outline-container-orgdf2ab29" class="outline-3">
<h3 id="orgdf2ab29">Update</h3>
<div class="outline-text-3" id="text-orgdf2ab29">
<div class="org-src-container">
<pre class="src src-sql">UPDATE student
SET major = 'Undecided';

UPDATE student
SET name = 'Johnny'
WHERE student_id = 4;

UPDATE student
SET major = 'Biological Sciences'
WHERE major = 'Biology';

UPDATE student
SET major = 'Biosociology'
WHERE major = 'Biology' OR major = 'sociology'

UPDATE student
SET major = 'Undecided', name = 'Tom'
WHERE student_id = 4;

</pre>
</div>
</div>
</div>
<div id="outline-container-org02d589b" class="outline-3">
<h3 id="org02d589b">Delete</h3>
<div class="outline-text-3" id="text-org02d589b">
<div class="org-src-container">
<pre class="src src-sql">DELETE FROM student;

DELETE FROM student
WHERE student_id = 4;

DELETE FROM student
WHERE major = 'Sociology' AND name = 'Kate';


</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc0a536e" class="outline-2">
<h2 id="orgc0a536e">Basic Queries (1:56:11)</h2>
<div class="outline-text-2" id="text-orgc0a536e">
<div class="org-src-container">
<pre class="src src-sql">SELECT *
FROM student;

SELECT student.name, student.major
FROM student;

SELECT student.name, student.major
FROM student
ORDER BY name;

SELECT student.name, student.major
FROM student
ORDER BY name DESC;

SELECT student.name, student.major
FROM student
ORDER BY major name  ASC;

-- Limit n : show only the top n result 
SELECT student.name, student.major
FROM student
ORDER BY major name  ASC;
LIMIT 2;

-- WHERE
-- Condtions in where are
-- [ &lt;, &gt;, &lt;=, &gt;=, =,&lt;&gt;(NOT Equal), AND, OR]

SELECT *
FROM student
WHERE name = 'Jack';

SELECT *
FROM student
WHERE student_id &gt; 2;

SELECT *
FROM student
-- show all student whoes id is &lt; 2 and don't include Jack 
WHERE student_id &lt;= 2 AND name &lt;&gt; 'Jack';

SELECT *
FROM student
WHERE major = 'Biology' AND student_id &gt; 1;
-- IN
SELECT *
FROM student
WHERE major IN ('Biology', 'Chemistry') AND student_id &gt;2;

</pre>
</div>
</div>
</div>
<div id="outline-container-org0504a76" class="outline-2">
<h2 id="org0504a76">Company Database Intro (2:08:37)</h2>
<div class="outline-text-2" id="text-org0504a76">

<div id="orga898142" class="figure">
<p><img src="./images/company-database.png" alt="company-database.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org48d4fc6" class="outline-2">
<h2 id="org48d4fc6">Creating Company Database  (2:14:05)</h2>
<div class="outline-text-2" id="text-org48d4fc6">
</div>
<div id="outline-container-org73c361c" class="outline-3">
<h3 id="org73c361c">Create Tables</h3>
<div class="outline-text-3" id="text-org73c361c">
<div class="org-src-container">
<pre class="src src-sql">
CREATE TABLE employee (
  emp_id INT PRIMARY KEY,
  first_name VARCHAR(40),
  last_name VARCHAR(40),
  birth_day DATE,
  sex VARCHAR(1),
  salary INT,
  super_id INT, -- super_id is foreign key but superviser table is not  created at so 
  branch_id INT -- branch_id is foregin key but branch table is not created at
);

CREATE TABLE branch (
  branch_id INT PRIMARY KEY,
  branch_name VARCHAR(40),
  mgr_id INT,
  mgr_start_date DATE,
  FOREIGN KEY(mgr_id) REFERENCES employee(emp_id) ON DELETE SET NULL
);

-- set branch_id as foreign key in main table employee 
ALTER TABLE employee
ADD FOREIGN KEY(branch_id)
REFERENCES branch(branch_id)
ON DELETE SET NULL;

-- set super_id as foreign key in main table employee 
ALTER TABLE employee
ADD FOREIGN KEY(super_id)
REFERENCES employee(emp_id)
ON DELETE SET NULL;

CREATE TABLE client (
  client_id INT PRIMARY KEY,
  client_name VARCHAR(40),
  branch_id INT,
  FOREIGN KEY(branch_id) REFERENCES branch(branch_id) ON DELETE SET NULL
);

CREATE TABLE works_with (
  emp_id INT,
  client_id INT,
  total_sales INT,
  PRIMARY KEY(emp_id, client_id),
  FOREIGN KEY(emp_id) REFERENCES employee(emp_id) ON DELETE CASCADE,
  FOREIGN KEY(client_id) REFERENCES client(client_id) ON DELETE CASCADE
);

-- This table has composit key require more than 1  field as primary 
CREATE TABLE branch_supplier (
  branch_id INT,
  supplier_name VARCHAR(40),
  supply_type VARCHAR(40),
  PRIMARY KEY(branch_id, supplier_name),
  FOREIGN KEY(branch_id) REFERENCES branch(branch_id) ON DELETE CASCADE
);



</pre>
</div>
</div>
</div>
<div id="outline-container-org5aa91f8" class="outline-3">
<h3 id="org5aa91f8">Insert</h3>
<div class="outline-text-3" id="text-org5aa91f8">
<div class="org-src-container">
<pre class="src src-sql">
----------------------------------------------------------

-- Corporate
INSERT INTO employee VALUES(100, 'David', 'Wallace', '1967-11-17', 'M', 250000, NULL, NULL); -- here branch_id, super_id is not created at 

INSERT INTO branch VALUES(1, 'Corporate', 100, '2006-02-09');

UPDATE employee
SET branch_id = 1
WHERE emp_id = 100;

INSERT INTO employee VALUES(101, 'Jan', 'Levinson', '1961-05-11', 'F', 110000, 100, 1);

-- Scranton
INSERT INTO employee VALUES(102, 'Michael', 'Scott', '1964-03-15', 'M', 75000, 100, NULL);

INSERT INTO branch VALUES(2, 'Scranton', 102, '1992-04-06');

UPDATE employee
SET branch_id = 2
WHERE emp_id = 102;

INSERT INTO employee VALUES(103, 'Angela', 'Martin', '1971-06-25', 'F', 63000, 102, 2);
INSERT INTO employee VALUES(104, 'Kelly', 'Kapoor', '1980-02-05', 'F', 55000, 102, 2);
INSERT INTO employee VALUES(105, 'Stanley', 'Hudson', '1958-02-19', 'M', 69000, 102, 2);

-- Stamford
INSERT INTO employee VALUES(106, 'Josh', 'Porter', '1969-09-05', 'M', 78000, 100, NULL);

INSERT INTO branch VALUES(3, 'Stamford', 106, '1998-02-13');

UPDATE employee
SET branch_id = 3
WHERE emp_id = 106;

INSERT INTO employee VALUES(107, 'Andy', 'Bernard', '1973-07-22', 'M', 65000, 106, 3);
INSERT INTO employee VALUES(108, 'Jim', 'Halpert', '1978-10-01', 'M', 71000, 106, 3);


-- BRANCH SUPPLIER
INSERT INTO branch_supplier VALUES(2, 'Hammer Mill', 'Paper');
INSERT INTO branch_supplier VALUES(2, 'Uni-ball', 'Writing Utensils');
INSERT INTO branch_supplier VALUES(3, 'Patriot Paper', 'Paper');
INSERT INTO branch_supplier VALUES(2, 'J.T. Forms &amp; Labels', 'Custom Forms');
INSERT INTO branch_supplier VALUES(3, 'Uni-ball', 'Writing Utensils');
INSERT INTO branch_supplier VALUES(3, 'Hammer Mill', 'Paper');
INSERT INTO branch_supplier VALUES(3, 'Stamford Lables', 'Custom Forms');

-- CLIENT
INSERT INTO client VALUES(400, 'Dunmore Highschool', 2);
INSERT INTO client VALUES(401, 'Lackawana Country', 2);
INSERT INTO client VALUES(402, 'FedEx', 3);
INSERT INTO client VALUES(403, 'John Daly Law, LLC', 3);
INSERT INTO client VALUES(404, 'Scranton Whitepages', 2);
INSERT INTO client VALUES(405, 'Times Newspaper', 3);
INSERT INTO client VALUES(406, 'FedEx', 2);

-- WORKS_WITH
INSERT INTO works_with VALUES(105, 400, 55000);
INSERT INTO works_with VALUES(102, 401, 267000);
INSERT INTO works_with VALUES(108, 402, 22500);
INSERT INTO works_with VALUES(107, 403, 5000);
INSERT INTO works_with VALUES(108, 403, 12000);
INSERT INTO works_with VALUES(105, 404, 33000);
INSERT INTO works_with VALUES(107, 405, 26000);
INSERT INTO works_with VALUES(102, 406, 15000);
INSERT INTO works_with VALUES(105, 406, 130000);
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org4936b75" class="outline-2">
<h2 id="org4936b75">More Basic Queries  (2:30:27 )</h2>
<div class="outline-text-2" id="text-org4936b75">
<div class="org-src-container">
<pre class="src src-sql">
-- Find all employees
SELECT *
FROM employee;

-- Find all clients
SELECT *
FROM clients;

-- Find all employees ordered by salary
SELECT *
from employee
ORDER BY salary ASC/DESC;

-- Find all employees ordered by sex then name
SELECT *
from employee
ORDER BY sex, name;

-- Find the first 5 employees in the table
SELECT *
from employee
LIMIT 5;

-- Find the first and last names of all employees
SELECT first_name, employee.last_name
FROM employee;

-- Find the forename and surnames names of all employees
SELECT first_name AS forename, employee.last_name AS surname
FROM employee;

-- Find out all the different genders
SELECT DISCINCT sex
FROM employee;
-- Find out all the different branch in company 
SELECT DISCINCT branch_id
FROM employee;


-- Find all male employees
SELECT *
FROM employee
WHERE sex = 'M';

-- Find all employees at branch 2
SELECT *
FROM employee
WHERE branch_id = 2;

-- Find all employee's id's and names who were born after 1969
SELECT emp_id, first_name, last_name
FROM employee
WHERE birth_day &gt;= 1970-01-01;

-- Find all female employees at branch 2
SELECT *
FROM employee
WHERE branch_id = 2 AND sex = 'F';

-- Find all employees who are female &amp; born after 1969 or who make over 80000
SELECT *
FROM employee
WHERE (birth_day &gt;= '1970-01-01' AND sex = 'F') OR salary &gt; 80000;

-- Find all employees born between 1970 and 1975
SELECT *
FROM employee
WHERE birth_day BETWEEN '1970-01-01' AND '1975-01-01';

-- Find all employees named Jim, Michael, Johnny or David
SELECT *
FROM employee
WHERE first_name IN ('Jim', 'Michael', 'Johnny', 'David');
</pre>
</div>
</div>
</div>
<div id="outline-container-org15a184f" class="outline-2">
<h2 id="org15a184f">Functions (2:26:24)</h2>
<div class="outline-text-2" id="text-org15a184f">
<div class="org-src-container">
<pre class="src src-sql">-- Find the number of employees
SELECT COUNT(emp_id)
FROM employee;

-- How many employees has super visor 
SELECT COUNT(super_id)
FROM employee;

-- Find the average of all employee's salaries
SELECT AVG(salary)
FROM employee;

-- Find the sum of all employee's salaries
SELECT SUM(salary)
FROM employee;

-- Find out how many males and females there are
SELECT COUNT(sex), sex
FROM employee
GROUP BY sex

-- Find the total sales of each salesman
SELECT SUM(total_sales), emp_id
FROM works_with
GROUP BY client_id;

-- Find the total amount of money spent by each client
SELECT SUM(total_sales), client_id
FROM works_with
GROUP BY client_id;
</pre>
</div>
</div>
</div>

<div id="outline-container-org6b322e3" class="outline-2">
<h2 id="org6b322e3">Wildcards (2:45:13)</h2>
<div class="outline-text-2" id="text-org6b322e3">
<div class="org-src-container">
<pre class="src src-sql">-- { % : any no.of characters }

-- { _ : any single character}

-- Find any client's who are an LLC
SELECT *
FROM client
WHERE client_name LIKE '%LLC';

-- Find any branch suppliers who are in the label business
SELECT *
FROM branch_supplier
WHERE supplier_name LIKE '% Label%';

-- Find any employee born on the 10th day of the month
SELECT *
FROM employee
WHERE birth_day LIKE '_____10%';

-- Find any clients who are schools
SELECT *
FROM client
WHERE client_name LIKE '%Highschool%';
</pre>
</div>
</div>
</div>
<div id="outline-container-org591bfed" class="outline-2">
<h2 id="org591bfed">Union  (2:53:53)</h2>
<div class="outline-text-2" id="text-org591bfed">
<div class="org-src-container">
<pre class="src src-sql">-- Find a list of employee and branch names
SELECT employee.first_name AS Employee_Branch_Names
FROM employee
UNION
SELECT branch.branch_name
FROM branch;

-- Find a list of all clients &amp; branch suppliers' names
SELECT client.client_name AS Non-Employee_Entities, client.branch_id AS Branch_ID
FROM client
UNION
SELECT branch_supplier.supplier_name, branch_supplier.branch_id
FROM branch_supplier;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd119af9" class="outline-2">
<h2 id="orgd119af9">Joins  (3:01:36)</h2>
<div class="outline-text-2" id="text-orgd119af9">
<p>
There are different type of join
</p>
<ul class="org-ul">
<li>Inter Join</li>
<li>Left Join</li>
<li>Right Join</li>
<li>Full Outer Join</li>
</ul>
<div class="org-src-container">
<pre class="src src-sql">-- Add the extra branch
INSERT INTO branch VALUES(4, "Buffalo", NULL, NULL);

SELECT employee.emp_id, employee.first_name, branch.branch_name
FROM employee
JOIN branch    -- LEFT JOIN, RIGHT JOIN
ON employee.emp_id = branch.mgr_id;
</pre>
</div>
</div>
</div>
<div id="outline-container-org5f50e60" class="outline-2">
<h2 id="org5f50e60">Nested Querie  (3:11:49)</h2>
<div class="outline-text-2" id="text-org5f50e60">
<div class="org-src-container">
<pre class="src src-sql">-- Find names of all employees who have sold over 50,000
SELECT employee.first_name, employee.last_name
FROM employee
WHERE employee.emp_id IN (SELECT works_with.emp_id
			  FROM works_with
			  WHERE works_with.total_sales &gt; 50000);

-- Find all clients who are handles by the branch that Michael Scott manages
-- Assume you know Michael's ID
SELECT client.client_id, client.client_name
FROM client
WHERE client.branch_id = (SELECT branch.branch_id
			  FROM branch
			  WHERE branch.mgr_id = 102);

 -- Find all clients who are handles by the branch that Michael Scott manages
 -- Assume you DONT'T know Michael's ID
 SELECT client.client_id, client.client_name
 FROM client
 WHERE client.branch_id = (SELECT branch.branch_id
			   FROM branch
			   WHERE branch.mgr_id = (SELECT employee.emp_id
						  FROM employee
						  WHERE employee.first_name = 'Michael' AND employee.last_name ='Scott'
						  LIMIT 1));


-- Find the names of employees who work with clients handled by the scranton branch
SELECT employee.first_name, employee.last_name
FROM employee
WHERE employee.emp_id IN (
			 SELECT works_with.emp_id
			 FROM works_with
			 )
AND employee.branch_id = 2;

-- Find the names of all clients who have spent more than 100,000 dollars
SELECT client.client_name
FROM client
WHERE client.client_id IN (
			  SELECT client_id
			  FROM (
				SELECT SUM(works_with.total_sales) AS totals, client_id
				FROM works_with
				GROUP BY client_id) AS total_client_sales
			  WHERE totals &gt; 100000
);
</pre>
</div>
</div>
</div>
<div id="outline-container-org4ea5aab" class="outline-2">
<h2 id="org4ea5aab">On Delete entry when they have foreign in them  (3:21:52)</h2>
<div class="outline-text-2" id="text-org4ea5aab">
<p>
Let consider employee <code>Michael Scott</code> with emp<sub>id</sub> = 102
</p>

<p>
We want to delete the employee but this employee is linked to <code>branch</code> table where he is managaer of branch <code>Scranton</code>
</p>

<p>
Type of Delete entry with Foreign Key
</p>
<ul class="org-ul">
<li>ON Delete set Null</li>
<li>ON Delete set CASCASDE</li>
</ul>
<div class="org-src-container">
<pre class="src src-sql">CREATE TABLE branch (
  branch_id INT PRIMARY KEY,
  branch_name VARCHAR(40),
  mgr_id INT,
  mgr_start_date DATE,
  FOREIGN KEY(mgr_id) REFERENCES employee(emp_id) ON DELETE SET NULL
);

DELETE FROM employee
WHERE emp_id=102;

SELECT * FROM branch; # you can see mag_id columns where it is 102 is replaced by NULL 
SELECT * FROM employee;


-- On delete Cascade

CREATE TABLE branch_supplier (
  branch_id INT,
  supplier_name VARCHAR(40),
  supply_type VARCHAR(40),
  PRIMARY KEY(branch_id, supplier_name),
  FOREIGN KEY(branch_id) REFERENCES branch(branch_id) ON DELETE CASCADE
);

DELETE FROM branch
WHERE branch_id =2;

SELECT * from branch_suppliers; 
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd921755" class="outline-2">
<h2 id="orgd921755">Triggers  (3:30:05)</h2>
<div class="outline-text-2" id="text-orgd921755">
<div class="org-src-container">
<pre class="src src-sql">-- CREATE
--     TRIGGER `event_name` BEFORE/AFTER INSERT/UPDATE/DELETE
--     ON `database`.`table`
--     FOR EACH ROW BEGIN
-- 		-- trigger body
-- 		-- this code is applied to every
-- 		-- inserted/updated/deleted row
--     END;

CREATE TABLE trigger_test (
     message VARCHAR(100)
);




DELIMITER $$
CREATE
    TRIGGER my_trigger BEFORE INSERT
    ON employee
    FOR EACH ROW BEGIN
	INSERT INTO trigger_test VALUES('added new employee');
    END$$
DELIMITER ;
INSERT INTO employee
VALUES(109, 'Oscar', 'Martinez', '1968-02-19', 'M', 69000, 106, 3);


DELIMITER $$
CREATE
    TRIGGER my_trigger BEFORE INSERT
    ON employee
    FOR EACH ROW BEGIN
	INSERT INTO trigger_test VALUES(NEW.first_name);
    END$$
DELIMITER ;
INSERT INTO employee
VALUES(110, 'Kevin', 'Malone', '1978-02-19', 'M', 69000, 106, 3);

DELIMITER $$
CREATE
    TRIGGER my_trigger BEFORE INSERT
    ON employee
    FOR EACH ROW BEGIN
	 IF NEW.sex = 'M' THEN
	       INSERT INTO trigger_test VALUES('added male employee');
	 ELSEIF NEW.sex = 'F' THEN
	       INSERT INTO trigger_test VALUES('added female');
	 ELSE
	       INSERT INTO trigger_test VALUES('added other employee');
	 END IF;
    END$$
DELIMITER ;
INSERT INTO employee
VALUES(111, 'Pam', 'Beesly', '1988-02-19', 'F', 69000, 106, 3);


DROP TRIGGER my_trigger;
</pre>
</div>
</div>
</div>
<div id="outline-container-org3069a21" class="outline-2">
<h2 id="org3069a21">ER Diagrams Intro  (3:42:12)</h2>
<div class="outline-text-2" id="text-org3069a21">
<p>
<b>Entity</b> : An object we want to model &amp; store information about
</p>

<p>
<img src="./images/Screenshot2022-08-22T06-31-06.png" alt="Screenshot2022-08-22T06-31-06.png" />
<b>Attributes</b>- Specific pieces of information about an entity
</p>


<div id="orge7027ff" class="figure">
<p><img src="./images/Screenshot2022-08-22T06-32-48.png" alt="Screenshot2022-08-22T06-32-48.png" />
</p>
</div>


<p>
<b>Primary Key</b> : An attribute's that uniquely identify an entity in the database table
</p>

<div id="org7562e5e" class="figure">
<p><img src="./images/Screenshot2022-08-22T06-33-03.png" alt="Screenshot2022-08-22T06-33-03.png" />
</p>
</div>


<p>
<b>Composite Attribute</b>: An attribute that can be broken up into sub-attributes 
</p>

<div id="org1b7b496" class="figure">
<p><img src="./images/Screenshot2022-08-22T06-33-22.png" alt="Screenshot2022-08-22T06-33-22.png" />
</p>
</div>


<p>
<b>Multi-valued Attribute</b> - An attributes that can have more than one value 
</p>

<div id="orga467b55" class="figure">
<p><img src="./images/Screenshot2022-08-22T06-35-00.png" alt="Screenshot2022-08-22T06-35-00.png" />
</p>
</div>

<p>
<b>Derived Attribute</b> : AN attribute that can be derived from the other attributes
</p>

<div id="orgbf60fe2" class="figure">
<p><img src="./images/Screenshot2022-08-22T06-35-17.png" alt="Screenshot2022-08-22T06-35-17.png" />
</p>
</div>

<p>
<b>Multiple Entities</b>: You can define more than one entity in the diagram
</p>

<div id="orgb222112" class="figure">
<p><img src="./images/Screenshot2022-08-22T06-35-44.png" alt="Screenshot2022-08-22T06-35-44.png" />
</p>
</div>

<p>
<b>Relationships</b> : defines a relationship between two entities
</p>

<p>
<b>Total Participation</b>: All members must participate in the relationship
</p>

<p>
<img src="./images/Screenshot2022-08-22T06-35-59.png" alt="Screenshot2022-08-22T06-35-59.png" />
<b>Overview</b>: 
</p>

<div id="orgcba15f1" class="figure">
<p><img src="./images/erd-template.png" alt="erd-template.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org37fff30" class="outline-2">
<h2 id="org37fff30">Designing an ER Diagram (3:55:53)</h2>
<div class="outline-text-2" id="text-org37fff30">
</div>
<div id="outline-container-orga158a3a" class="outline-3">
<h3 id="orga158a3a">Company Data Storage Requirements</h3>
<div class="outline-text-3" id="text-orga158a3a">
<p>
The company is organized into branches. Each branch has a unique number, a name, and a particular employee who manages it.
</p>

<p>
The company makes it’s money by selling to clients. Each client has a name and a unique number to identify it.
</p>

<p>
The foundation of the company is it’s employees. Each employee has a name, birthday, sex, salary and a unique number.
</p>

<p>
An employee can work for one branch at a time, and each branch will be managed by one of the employees that work there. We’ll also want to keep track of when the current manager started as manager.
</p>

<p>
An employee can act as a supervisor for other employees at the branch, an employee may also act as the supervisor for employees at other branches. An employee can have at most one supervisor.
</p>

<p>
A branch may handle a number of clients, with each client having a name and a unique number to identify it. A single client may only be handled by one branch at a time.
</p>

<p>
Employees can work with clients controlled by their branch to sell them stuff. If nescessary multiple employees can work with the same client. We’ll want to keep track of how many dollars worth of stuff each employee sells to each client they work with.
</p>

<p>
Many branches will need to work with suppliers to buy inventory. For each supplier we’ll keep track of their name and the type of product they’re selling the branch. A single supplier may supply products to multiple branches.
</p>


<div id="orgad50c99" class="figure">
<p><img src="./images/erd-template.png" alt="erd-template.png" />
</p>
</div>

<div id="org769f04f" class="figure">
<p><img src="./images/Screenshot2022-08-22T06-37-24.png" alt="Screenshot2022-08-22T06-37-24.png" />
</p>
</div>

<div id="org2265209" class="figure">
<p><img src="./images/Screenshot2022-08-22T06-37-00.png" alt="Screenshot2022-08-22T06-37-00.png" />
</p>
</div>

<div id="org2a22d88" class="figure">
<p><img src="./images/Screenshot2022-08-22T06-39-04.png" alt="Screenshot2022-08-22T06-39-04.png" />
</p>
</div>

<div id="orgc2574f6" class="figure">
<p><img src="./images/Screenshot2022-08-22T07-10-55.png" alt="Screenshot2022-08-22T07-10-55.png" />
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org99af91e" class="outline-2">
<h2 id="org99af91e">Converting ER Diagrams to Schemas and  ER Diagram Mapping (4:08:34)</h2>
<div class="outline-text-2" id="text-org99af91e">

<div id="orgdddc234" class="figure">
<p><img src="./images/Screenshots_2022-08-22T08-09-45.png" alt="Screenshots_2022-08-22T08-09-45.png" />
</p>
</div>

<div id="org008bd71" class="figure">
<p><img src="./images/Screenshots_2022-08-22T08-09-57.png" alt="Screenshots_2022-08-22T08-09-57.png" />
</p>
</div>

<div id="org9c0b39e" class="figure">
<p><img src="./images/Screenshots_2022-08-22T08-10-25.png" alt="Screenshots_2022-08-22T08-10-25.png" />
</p>
</div>

<div id="org35f9ea0" class="figure">
<p><img src="./images/Screenshots_2022-08-22T08-10-55.png" alt="Screenshots_2022-08-22T08-10-55.png" />
</p>
</div>

<div id="org32d742f" class="figure">
<p><img src="./images/Screenshots_2022-08-22T08-11-51.png" alt="Screenshots_2022-08-22T08-11-51.png" />
</p>
</div>

<div id="orgac10617" class="figure">
<p><img src="./images/Screenshots_2022-08-22T08-12-30.png" alt="Screenshots_2022-08-22T08-12-30.png" />
</p>
</div>

<div id="org29b2785" class="figure">
<p><img src="./images/Screenshots_2022-08-22T08-12-38.png" alt="Screenshots_2022-08-22T08-12-38.png" />
</p>
</div>

<div id="org1b47373" class="figure">
<p><img src="./images/Screenshots_2022-08-22T08-13-15.png" alt="Screenshots_2022-08-22T08-13-15.png" />
</p>
</div>



<div id="orgf3e1d02" class="figure">
<p><img src="./images/company-relations.png" alt="company-relations.png" />
</p>
</div>
</div>
</div>



<div id="outline-container-org12c56dc" class="outline-2">
<h2 id="org12c56dc">TO DO EER Diagram</h2>
<div class="outline-text-2" id="text-org12c56dc">

<div id="org13fc880" class="figure">
<p><img src="./images/eer-db_test.PNG" alt="eer-db_test.PNG" />
</p>
</div>
</div>
</div>


<div id="outline-container-org8fbd2b2" class="outline-2">
<h2 id="org8fbd2b2">ToDo Link database with class in python</h2>
</div>
<div id="outline-container-org2e46ab0" class="outline-2">
<h2 id="org2e46ab0">Same SQL Note on sqllite, postgresql, sqlalchemy</h2>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Mike Dane</p>
<p class="date">Created: 2023-03-16 Thu 11:42</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
